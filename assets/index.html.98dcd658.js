import{_ as o,o as s,c as e,b as n,a as t,d as a}from"./app.7f79d2e7.js";const p={},l=t('<h1 id="hiveql-\u8BED\u8A00\u624B\u518C-ddl\u7BC7" tabindex="-1"><a class="header-anchor" href="#hiveql-\u8BED\u8A00\u624B\u518C-ddl\u7BC7" aria-hidden="true">#</a> HiveQL \u8BED\u8A00\u624B\u518C DDL\u7BC7</h1><h2 id="\u6982\u89C8" tabindex="-1"><a class="header-anchor" href="#\u6982\u89C8" aria-hidden="true">#</a> \u6982\u89C8</h2><p>HiveQL DDL \u6240\u5305\u542B\u7684\u8868\u8FBE\u5F0F\u8BED\u53E5\u5982\u4E0B\uFF1A</p><ul><li>CREATE DATABASE/SCHEMA, TABLE, VIEW, FUNCTION, INDEX</li><li>DROP DATABASE/SCHEMA, TABLE, VIEW, INDEX</li><li>TRUNCATE TABLE</li><li>ALTER DATABASE/SCHEMA, TABLE, VIEW</li><li>MSCK REPAIR TABLE (or ALTER TABLE RECOVER PARTITIONS)</li><li>SHOW DATABASES/SCHEMAS, TABLES, TBLPROPERTIES, VIEWS, PARTITIONS, FUNCTIONS, INDEX[ES], COLUMNS, CREATE TABLE</li><li>DESCRIBE DATABASE/SCHEMA, table_name, view_name, materialized_view_name</li></ul>',4),c={class:"custom-container tip"},r={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},i=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),u=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),d=[i,u],k=n("p",{class:"custom-container-title"},"\u53EF\u9009",-1),h=n("p",null,"PARTITION \u8BED\u53E5\u901A\u5E38\u662F TABLE \u8BED\u53E5\u7684\u53EF\u9009\u9879\uFF0C\u9664\u4E86SHOW PARTITIONS\u3002",-1),g=t('<h2 id="\u5173\u952E\u5B57" tabindex="-1"><a class="header-anchor" href="#\u5173\u952E\u5B57" aria-hidden="true">#</a> \u5173\u952E\u5B57</h2><table><thead><tr><th style="text-align:left;"></th><th style="text-align:left;">\u6240\u6709\u5173\u952E\u5B57</th><th style="text-align:left;"></th></tr></thead><tbody><tr><td style="text-align:left;">\u7248\u672C</td><td style="text-align:left;">\u975E\u4FDD\u7559\u5173\u952E\u5B57</td><td style="text-align:left;">\u4FDD\u7559\u5173\u952E\u5B57</td></tr><tr><td style="text-align:left;">Hive 1.2.0</td><td style="text-align:left;"><code>ADD, ADMIN, AFTER, ANALYZE, ARCHIVE, ASC, BEFORE, BUCKET, BUCKETS, CASCADE, CHANGE, CLUSTER, CLUSTERED, CLUSTERSTATUS, COLLECTION, COLUMNS, COMMENT, COMPACT, COMPACTIONS, COMPUTE, CONCATENATE, CONTINUE, DATA, DATABASES, DATETIME, DAY, DBPROPERTIES, DEFERRED, DEFINED, DELIMITED, DEPENDENCY, DESC, DIRECTORIES, DIRECTORY, DISABLE, DISTRIBUTE, ELEM_TYPE, ENABLE, ESCAPED, EXCLUSIVE, EXPLAIN, EXPORT, FIELDS, FILE, FILEFORMAT, FIRST, FORMAT, FORMATTED, FUNCTIONS, HOLD_DDLTIME, HOUR, IDXPROPERTIES, IGNORE, INDEX, INDEXES, INPATH, INPUTDRIVER, INPUTFORMAT, ITEMS, JAR, KEYS, KEY_TYPE, LIMIT, LINES, LOAD, LOCATION, LOCK, LOCKS, LOGICAL, LONG, MAPJOIN, MATERIALIZED, METADATA, MINUS, MINUTE, MONTH, MSCK, NOSCAN, NO_DROP, OFFLINE, OPTION, OUTPUTDRIVER, OUTPUTFORMAT, OVERWRITE, OWNER, PARTITIONED, PARTITIONS, PLUS, PRETTY, PRINCIPALS, PROTECTION, PURGE, READ, READONLY, REBUILD, RECORDREADER, RECORDWRITER, REGEXP, RELOAD, RENAME, REPAIR, REPLACE, REPLICATION, RESTRICT, REWRITE, RLIKE, ROLE, ROLES, SCHEMA, SCHEMAS, SECOND, SEMI, SERDE, SERDEPROPERTIES, SERVER, SETS, SHARED, SHOW, SHOW_DATABASE, SKEWED, SORT, SORTED, SSL, STATISTICS, STORED, STREAMTABLE, STRING, STRUCT, TABLES, TBLPROPERTIES, TEMPORARY, TERMINATED, TINYINT, TOUCH, TRANSACTIONS, UNARCHIVE, UNDO, UNIONTYPE, UNLOCK, UNSET, UNSIGNED, URI, USE, UTC, UTCTIMESTAMP, VALUE_TYPE, VIEW, WHILE, YEAR</code></td><td style="text-align:left;"><code>ALL, ALTER, AND, ARRAY, AS, AUTHORIZATION, BETWEEN, BIGINT, BINARY, BOOLEAN, BOTH, BY, CASE, CAST, CHAR, COLUMN, CONF, CREATE, CROSS, CUBE, CURRENT, CURRENT_DATE, CURRENT_TIMESTAMP, CURSOR, DATABASE, DATE, DECIMAL, DELETE, DESCRIBE, DISTINCT, DOUBLE, DROP, ELSE, END, EXCHANGE, EXISTS, EXTENDED, EXTERNAL, FALSE, FETCH, FLOAT, FOLLOWING, FOR, FROM, FULL, FUNCTION, GRANT, GROUP, GROUPING, HAVING, IF, IMPORT, IN, INNER, INSERT, INT, INTERSECT, INTERVAL, INTO, IS, JOIN, LATERAL, LEFT, LESS, LIKE, LOCAL, MACRO, MAP, MORE, NONE, NOT, NULL, OF, ON, OR, ORDER, OUT, OUTER, OVER, PARTIALSCAN, PARTITION, PERCENT, PRECEDING, PRESERVE, PROCEDURE, RANGE, READS, REDUCE, REVOKE, RIGHT, ROLLUP, ROW, ROWS, SELECT, SET, SMALLINT, TABLE, TABLESAMPLE, THEN, TIMESTAMP, TO, TRANSFORM, TRIGGER, TRUE, TRUNCATE, UNBOUNDED, UNION, UNIQUEJOIN, UPDATE, USER, USING, UTC_TMESTAMP, VALUES, VARCHAR, WHEN, WHERE, WINDOW, WITH</code></td></tr><tr><td style="text-align:left;">Hive 2.0.0</td><td style="text-align:left;"><em>\u79FB\u9664\uFF1A</em> <code>REGEXP, RLIKE</code><br><em>\u6DFB\u52A0\uFF1A</em> <code>AUTOCOMMIT, ISOLATION, LEVEL, OFFSET, SNAPSHOT, TRANSACTION, WORK, WRITE</code></td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em><code>COMMIT, ONLY, REGEXP, RLIKE, ROLLBACK, START</code></td></tr><tr><td style="text-align:left;">Hive 2.1.0</td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em><code>ABORT, KEY, LAST, NORELY, NOVALIDATE, NULLS, RELY, VALIDATE</code></td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em><code>CACHE, CONSTRAINT, FOREIGN, PRIMARY, REFERENCES</code></td></tr><tr><td style="text-align:left;">Hive 2.2.0</td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em> <code>DETAIL, DOW, EXPRESSION, OPERATOR, QUARTER, SUMMARY, VECTORIZATION, WEEK, YEARS, MONTHS, WEEKS, DAYS, HOURS, MINUTES, SECONDS</code></td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em><code>DAYOFWEEK, EXTRACT, FLOOR, INTEGER, PRECISION, VIEWS</code></td></tr><tr><td style="text-align:left;">Hive 3.0.0</td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em><code>TIMESTAMPTZ, ZONE </code></td><td style="text-align:left;"><em>\u6DFB\u52A0\uFF1A</em><code>TIME, NUMERIC, SYNC</code></td></tr></tbody></table>',2),_={class:"custom-container tip"},m={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},E=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),w=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),v=[E,w],f=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),T=n("p",null,[a("REGEXP \u548C RLIKE \u662F Hive 2.0.0 \u4E4B\u524D\u7684\u975E\u4FDD\u7559\u5173\u952E\u5B57\uFF0C\u4ECEHive 2.0.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-11703",target:"_blank",rel:"noopener noreferrer"},"Hive -11703"),a(")\u5F00\u59CB\u6539\u4E3A\u4FDD\u7559\u5173\u952E\u5B57\u3002")],-1),y=t(`<p>\u4E3A\u51CF\u5C11\u7A0B\u5E8F\u4E2D\u7684\u8BED\u4E49\u51B2\u7A81\uFF0C\u4ECE Hive1.2.0 \u7248\u672C\u5F00\u59CB\u5927\u591A\u6570\u975E\u4FDD\u7559\u5173\u952E\u5B57\u88AB\u52A0\u5165\u5230\u4FDD\u7559\u5173\u952E\u5B57\u4E2D\u3002\u4F46\u662F\u5982\u679C\u7528\u6237\u4ECD\u60F3\u4F7F\u7528\u4FDD\u7559\u5173\u952E\u5B57\u4F5C\u4E3A\u6807\u8BC6\u7B26\uFF0C\u6709\u4E24\u79CD\u65B9\u6CD5\uFF1A</p><ol><li>\u4F7F\u7528\u53CD\u6487\u53F7(\`)\u5C06\u5173\u952E\u5B57\u5305\u88F9\uFF08\u6307\u952E\u76D8Esc\u4E0B\u9762\u7684\u90A3\u4E2A\u7B26\u53F7\uFF09</li><li>\u901A\u8FC7\u8BBE\u7F6E\u7ED5\u8FC7\u5173\u952E\u5B57\u6821\u9A8C\uFF0C<code>set hive.support.sql11.reserved.keywords=false</code>. (\u8FD9\u9700\u8981 Hive 2.1.0 \u4E4B\u540E\u7684\u7248\u672C)</li></ol><h2 id="create-drop-alter-use-database" tabindex="-1"><a class="header-anchor" href="#create-drop-alter-use-database" aria-hidden="true">#</a> Create/Drop/Alter/Use Database</h2><h3 id="create-database" tabindex="-1"><a class="header-anchor" href="#create-database" aria-hidden="true">#</a> Create Database</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token punctuation">[</span>REMOTE<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> database_name
  <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> database_comment<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>LOCATION hdfs_path<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>MANAGEDLOCATION hdfs_path<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">WITH</span> DBPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>`,5),b={class:"custom-container tip"},S={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},A=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),R=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),I=[A,R],H=t('<p class="custom-container-title">\u7248\u672C\u4FE1\u606F</p><p>\u5728Hive 0.6 (<a href="https://issues.apache.org/jira/browse/HIVE-675" target="_blank" rel="noopener noreferrer">Hive -675</a>)\u4E2D\uFF0C\u6DFB\u52A0\u4E86<code>CREATE DATABASE</code>\u5B50\u53E5\u3002</p><p>\u5728Hive 0.7 (<a href="https://issues.apache.org/jira/browse/HIVE-1836" target="_blank" rel="noopener noreferrer">Hive -1836</a>)\u4E2D\uFF0C\u6DFB\u52A0\u4E86<code>WITH DBPROPERTIES</code>\u5B50\u53E5\u3002</p><p>\u5728Hive 4.0.0 (<a href="https://issues.apache.org/jira/browse/HIVE-22995" target="_blank" rel="noopener noreferrer">HIVE-22995</a>)\u4E2D\uFF0C\u6DFB\u52A0\u4E86<code>MANAGEDLOCATION</code>\u5B50\u53E5 \u3002</p>',4),O=t("<ul><li><code>SCHEMA</code>\u548C<code>DATABASE</code>\u7684\u7528\u6CD5\u76F8\u540C\uFF0C\u5728Hive\u4E2D\u5B83\u4EEC\u6240\u4F20\u8FBE\u7684\u610F\u601D\u662F\u4E00\u81F4\u7684\u3002</li><li><code>COMMENT</code>\u7528\u4E8E\u6570\u636E\u5E93\u6DFB\u52A0\u6CE8\u91CA\u3002</li><li><code>LOCATION</code>\u7528\u4E8E\u6307\u5B9A\u5916\u90E8\u8868\u7684\u9ED8\u8BA4\u8DEF\u5F84\u3002</li><li><code>MANAGEDLOCATION</code>\u7528\u4E8E\u6307\u5B9A\u5185\u90E8\u8868\u7684\u9ED8\u8BA4\u8DEF\u5F84\u3002</li><li><code>WITH DBPROPERTIES</code>\u7528\u4E8E\u4E3A\u6570\u636E\u5E93\u6DFB\u52A0\u5176\u4ED6\u5C5E\u6027\u3002</li></ul>",1),L={class:"custom-container tip"},D={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},C=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),x=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),N=[C,x],M=n("p",{class:"custom-container-title"},"\u4F7F\u7528\u5EFA\u8BAE",-1),q=n("p",null,[a("\u5728\u8BBE\u7F6E"),n("code",null,"MANAGEDLOCATION"),a("\u7684\u4F4D\u7F6E\u65F6\uFF0C\u5C3D\u91CF\u4F7F\u5176\u4F4D\u4E8E"),n("code",null,"metastore.warehouse.dir"),a("\uFF08Hive\u6570\u636E\u5E93\u6587\u4EF6\u5B58\u653E\u7684\u6839\u76EE\u5F55\uFF09\u4E2D\uFF0C\u8FD9\u6837\u6240\u6709\u5185\u90E8\u8868\u90FD\u6709\u4E00\u4E2A\u5171\u540C\u7684\u6839\u76EE\u5F55\uFF0C\u6709\u52A9\u4E8E\u6709\u516C\u5171\u7BA1\u7406\u3002\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E"),n("code",null,"metastore.warehouse.tenant.colocation"),a(" \u4F7F\u5176\u4ED6\u4F7F\u7528\u8005\u6709\u4E00\u4E2A\u5C5E\u4E8E\u81EA\u5DF1\u7684\u6839\u76EE\u5F55\uFF0C\u4F7F\u5176\u4E0E\u516C\u5171\u76EE\u5F55\u5206\u79BB\u5F00\uFF0C\u4EE5\u4FBF\u7BA1\u7406\u3002")],-1),P=t(`<h3 id="drop-database" tabindex="-1"><a class="header-anchor" href="#drop-database" aria-hidden="true">#</a> Drop Database</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> database_name <span class="token punctuation">[</span><span class="token keyword">RESTRICT</span><span class="token operator">|</span><span class="token keyword">CASCADE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>`,2),B={class:"custom-container tip"},V={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},U=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Z=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),F=[U,Z],z=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),W=n("p",null,[a("\u5728Hive 0.6 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-675",target:"_blank",rel:"noopener noreferrer"},"Hive -675"),a(")\u4E2D\uFF0C\u6DFB\u52A0\u4E86"),n("code",null,"DROP DATABASE"),a("\u5B50\u53E5 \u3002")],-1),j=n("p",null,[a("\u5728Hive 0.8 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-2090",target:"_blank",rel:"noopener noreferrer"},"HIVE-2090"),a(")\u4E2D\uFF0C\u6DFB\u52A0\u4E86"),n("code",null,"RESTRICT | CASCADE"),a("\u5B50\u53E5\u3002")],-1),G=t(`<ul><li><code>SCHEMA</code>\u548C<code>DATABASE</code>\u7684\u7528\u6CD5\u76F8\u540C\uFF0C\u5728Hive\u4E2D\u5B83\u4EEC\u6240\u4F20\u8FBE\u7684\u610F\u601D\u662F\u4E00\u81F4\u7684\u3002</li><li>\u5728\u6267\u884C<code>Drop Database</code>\u65F6\uFF0C\u9ED8\u8BA4\u4F7F\u7528 <code>RESTRICT</code>\u6A21\u5F0F\uFF0C\u5728\u8BE5\u6A21\u5F0F\u4E0B\uFF0C\u5982\u679C\u5220\u9664\u7684\u6570\u636E\u5E93\u975E\u7A7A\uFF0C\u5219\u4F1A\u6267\u884C\u5931\u8D25\uFF0C\u4ECE\u800C\u4FDD\u62A4\u6570\u636E\u5E93\u88AB\u8BEF\u5220\u3002</li><li>\u5982\u679C\u60F3\u8981\u5728\u5220\u9664\u5E93\u7684\u540C\u65F6\u4E5F\u5C06\u5E93\u4E2D\u6240\u6709\u7684\u8868\u5220\u9664\uFF0C\u9700\u8981\u4F7F\u7528<code>DROP DATABASE ... CASCADE</code>\u8BED\u53E5\uFF08\u66B4\u529B\u64CD\u4F5C\uFF0C\u614E\u7528\uFF09\u3002</li></ul><h3 id="alter-database" tabindex="-1"><a class="header-anchor" href="#alter-database" aria-hidden="true">#</a> Alter Database</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- (Note: SCHEMA added in Hive 0.14.0)</span>
<span class="token keyword">ALTER</span> <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> database_name <span class="token keyword">SET</span> DBPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   

<span class="token comment">-- (Note: Hive 0.13.0 and later; SCHEMA added in Hive 0.14.0)</span>
<span class="token keyword">ALTER</span> <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> database_name <span class="token keyword">SET</span> OWNER <span class="token punctuation">[</span><span class="token keyword">USER</span><span class="token operator">|</span>ROLE<span class="token punctuation">]</span> user_or_role<span class="token punctuation">;</span>   

<span class="token comment">-- (Note: Hive 2.2.1, 2.4.0 and later)</span>
<span class="token keyword">ALTER</span> <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> database_name <span class="token keyword">SET</span> LOCATION hdfs_path<span class="token punctuation">;</span> 

<span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
<span class="token keyword">ALTER</span> <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> database_name <span class="token keyword">SET</span> MANAGEDLOCATION hdfs_path<span class="token punctuation">;</span> 
</code></pre></div>`,3),Y={class:"custom-container tip"},X={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},K=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Q=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),J=[K,Q],$=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),nn=n("p",null,[a("\u5728Hive 0.14 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6601",target:"_blank",rel:"noopener noreferrer"},"HIVE-6601"),a(")\u4E2D\u6DFB\u52A0\u4E86"),n("code",null,"ALTER SCHEMA")],-1),an=n("ul",null,[n("li",null,[n("code",null,"SCHEMA"),a("\u548C"),n("code",null,"DATABASE"),a("\u7684\u7528\u6CD5\u76F8\u540C\uFF0C\u5728Hive\u4E2D\u5B83\u4EEC\u6240\u4F20\u8FBE\u7684\u610F\u601D\u662F\u4E00\u81F4\u7684\u3002")]),n("li",null,[n("code",null,"ALTER DATABASE\u2026SET LOCATION"),a("\u8BED\u53E5\uFF0C\u7528\u4E8E\u4FEE\u6539\u6570\u636E\u5E93\u4E0B\u5916\u8868\u7684\u9ED8\u8BA4\u5B58\u50A8\u76EE\u5F55\u3002\u4E0D\u4F1A\u5C06\u6570\u636E\u5E93\u5F53\u524D\u5DF2\u5B58\u5728\u7684\u76EE\u5F55\u53CA\u6587\u4EF6\u79FB\u52A8\u5230\u65B0\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF0C\u53EA\u6709\u5728\u8BE5\u6570\u636E\u5E93\u4E2D\u6DFB\u52A0\u65B0\u8868\u65F6\u4F7F\u7528\u4FEE\u6539\u540E\u7684\u9ED8\u8BA4\u76EE\u5F55\u3002")]),n("li",null,[n("code",null,"ALTER DATABASE\u2026SET MANAGEDLOCATION"),a("\u8BED\u53E5\uFF0C\u7528\u4E8E\u4FEE\u6539\u6570\u636E\u5E93\u4E0B\u5185\u8868\u7684\u9ED8\u8BA4\u5B58\u50A8\u76EE\u5F55\u3002\u4E0D\u4F1A\u5C06\u6570\u636E\u5E93\u5F53\u524D\u5DF2\u5B58\u5728\u7684\u76EE\u5F55\u53CA\u6587\u4EF6\u79FB\u52A8\u5230\u65B0\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF0C\u53EA\u6709\u5728\u8BE5\u6570\u636E\u5E93\u4E2D\u6DFB\u52A0\u65B0\u8868\u65F6\u4F7F\u7528\u4FEE\u6539\u540E\u7684\u9ED8\u8BA4\u76EE\u5F55\u3002")])],-1),sn={class:"custom-container tip"},en={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},tn=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),on=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),pn=[tn,on],ln=n("p",{class:"custom-container-title"},"TIP",-1),cn=n("p",null,"\u9664\u4E86\u4E0A\u8FF0\u7684\u8FD9\u4E9B\u5143\u6570\u636E\u5916\uFF0C\u6570\u636E\u5E93\u7684\u5176\u4ED6\u5143\u6570\u636E\u4E0D\u652F\u6301\u5728\u521B\u5EFA\u540E\u518D\u4FEE\u6539\u3002",-1),rn=t(`<h3 id="use-database" tabindex="-1"><a class="header-anchor" href="#use-database" aria-hidden="true">#</a> Use Database</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">USE</span> database_name<span class="token punctuation">;</span>
<span class="token keyword">USE</span> <span class="token keyword">DEFAULT</span><span class="token punctuation">;</span>
</code></pre></div>`,2),un={class:"custom-container tip"},dn={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},kn=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),hn=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),gn=[kn,hn],_n=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),mn=n("p",null,[a("\u5728Hive 0.6 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-675",target:"_blank",rel:"noopener noreferrer"},"HIVE-675"),a(")\u4E2D\u6DFB\u52A0\u4E86"),n("code",null,"USE database_name"),a(" \u3002")],-1),En=t(`<ul><li><code>USE DATABASE_NAME</code>\uFF0C\u4E3A\u6240\u6709\u540E\u7EEDHiveQL\u8BED\u53E5\u8BBE\u7F6E\u6307\u5B9A\u6570\u636E\u5E93\u3002</li><li><code>USE DEFAULT</code>\uFF0C\u5C06\u6570\u636E\u5E93\u5207\u6362\u4E3ADEFAULT\u6570\u636E\u5E93\u3002</li><li><code>SELECT current_database()</code>\uFF0C\u67E5\u770B\u5F53\u524D\u6240\u5C5E\u6570\u636E\u5E93 (\u5728<a href="https://issues.apache.org/jira/browse/HIVE-4144" target="_blank" rel="noopener noreferrer">Hive 0.13.0</a>\u4E4B\u540E\u53EF\u7528)\u3002</li></ul><h2 id="create-drop-alter-connector" tabindex="-1"><a class="header-anchor" href="#create-drop-alter-connector" aria-hidden="true">#</a> Create/Drop/Alter Connector</h2><h3 id="create-connector" tabindex="-1"><a class="header-anchor" href="#create-connector" aria-hidden="true">#</a> Create Connector</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> CONNECTOR <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> connector_name
  <span class="token punctuation">[</span><span class="token keyword">TYPE</span> datasource_type<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>URL datasource_url<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> connector_comment<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">WITH</span> DCPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>`,4),wn={class:"custom-container tip"},vn={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},fn=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Tn=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),yn=[fn,Tn],bn=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Sn=n("p",null,[a("\u4ECEHive 4.0.0("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-24396",target:"_blank",rel:"noopener noreferrer"},"Hive -24396"),a(")\u5F00\u59CB\uFF0C\u6DFB\u52A0\u4E86\u5BF9"),n("code",null,"Data connectors"),a("\u7684\u652F\u6301\u3002\u652F\u6301\u57FA\u4E8EJDBC\u7684Connector\uFF08\u5982MYSQL\u3001POSTGRES\u3001DERBY\uFF09\u3002\u540E\u7EED\u5C06\u9010\u6B65\u6DFB\u52A0\u5176\u4ED6\u7C7B\u578B\u7684Connector\u3002")],-1),An=t(`<ul><li><code>TYPE</code> - \u7528\u4E8E\u6307\u5B9A\u8FDC\u7A0B\u6570\u636E\u6E90\u7684\u7C7B\u578B\u3002\u5982\uFF1AMYSQL\u3002\u8BE5\u7C7B\u578B\u51B3\u5B9A\u4E86\u9A71\u52A8\u7A0B\u5E8F\u7C7B\u548C\u53EF\u7528\u7684\u6570\u636E\u6E90\u53C2\u6570\u3002</li><li><code>URL</code> - \u8FDC\u7A0B\u6570\u636E\u6E90\u7684URL\u3002 JDBC \u6570\u636E\u6E90\uFF0C\u586B\u5199 JDBC URL\u3002Hive\u6570\u636E\u6E90\uFF0C\u586B\u5199Thrift URL\u3002</li><li><code>COMMENT</code> - \u8FDE\u63A5\u5668\u7684\u6CE8\u91CA\u53CA\u63CF\u8FF0\u3002</li><li><code>DCPROPERTIES</code>\uFF1A\u8FDE\u63A5\u5668\u7684\u76F8\u5173\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u6BCF\u4E2A\u5C5E\u6027\u8BBE\u5B9A\u5747\u7531\u4E00\u7EC4Key/Value\u7EC4\u6210\u3002</li></ul><h3 id="drop-connector" tabindex="-1"><a class="header-anchor" href="#drop-connector" aria-hidden="true">#</a> Drop Connector</h3><div class="language-text ext-text"><pre class="language-text"><code>DROP CONNECTOR [IF EXISTS] connector_name;
</code></pre></div>`,3),Rn={class:"custom-container tip"},In={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Hn=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),On=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ln=[Hn,On],Dn=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Cn=n("p",null,[a("\u4ECEHive 4.0.0 via "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-24396",target:"_blank",rel:"noopener noreferrer"},"HIVE-24396"),a("\u5F00\u59CB\u3002\u5373\u4FBF\u8BE5Connector\u5DF2\u7ECF\u6620\u5C04\u4E86\u6570\u636E\u5E93\uFF0C\u6267\u884Cdrop\u65F6\u4ECD\u4F1A\u6210\u529F\u3002\u4F46\u5728\u6267\u884C"),n("code",null,"show tables"),a("\u4E4B\u7C7B\u7684ddl\u8BED\u53E5\u65F6\uFF0C\u7528\u6237\u5C06\u770B\u5230\u9519\u8BEF\uFF08Connector\u5DF2\u4E0D\u5B58\u5728\uFF09\u3002")],-1),xn=t(`<h3 id="alter-connector" tabindex="-1"><a class="header-anchor" href="#alter-connector" aria-hidden="true">#</a> Alter Connector</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> CONNECTOR connector_name <span class="token keyword">SET</span> DCPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">ALTER</span> CONNECTOR connector_name <span class="token keyword">SET</span> URL new_url<span class="token punctuation">;</span>
  
<span class="token keyword">ALTER</span> CONNECTOR connector_name <span class="token keyword">SET</span> OWNER <span class="token punctuation">[</span><span class="token keyword">USER</span><span class="token operator">|</span>ROLE<span class="token punctuation">]</span> user_or_role<span class="token punctuation">;</span>
</code></pre></div>`,2),Nn={class:"custom-container tip"},Mn={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},qn=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Pn=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Bn=[qn,Pn],Vn=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Un=n("p",null,[a("\u4ECEHive 4.0.0 via "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-24396",target:"_blank",rel:"noopener noreferrer"},"HIVE-24396"),a("\u5F00\u59CB\uFF0C\u652F\u6301ALTER Connector\u76F8\u5173\u7684\u64CD\u4F5C\u3002")],-1),Zn=t(`<ul><li><code>ALTER CONNECTOR ... SET DCPROPERTIES</code> \uFF0C\u4FEE\u6539\u73B0\u6709\u7684Connector\u5C5E\u6027\u3002</li><li><code>ALTER CONNECTOR ... SET URL</code>\uFF0C \u66FF\u6362\u8FDC\u7A0B\u6570\u636E\u6E90URL\u3002\u4F7F\u7528\u8FDE\u63A5\u5668\u521B\u5EFA\u7684REMOTE\u6570\u636E\u5E93\u90FD\u5C06\u7EE7\u7EED\u5DE5\u4F5C\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u662F\u6309\u540D\u79F0\u5173\u8054\u7684\u3002</li><li><code>ALTER CONNECTOR ... SET OWNER</code> \uFF0C\u66F4\u6539hive\u4E2D\u8FDE\u63A5\u5668\u7684\u6240\u6709\u8005\u3002</li></ul><h2 id="create-drop-truncate-table" tabindex="-1"><a class="header-anchor" href="#create-drop-truncate-table" aria-hidden="true">#</a> Create/Drop/Truncate Table</h2><h3 id="create-table" tabindex="-1"><a class="header-anchor" href="#create-table" aria-hidden="true">#</a> Create Table</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token keyword">TEMPORARY</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>EXTERNAL<span class="token punctuation">]</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name    <span class="token comment">-- (Note: TEMPORARY available in Hive 0.14.0 and later)</span>
  <span class="token punctuation">[</span><span class="token punctuation">(</span>col_name data_type <span class="token punctuation">[</span>column_constraint_specification<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span>constraint_specification<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> table_comment<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>PARTITIONED <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name data_type <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">CLUSTERED</span> <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>SORTED <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name <span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token operator">|</span><span class="token keyword">DESC</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">INTO</span> num_buckets BUCKETS<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>SKEWED <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>                  <span class="token comment">-- (Note: Available in Hive 0.10.0 and later)]</span>
     <span class="token keyword">ON</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>col_value<span class="token punctuation">,</span> col_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>col_value<span class="token punctuation">,</span> col_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
     <span class="token punctuation">[</span>STORED <span class="token keyword">AS</span> DIRECTORIES<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>
   <span class="token punctuation">[</span><span class="token keyword">ROW</span> FORMAT row_format<span class="token punctuation">]</span> 
   <span class="token punctuation">[</span>STORED <span class="token keyword">AS</span> file_format<span class="token punctuation">]</span>
     <span class="token operator">|</span> STORED <span class="token keyword">BY</span> <span class="token string">&#39;storage.handler.class.name&#39;</span> <span class="token punctuation">[</span><span class="token keyword">WITH</span> SERDEPROPERTIES <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment">-- (Note: Available in Hive 0.6.0 and later)</span>
  <span class="token punctuation">]</span>
  <span class="token punctuation">[</span>LOCATION hdfs_path<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>TBLPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>   <span class="token comment">-- (Note: Available in Hive 0.6.0 and later)</span>
  <span class="token punctuation">[</span><span class="token keyword">AS</span> select_statement<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Available in Hive 0.5.0 and later; not supported for external tables)</span>
 
<span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token keyword">TEMPORARY</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>EXTERNAL<span class="token punctuation">]</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name
  <span class="token operator">LIKE</span> existing_table_or_view_name
  <span class="token punctuation">[</span>LOCATION hdfs_path<span class="token punctuation">]</span><span class="token punctuation">;</span>
 
data_type
  : primitive_type
  <span class="token operator">|</span> array_type
  <span class="token operator">|</span> map_type
  <span class="token operator">|</span> struct_type
  <span class="token operator">|</span> union_type  <span class="token comment">-- (Note: Available in Hive 0.7.0 and later)</span>
 
primitive_type
  : <span class="token keyword">TINYINT</span>
  <span class="token operator">|</span> <span class="token keyword">SMALLINT</span>
  <span class="token operator">|</span> <span class="token keyword">INT</span>
  <span class="token operator">|</span> <span class="token keyword">BIGINT</span>
  <span class="token operator">|</span> <span class="token keyword">BOOLEAN</span>
  <span class="token operator">|</span> <span class="token keyword">FLOAT</span>
  <span class="token operator">|</span> <span class="token keyword">DOUBLE</span>
  <span class="token operator">|</span> <span class="token keyword">DOUBLE</span> <span class="token keyword">PRECISION</span> <span class="token comment">-- (Note: Available in Hive 2.2.0 and later)</span>
  <span class="token operator">|</span> STRING
  <span class="token operator">|</span> <span class="token keyword">BINARY</span>      <span class="token comment">-- (Note: Available in Hive 0.8.0 and later)</span>
  <span class="token operator">|</span> <span class="token keyword">TIMESTAMP</span>   <span class="token comment">-- (Note: Available in Hive 0.8.0 and later)</span>
  <span class="token operator">|</span> <span class="token keyword">DECIMAL</span>     <span class="token comment">-- (Note: Available in Hive 0.11.0 and later)</span>
  <span class="token operator">|</span> <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token keyword">precision</span><span class="token punctuation">,</span> scale<span class="token punctuation">)</span>  <span class="token comment">-- (Note: Available in Hive 0.13.0 and later)</span>
  <span class="token operator">|</span> <span class="token keyword">DATE</span>        <span class="token comment">-- (Note: Available in Hive 0.12.0 and later)</span>
  <span class="token operator">|</span> <span class="token keyword">VARCHAR</span>     <span class="token comment">-- (Note: Available in Hive 0.12.0 and later)</span>
  <span class="token operator">|</span> <span class="token keyword">CHAR</span>        <span class="token comment">-- (Note: Available in Hive 0.13.0 and later)</span>
 
array_type
  : ARRAY <span class="token operator">&lt;</span> data_type <span class="token operator">&gt;</span>
 
map_type
  : MAP <span class="token operator">&lt;</span> primitive_type<span class="token punctuation">,</span> data_type <span class="token operator">&gt;</span>
 
struct_type
  : STRUCT <span class="token operator">&lt;</span> col_name : data_type <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&gt;</span>
 
union_type
   : UNIONTYPE <span class="token operator">&lt;</span> data_type<span class="token punctuation">,</span> data_type<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">&gt;</span>  <span class="token comment">-- (Note: Available in Hive 0.7.0 and later)</span>
 
row_format
  : DELIMITED <span class="token punctuation">[</span><span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token keyword">ESCAPED</span> <span class="token keyword">BY</span> <span class="token keyword">char</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>COLLECTION ITEMS <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token keyword">char</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span>MAP <span class="token keyword">KEYS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token keyword">char</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">LINES</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token keyword">char</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token boolean">NULL</span> DEFINED <span class="token keyword">AS</span> <span class="token keyword">char</span><span class="token punctuation">]</span>   <span class="token comment">-- (Note: Available in Hive 0.13 and later)</span>
  <span class="token operator">|</span> SERDE serde_name <span class="token punctuation">[</span><span class="token keyword">WITH</span> SERDEPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
 
file_format:
  : SEQUENCEFILE
  <span class="token operator">|</span> TEXTFILE    <span class="token comment">-- (Default, depending on hive.default.fileformat configuration)</span>
  <span class="token operator">|</span> RCFILE      <span class="token comment">-- (Note: Available in Hive 0.6.0 and later)</span>
  <span class="token operator">|</span> ORC         <span class="token comment">-- (Note: Available in Hive 0.11.0 and later)</span>
  <span class="token operator">|</span> PARQUET     <span class="token comment">-- (Note: Available in Hive 0.13.0 and later)</span>
  <span class="token operator">|</span> AVRO        <span class="token comment">-- (Note: Available in Hive 0.14.0 and later)</span>
  <span class="token operator">|</span> JSONFILE    <span class="token comment">-- (Note: Available in Hive 4.0.0 and later)</span>
  <span class="token operator">|</span> INPUTFORMAT input_format_classname OUTPUTFORMAT output_format_classname
 
column_constraint_specification:
  : <span class="token punctuation">[</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token operator">|</span><span class="token keyword">UNIQUE</span><span class="token operator">|</span><span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token operator">|</span><span class="token keyword">DEFAULT</span> <span class="token punctuation">[</span>default_value<span class="token punctuation">]</span><span class="token operator">|</span><span class="token keyword">CHECK</span>  <span class="token punctuation">[</span>check_expression<span class="token punctuation">]</span> <span class="token keyword">ENABLE</span><span class="token operator">|</span><span class="token keyword">DISABLE</span> NOVALIDATE RELY<span class="token operator">/</span>NORELY <span class="token punctuation">]</span>
 
default_value:
  : <span class="token punctuation">[</span> LITERAL<span class="token operator">|</span><span class="token keyword">CURRENT_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token boolean">NULL</span> <span class="token punctuation">]</span> 
 
constraint_specification:
  : <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE RELY<span class="token operator">/</span>NORELY <span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE RELY<span class="token operator">/</span>NORELY <span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> table_name<span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE 
    <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE RELY<span class="token operator">/</span>NORELY <span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">CHECK</span> <span class="token punctuation">[</span>check_expression<span class="token punctuation">]</span> <span class="token keyword">ENABLE</span><span class="token operator">|</span><span class="token keyword">DISABLE</span> NOVALIDATE RELY<span class="token operator">/</span>NORELY <span class="token punctuation">]</span>
</code></pre></div><p><code>CREATE TABLE</code> \u521B\u5EFA\u7ED9\u5B9A\u540D\u79F0\u7684\u8868\u3002\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u540C\u540D\u7684\u8868\u6216\u89C6\u56FE\uFF0C\u5219\u629B\u51FA\u5F02\u5E38\u3002\u53EF\u4EE5\u4F7F\u7528<code>IF NOT EXISTS</code>\u6765\u8DF3\u8FC7\u8FD9\u4E2A\u9519\u8BEF\u3002</p><ul><li><p>\u5728\u5EFA\u8868\u65F6\uFF0C\u8868\u540D\u548C\u5217\u540D\u4E0D\u533A\u5206\u5927\u5C0F\u5199\uFF0C\u4F46\u662F<code>SerDe</code>\u548C<code>property </code>\u7684\u5185\u5BB9\u533A\u5206\u5927\u5C0F\u5199</p><ul><li>\u5728Hive 0.12\u53CA\u66F4\u65E9\u7684\u7248\u672C\uFF0C\u8868\u540D\u548C\u5217\u540D\u4E2D\u53EA\u5141\u8BB8\u4F7F\u7528\u5B57\u6BCD\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\u5B57\u7B26\u3002</li><li>\u5728Hive 0.13\u53CA\u4EE5\u540E\u7684\u7248\u672C\uFF0C\u5217\u540D\u53EF\u4EE5\u4F7F\u7528\u6240\u6709\u7684Unicode\u5B57\u7B26(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-6013" target="_blank" rel="noopener noreferrer">HIVE-6013</a>)\uFF0C\u6CE8\uFF1A\uFF08\u9664\u4E86\u70B9\u548C\u5192\u53F7\uFF0C\u8FD9\u4F1A\u4F7F\u67E5\u8BE2\u62A5\u9519\uFF0C\u56E0\u6B64\u5728Hive 1.2.0\u4E2D\u4E0D\u5141\u8BB8\u4F7F\u7528\u5B83\u4EEC(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-10120" target="_blank" rel="noopener noreferrer">HIVE-10120</a>)\uFF09\u3002\u5982\u679C\u5728\u8868\u540D\u6216\u5217\u540D\u4E2D\u4F7F\u7528\u5230\u4E86\u7279\u6B8A\u5B57\u7B26\u6216\u4FDD\u7559\u5173\u952E\u5B57\uFF0C\u53EF\u4EE5\u4F7F\u7528\u53CD\u6487\u53F7(\`)\u5305\u88F9\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u5F3A\u5236\u4F7F\u7528\u4E86\u3002</li><li>\u5982\u679C\u60F3\u8981\u6062\u590D\u5230Hive 0.13\u4E4B\u524D\u7684\u8BBE\u5B9A\uFF0C\u5373\u5C06\u5217\u540D\u9650\u5236\u4E3A\u53EA\u5141\u8BB8\u5B57\u6BCD\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\u5B57\u7B26\uFF0C\u53EF\u901A\u8FC7\u914D\u7F6E\u5C5E\u6027\u6765\u542F\u7528<code>hive.support.quotes.identifiers=none</code>\u3002\u542F\u7528\u8BE5\u914D\u7F6E\u540E\uFF0C\u53CD\u6487\u53F7(\`)\u5305\u542B\u7684\u5185\u5BB9\u5C06\u88AB\u89E3\u91CA\u4E3A\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u6709\u5173\u66F4\u591A\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1<a href="https://issues.apache.org/jira/secure/attachment/12618321/QuotedIdentifier.html" target="_blank" rel="noopener noreferrer">Supporting Quoted Identifiers in Column Names</a>\u3002</li></ul></li><li><p>\u8868\u53CA\u5217\u7684\u6CE8\u91CA\u90FD\u662F\u5B57\u7B26\u578B\u7684 (\u9700\u8981\u7528\u5355\u5F15\u53F7\u5F15\u7528)\u3002</p></li><li><p>\u5EFA\u8868\u65F6\u5982\u679C\u4E0D\u4F7F\u7528<code>EXTERNAL</code>\u521B\u5EFA\uFF0C\u9ED8\u8BA4\u5EFA\u51FA\u6765\u7684\u5C31\u662F\u5185\u8868\uFF0C\u5E76\u7531Hive\u7BA1\u7406\u5B83\u7684\u6570\u636E\u3002</p><ul><li>\u8981\u786E\u5B9A\u67D0\u4E2A\u8868\u662F\u5185\u90E8\u8868\u7684\u8FD8\u662F\u5916\u90E8\u8868\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>DESCRIBE EXTENDED table_name</code> \u8FDB\u884C\u67E5\u770B\u3002</li></ul></li><li><p><code>TBLPROPERTIES</code>\u5B50\u53E5\uFF0C\u5141\u8BB8\u7528\u6237\u6DFB\u52A0\u8868\u5C5E\u6027\uFF0C\u901A\u8FC7key/value\u7684\u5F62\u5F0F\u5BF9\u5176\u6807\u8BB0\u3002\u8868\u9ED8\u8BA4\u5B58\u5728\u4E00\u4E9B\u9884\u5B9A\u4E49\u7684\u8868\u5C5E\u6027\uFF0C\u5982<code>last_modified_user</code>\u548C<code>last_modified_time</code>\uFF0C\u8FD9\u4E9B\u5C5E\u6027\u662F\u7531Hive\u81EA\u52A8\u6DFB\u52A0\u548C\u7BA1\u7406\u7684\u3002\u5176\u4ED6\u9884\u5B9A\u4E49\u7684\u8868\u5C5E\u6027\u5305\u62EC\uFF1A</p><ul><li>TBLPROPERTIES (&quot;comment&quot;=&quot;<em>table_comment</em>&quot;)</li><li>TBLPROPERTIES (&quot;hbase.table.name&quot;=&quot;<em>table_name</em>&quot;)</li><li>TBLPROPERTIES (&quot;immutable&quot;=&quot;true&quot;) or (&quot;immutable&quot;=&quot;false&quot;)</li><li>TBLPROPERTIES (&quot;orc.compress&quot;=&quot;ZLIB&quot;) or (&quot;orc.compress&quot;=&quot;SNAPPY&quot;) or (&quot;orc.compress&quot;=&quot;NONE&quot;) and other ORC properties</li><li>TBLPROPERTIES (&quot;transactional&quot;=&quot;true&quot;) or (&quot;transactional&quot;=&quot;false&quot;)</li><li>TBLPROPERTIES (&quot;NO_AUTO_COMPACTION&quot;=&quot;true&quot;) or (&quot;NO_AUTO_COMPACTION&quot;=&quot;false&quot;),</li><li>TBLPROPERTIES (&quot;compactor.mapreduce.map.memory.mb&quot;=&quot;<em>mapper_memory&quot;</em>)</li><li>TBLPROPERTIES (&quot;compactorthreshold.hive.compactor.delta.num.threshold&quot;=&quot;<em>threshold_num</em>&quot;)</li><li>TBLPROPERTIES (&quot;compactorthreshold.hive.compactor.delta.pct.threshold&quot;=&quot;<em>threshold_pct</em>&quot;)</li><li>TBLPROPERTIES (&quot;auto.purge&quot;=&quot;true&quot;) or (&quot;auto.purge&quot;=&quot;false&quot;)</li><li>TBLPROPERTIES (&quot;EXTERNAL&quot;=&quot;TRUE&quot;)</li><li>TBLPROPERTIES (&quot;external.table.purge&quot;=&quot;true&quot;)</li></ul></li><li><p>\u5728\u5EFA\u8868\u65F6\uFF0C\u5982\u679C\u8981\u4E3A\u8868\u6307\u5B9A\u6570\u636E\u5E93\uFF0C\u6709\u4E24\u79CD\u65B9\u6CD5\uFF1A</p><ul><li>\u5728\u6267\u884CCREATE TABLE\u8BED\u53E5\u524D\uFF0C\u4F7F\u7528USE database_name\u8BED\u53E5\u6307\u5B9A\u6570\u636E\u5E93(<a href="https://issues.apache.org/jira/browse/HIVE-675" target="_blank" rel="noopener noreferrer">Hive 0.6</a>\u53CA\u4EE5\u540E\u7248\u672C\u652F\u6301)\uFF0C\u5982\u679C\u4E0D\u6307\u5B9A\u521B\u5EFA\u7684\u8868\u9ED8\u8BA4\u5C06\u5F52\u5C5Edefault\u6570\u636E\u5E93\u3002</li><li>\u5728\u6267\u884CCREATE TABLE\u8BED\u53E5\u65F6\uFF0C\u5728\u5EFA\u8868\u8BED\u53E5\u4E2D\u52A0\u5165\u6570\u636E\u5E93\u540D(Hive 0.7\u53CA\u4EE5\u540E\u7248\u672C\u652F\u6301)\uFF0C\u683C\u5F0F\u4E3A\uFF1A<code>database_name.table.name</code>\u3002</li></ul></li></ul><h4 id="storage-formats" tabindex="-1"><a class="header-anchor" href="#storage-formats" aria-hidden="true">#</a> Storage Formats</h4><p>Hive\u652F\u6301\u5185\u7F6E\u7684\u51E0\u79CD\u6587\u4EF6\u683C\u5F0F\uFF0C\u540C\u65F6\u4E5F\u652F\u6301\u81EA\u5B9A\u4E49\u5F00\u53D1\u7684\u6587\u4EF6\u683C\u5F0F\u3002\u6709\u5173\u538B\u7F29\u8868\u5B58\u50A8\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605CompressedStorage\u3002</p><p>\u4EE5\u4E0B\u662FHive\u5185\u7F6E\u7684\u4E00\u4E9B\u683C\u5F0F\uFF1A</p><table><thead><tr><th style="text-align:left;">\u5B58\u50A8\u683C\u5F0F</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;">STORED AS TEXTFILE</td><td style="text-align:left;">\u5B58\u50A8\u4E3A\u7EAF\u6587\u672C\u6587\u4EF6\u3002<code>TEXTFILE</code> \u662F\u9ED8\u8BA4\u7684\u5B58\u50A8\u683C\u5F0F\uFF0C\u5982\u679C\u60F3\u4FEE\u6539Hive\u7684\u9ED8\u8BA4\u5B58\u50A8\u683C\u5F0F\uFF0C\u901A\u8FC7<a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.default.fileformat" target="_blank" rel="noopener noreferrer">hive.default.fileformat</a>\u53C2\u6570\u8FDB\u884C\u8C03\u6574\u3002<br><br>\u4F7F\u7528<code>DELIMITED</code>\u4E2D\u7684\u5B9A\u4E49\uFF0C\u8BFB\u53D6\u5E26\u5206\u9694\u7B26\u7684\u6587\u4EF6\u3002<br><br>\u901A\u8FC7\u4F7F\u7528<code>escaping by</code>(\u4F8B\u5982<code>escape by &#39;\\&#39;</code>)\u4E3A\u5206\u9694\u7B26\u542F\u7528\u8F6C\u4E49\uFF0C\u5982\u679C\u8981\u5904\u7406\u5305\u542B\u8FD9\u4E9B\u5206\u9694\u7B26\u5B57\u7B26\u7684\u6570\u636E\uFF0C\u5219\u9700\u8981\u8F6C\u4E49\u3002<br><br>\u8FD8\u53EF\u4EE5\u4F7F\u7528<code>NULL DEFINED AS</code>(\u9ED8\u8BA4\u4E3A&#39;\\N&#39;)\u6307\u5B9A\u81EA\u5B9A\u4E49NULL\u683C\u5F0F\u3002<br><br>(Hive 4.0)\u8868\u4E2D\u7684\u6240\u6709\u4E8C\u8FDB\u5236\u5217\u90FD\u88AB\u5047\u8BBE\u4E3Abase64\u7F16\u7801\u3002\u4EE5\u539F\u59CB\u5B57\u8282\u7684\u5F62\u5F0F\u8BFB\u53D6\u6570\u636E:<br>TBLPROPERTIES (&quot;hive.serialization.decode.binary.as.base64&quot;=&quot;false&quot;)</td></tr><tr><td style="text-align:left;">STORED AS SEQUENCEFILE</td><td style="text-align:left;">\u5B58\u50A8\u4E3A\u538B\u7F29\u5E8F\u5217\u6587\u4EF6\u3002</td></tr><tr><td style="text-align:left;">STORED AS ORC</td><td style="text-align:left;">\u5B58\u50A8\u4E3A<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+ORC#LanguageManualORC-HiveQLSyntax" target="_blank" rel="noopener noreferrer">ORC</a>\u6587\u4EF6\u683C\u5F0F\u3002\u652F\u6301ACID\u4E8B\u52A1\u548C\u57FA\u4E8E\u6210\u672C\u7684\u4F18\u5316\u5668(CBO)\u3002\u5217\u5F0F\u6A21\u5F0F\u5B58\u50A8\u6570\u636E\u3002</td></tr><tr><td style="text-align:left;">STORED AS PARQUET</td><td style="text-align:left;">\u5B58\u50A8\u4E3A<a href="https://cwiki.apache.org/confluence/display/Hive/Parquet" target="_blank" rel="noopener noreferrer">Parquet</a>\u6587\u4EF6\u683C\u5F0F\u3002<a href="https://cwiki.apache.org/confluence/display/Hive/Parquet#Parquet-Hive0.13andlater" target="_blank" rel="noopener noreferrer">Hive 0.13.0 </a>\u4E4B\u540E\u7684\u7248\u672C\u652F\u6301\u3002</td></tr><tr><td style="text-align:left;">STORED AS AVRO</td><td style="text-align:left;">\u5B58\u50A8\u4E3AAvro\u6587\u4EF6\u683C\u5F0F\u3002<a href="https://issues.apache.org/jira/browse/HIVE-6806" target="_blank" rel="noopener noreferrer">Hive 0.14.0 </a>\u4E4B\u540E\u7684\u7248\u672C\u652F\u6301 (\u66F4\u591A\u53C2\u9605<a href="https://cwiki.apache.org/confluence/display/Hive/AvroSerDe" target="_blank" rel="noopener noreferrer">Avro SerDe</a>)\u3002</td></tr><tr><td style="text-align:left;">STORED AS RCFILE</td><td style="text-align:left;">\u5B58\u50A8\u4E3A <a href="https://en.wikipedia.org/wiki/RCFile" target="_blank" rel="noopener noreferrer">Record Columnar File</a> \u6587\u4EF6\u683C\u5F0F\u3002</td></tr><tr><td style="text-align:left;">STORED AS JSONFILE</td><td style="text-align:left;">\u5B58\u50A8\u4E3AJson\u6587\u4EF6\u683C\u5F0F\u3002Hive 4.0.0\u53CA\u4EE5\u4E0A\u7248\u672C\u652F\u6301</td></tr><tr><td style="text-align:left;">STORED BY</td><td style="text-align:left;">\u5B58\u50A8\u4E3A<code>non-native table</code>\u683C\u5F0F\u3002\u4F8B\u5982 <a href="https://cwiki.apache.org/confluence/display/Hive/HBaseIntegration" target="_blank" rel="noopener noreferrer">HBase</a> \u3001<a href="https://cwiki.apache.org/confluence/display/Hive/Druid+Integration" target="_blank" rel="noopener noreferrer">Druid</a> \u3001<a href="https://cwiki.apache.org/confluence/display/Hive/AccumuloIntegration" target="_blank" rel="noopener noreferrer">Accumulo</a>\u3002 (\u66F4\u591A\u53C2\u9605<a href="https://cwiki.apache.org/confluence/display/Hive/StorageHandlers" target="_blank" rel="noopener noreferrer">StorageHandlers</a>\uFF09</td></tr><tr><td style="text-align:left;">INPUTFORMAT and OUTPUTFORMAT</td><td style="text-align:left;">\u5728file_format\u4E2D\u6307\u5B9A\u76F8\u5E94\u7684InputFormat\u548COutputFormat\u7C7B\u7684\u540D\u79F0\u3002<br><br>\u4F8B\u5982, &#39;org.apache.hadoop.hive.contrib.fileformat.base64.Base64TextInputFormat&#39;. <br><br>\u4F8B\u5982LZO\u538B\u7F29\u683C\u5F0F\uFF0C\u53EF\u4EE5\u8BBE\u5B9A\u4E3A\uFF1A<br>&#39;INPUTFORMAT &quot;com.hadoop.mapred.DeprecatedLzoTextInputFormat&quot; <br>OUTPUTFORMAT &quot;<a href="http://org.apache.hadoop.hive.ql.io/" target="_blank" rel="noopener noreferrer">org.apache.hadoop.hive.ql.io</a>.HiveIgnoreKeyTextOutputFormat&quot;&#39;</td></tr></tbody></table><h4 id="row-formats-serde" tabindex="-1"><a class="header-anchor" href="#row-formats-serde" aria-hidden="true">#</a> Row Formats &amp; SerDe</h4><p>\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u81EA\u5B9A\u4E49\u5E8F\u5217\u5316\u7C7B\u6216\u4F7F\u7528Hive\u81EA\u5E26\u7684\u5E8F\u5217\u5316\u7C7B\u521B\u5EFA\u8868\u3002\u5982\u679C\u672A\u6307\u5B9A<code>ROW FORMAT</code>\u6216<code>ROW FORMAT DELIMITED</code>\uFF0C\u5219\u4F7F\u7528\u9ED8\u8BA4\u7684\u5E8F\u5217\u5316\u683C\u5F0F\u3002 \u4F7F\u7528<code>SERDE</code>\u521B\u5EFA\u5E26\u6709\u81EA\u5B9A\u4E49SerDe\u7684\u8868\u3002\u5173\u4E8ESerDes\u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605\uFF1A</p><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe" target="_blank" rel="noopener noreferrer">Hive SerDe</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SerDe" target="_blank" rel="noopener noreferrer">SerDe</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/HCatalog+StorageFormats" target="_blank" rel="noopener noreferrer">HCatalog Storage Formats</a></li></ul><p>\u6709\u5173SerDes\u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u53C2\u9605\u5F00\u53D1\u6307\u5357\u4E2D\u7684<a href="https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe" target="_blank" rel="noopener noreferrer">Hive SerDe</a>\u3002</p><p>\u6709\u5173\u8F93\u5165\u548C\u8F93\u51FA\u5904\u7406\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u53C2\u9605<a href="https://cwiki.apache.org/confluence/display/Hive/SerDe" target="_blank" rel="noopener noreferrer">SerDe</a>\u3002</p><p>\u8981\u66F4\u6539\u8868\u7684SerDe\u6216SERDEPROPERTIES\uFF0C\u53EF\u53C2\u8003\u4F7F\u7528\u672C\u6587Add SerDe Properties\u7AE0\u8282\u4E2D\u6240\u8FF0\u7684ALTER TABLE\u8BED\u53E5\u3002</p><p><strong>RegEx</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u5B58\u50A8\u4E3A\u7EAF\u6587\u672C\u6587\u4EF6\uFF0C\u7531\u6B63\u5219\u8868\u8FBE\u5F0F\u7FFB\u8BD1\u3002</span>
<span class="token keyword">ROW</span> FORMAT SERDE
<span class="token string">&#39;org.apache.hadoop.hive.serde2.RegexSerDe&#39;</span>
<span class="token keyword">WITH</span> SERDEPROPERTIES
<span class="token punctuation">(</span>
<span class="token string">&quot;input.regex&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&lt;regex&gt;&quot;</span>
<span class="token punctuation">)</span>
STORED <span class="token keyword">AS</span> TEXTFILE<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> apachelog <span class="token punctuation">(</span>
  host STRING<span class="token punctuation">,</span>
  <span class="token keyword">identity</span> STRING<span class="token punctuation">,</span>
  <span class="token keyword">user</span> STRING<span class="token punctuation">,</span>
  <span class="token keyword">time</span> STRING<span class="token punctuation">,</span>
  request STRING<span class="token punctuation">,</span>
  <span class="token keyword">status</span> STRING<span class="token punctuation">,</span>
  size STRING<span class="token punctuation">,</span>
  referer STRING<span class="token punctuation">,</span>
  agent STRING<span class="token punctuation">)</span>
<span class="token keyword">ROW</span> FORMAT SERDE <span class="token string">&#39;org.apache.hadoop.hive.serde2.RegexSerDe&#39;</span>
<span class="token keyword">WITH</span> SERDEPROPERTIES <span class="token punctuation">(</span>
  <span class="token string">&quot;input.regex&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;([^]*) ([^]*) ([^]*) (-|\\\\[^\\\\]*\\\\]) ([^ \\&quot;]*|\\&quot;[^\\&quot;]*\\&quot;) (-|[0-9]*) (-|[0-9]*)(?: ([^ \\&quot;]*|\\&quot;.*\\&quot;) ([^ \\&quot;]*|\\&quot;.*\\&quot;))?&quot;</span>
<span class="token punctuation">)</span>
STORED <span class="token keyword">AS</span> TEXTFILE<span class="token punctuation">;</span>
</code></pre></div><p><strong>JSON</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u5B58\u50A8\u4E3AJSON\u683C\u5F0F\u7684\u7EAF\u6587\u672C\u6587\u4EF6</span>
<span class="token keyword">ROW</span> FORMAT SERDE
<span class="token string">&#39;org.apache.hive.hcatalog.data.JsonSerDe&#39;</span>
STORED <span class="token keyword">AS</span> TEXTFILE

<span class="token comment">-- JSON\u6587\u4EF6\u7684JsonSerDe\u5728Hive 0.12\u53CA\u4EE5\u540E\u7248\u672C\u4E2D\u53EF\u7528\u3002</span>
<span class="token comment">-- \u5728\u67D0\u4E9B\u53D1\u884C\u7248\u4E2D\uFF0C\u9700\u8981\u5F15\u7528hive-hcatalog-core.jar</span>
<span class="token comment">-- ADD JAR /usr/lib/hive-hcatalog/lib/hive-hcatalog-core.jar;</span>

<span class="token comment">-- \u5B9E\u4F8B</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table<span class="token punctuation">(</span>a string<span class="token punctuation">,</span> b <span class="token keyword">bigint</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">ROW</span> FORMAT SERDE <span class="token string">&#39;org.apache.hive.hcatalog.data.JsonSerDe&#39;</span>
STORED <span class="token keyword">AS</span> TEXTFILE<span class="token punctuation">;</span>

<span class="token comment">-- JsonSerDe\u4ECEHCatalog\u79FB\u5230Hive\uFF0C\u5728Hive-contrib\u9879\u76EE\u4E4B\u524D\u3002\u5B83\u662F\u7531Hive-4895\u6DFB\u52A0\u5230Hive\u53D1\u884C\u7248\u7684\u3002</span>
<span class="token comment">-- \u5BF9\u4E8E0.12.0\u4E4B\u524D\u7684\u7248\u672C\uFF0C\u53EF\u4EE5\u5728s3://elasticmapreduce/samples/hive-ads/libs/jsonserde.jar\u627E\u5230Amazon SerDe\u3002</span>

<span class="token comment">-- JSON\u6587\u4EF6\u7684JsonSerDe\u5728Hive 0.12\u53CA\u4EE5\u540E\u7248\u672C\u4E2D\u53EF\u7528\u3002</span>
<span class="token comment">-- \u4ECEHive 3.0.0\u5F00\u59CB\uFF0CJsonSerDe\u4EE5\u201Corg.apache.hadoop.hive.serde2\u201D\u7684\u5F62\u5F0F\u6DFB\u52A0\u5230Hive Serde\u4E2D\uFF08HIVE-19211)</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table<span class="token punctuation">(</span>a string<span class="token punctuation">,</span> b <span class="token keyword">bigint</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token keyword">ROW</span> FORMAT SERDE <span class="token string">&#39;org.apache.hadoop.hive.serde2.JsonSerDe&#39;</span>
STORED <span class="token keyword">AS</span> TEXTFILE<span class="token punctuation">;</span>

<span class="token comment">-- \u4ECEHive 4.0.0 (Hive -19899)\u5F00\u59CB\u652F\u6301STORED AS JSONFILE\uFF0C\u56E0\u6B64\u53EF\u4EE5\u521B\u5EFA\u5982\u4E0B\u8868:</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table<span class="token punctuation">(</span>a string<span class="token punctuation">,</span> b <span class="token keyword">bigint</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> STORED <span class="token keyword">AS</span> JSONFILE<span class="token punctuation">;</span>
</code></pre></div><p><strong>CSV/TSV</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- CSV/TSV\u683C\u5F0F\u7EAF\u6587\u672C\u6587\u4EF6</span>
<span class="token comment">-- CSVSerde\u5728Hive 0.14\u53CA\u66F4\u9AD8\u7248\u672C\u4E2D\u53EF\u7528\u3002</span>
<span class="token keyword">ROW</span> FORMAT SERDE
<span class="token string">&#39;org.apache.hadoop.hive.serde2.OpenCSVSerde&#39;</span>
STORED <span class="token keyword">AS</span> TEXTFILE

<span class="token comment">-- \u4E0B\u9762\u7684\u793A\u4F8B\u521B\u5EFA\u4E00\u4E2ATSV(\u5236\u8868\u7B26\u5206\u9694)\u6587\u4EF6\u3002</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table<span class="token punctuation">(</span>
    a string<span class="token punctuation">,</span> 
    b string<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">)</span>
<span class="token keyword">ROW</span> FORMAT SERDE <span class="token string">&#39;org.apache.hadoop.hive.serde2.OpenCSVSerde&#39;</span>
<span class="token keyword">WITH</span> SERDEPROPERTIES <span class="token punctuation">(</span>
   <span class="token string">&quot;separatorChar&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;\\t&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;quoteChar&quot;</span>     <span class="token operator">=</span> <span class="token string">&quot;&#39;&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;escapeChar&quot;</span>    <span class="token operator">=</span> <span class="token string">&quot;\\\\&quot;</span>
<span class="token punctuation">)</span>  
STORED <span class="token keyword">AS</span> TEXTFILE<span class="token punctuation">;</span>
</code></pre></div><h4 id="partitioned-tables" tabindex="-1"><a class="header-anchor" href="#partitioned-tables" aria-hidden="true">#</a> Partitioned Tables</h4><p>\u4F7F\u7528<code>Partitioned BY</code>\u521B\u5EFA\u7684\u8868\u79F0\u4E4B\u4E3A\u5206\u533A\u8868\u3002\u4E00\u4E2A\u8868\u53EF\u4EE5\u6709\u4E00\u4E2A\u6216\u591A\u4E2A\u5206\u533A\u5217\uFF0C\u5206\u533A\u5217\u4E2D\u7684\u6BCF\u4E2A\u4E0D\u540C\u503C\u7EC4\u5408\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u5355\u72EC\u7684\u6570\u636E\u76EE\u5F55\u3002</p><p>\u6B64\u5916\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>CLUSTERED BY</code>\u5217\u5BF9\u8868\u6216\u5206\u533A\u8FDB\u884C\u5206\u6876\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7<code>SORT BY</code>\u5BF9\u8BE5\u5206\u6876\u6570\u636E\u8FDB\u884C\u6392\u5E8F\uFF0C\u7528\u4E8E\u63D0\u9AD8\u67D0\u4E9B\u67E5\u8BE2\u7684\u6027\u80FD\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u5206\u533A\u8868\u5EFA\u8868\u793A\u4F8B</span>
<span class="token comment">/*\u8BE5\u8BED\u53E5\u521B\u5EFA\u4E86\u5305\u542BviewTime\u3001userid\u3001page_url\u3001referrer_url\u548Cip\u5217(\u5305\u62EC\u6CE8\u91CA)\u7684page_view\u8868
  \u8868\u4E5F\u88AB\u5206\u533A\uFF0C\u5206\u533A\u5B57\u6BB5\u4E3Adt\u3001country
  \u6570\u636E\u5B58\u50A8\u683C\u5F0F\u4E3ASEQUENCEFILE\u3002\u5E76\u4F7F\u7528\\001\u4F5C\u4E3A\u5B57\u6BB5\u5206\u9694\u7B26\uFF0C\u7528\u6362\u884C\u7B26\u4F5C\u4E3A\u884C\u5206\u9694\u7B26*/</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> page_view<span class="token punctuation">(</span>
     viewTime <span class="token keyword">INT</span><span class="token punctuation">,</span> 
     userid <span class="token keyword">BIGINT</span><span class="token punctuation">,</span>
     page_url STRING<span class="token punctuation">,</span> 
     referrer_url STRING<span class="token punctuation">,</span>
     ip STRING <span class="token keyword">COMMENT</span> <span class="token string">&#39;IP Address of the User&#39;</span>
<span class="token punctuation">)</span>
<span class="token keyword">COMMENT</span> <span class="token string">&#39;This is the page view table&#39;</span>
PARTITIONED <span class="token keyword">BY</span><span class="token punctuation">(</span>dt STRING<span class="token punctuation">,</span> country STRING<span class="token punctuation">)</span>
<span class="token keyword">ROW</span> FORMAT DELIMITED
 <span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\\001&#39;</span>
STORED <span class="token keyword">AS</span> SEQUENCEFILE<span class="token punctuation">;</span>
</code></pre></div><p>\u5982\u679C\u5728\u521B\u5EFA\u5206\u533A\u8868\u65F6\uFF0C\u51FA\u73B0\u8FD9\u6837\u7684\u9519\u8BEF\uFF1A<code>FAILED: Error in semantic analysis: Column repeated in partitioning columns</code>\uFF0C\u8FD9\u610F\u5473\u7740\u5206\u533A\u5217\u548C\u666E\u901A\u5217\u51FA\u73B0\u4E86\u91CD\u590D\u3002\u9700\u8981\u4FEE\u6539\u5206\u533A\u5217\u5217\u540D\u6216\u666E\u901A\u5217\u5217\u540D\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u5217\u540D\u4E0E\u5206\u533A\u5217\u540D\u76F8\u540C</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> table_name <span class="token punctuation">(</span>
  id                <span class="token keyword">int</span><span class="token punctuation">,</span>
  <span class="token keyword">date</span>              string<span class="token punctuation">,</span>
  name              string
<span class="token punctuation">)</span>
partitioned <span class="token keyword">by</span> <span class="token punctuation">(</span><span class="token keyword">date</span> string<span class="token punctuation">)</span>


<span class="token comment">-- \u5EFA\u8BAE\u4FEE\u6539\u4EFB\u610F\u4E00\u65B9\u6D88\u9664\u91CD\u590D</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> table_name <span class="token punctuation">(</span>
  id                <span class="token keyword">int</span><span class="token punctuation">,</span>
  dtDontQuery       string<span class="token punctuation">,</span>
  name              string
<span class="token punctuation">)</span>
partitioned <span class="token keyword">by</span> <span class="token punctuation">(</span><span class="token keyword">date</span> string<span class="token punctuation">)</span>
</code></pre></div><h4 id="bucketed-sorted-tables" tabindex="-1"><a class="header-anchor" href="#bucketed-sorted-tables" aria-hidden="true">#</a> Bucketed Sorted Tables</h4><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- page_view\u8868\u6309\u7528\u6237id\u5206\u6876\uFF0C\u5E76\u4E14\u5728\u6BCF\u4E2Abucket\u4E2D\uFF0C\u6570\u636E\u662F\u6309viewTime\u7684\u9012\u589E\u987A\u5E8F\u6392\u5E8F\u7684\u3002</span>
<span class="token comment">-- \u8FD9\u6837\u7684\u7ED3\u6784\uFF0C\u65B9\u4FBF\u7528\u6237\u5BF9\u805A\u7C7B\u5217(userid)\u8FDB\u884C\u6709\u6548\u7684\u62BD\u6837</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> page_view<span class="token punctuation">(</span>viewTime <span class="token keyword">INT</span><span class="token punctuation">,</span> userid <span class="token keyword">BIGINT</span><span class="token punctuation">,</span>
     page_url STRING<span class="token punctuation">,</span> referrer_url STRING<span class="token punctuation">,</span>
     ip STRING <span class="token keyword">COMMENT</span> <span class="token string">&#39;IP Address of the User&#39;</span><span class="token punctuation">)</span>
 <span class="token keyword">COMMENT</span> <span class="token string">&#39;This is the page view table&#39;</span>
 PARTITIONED <span class="token keyword">BY</span><span class="token punctuation">(</span>dt STRING<span class="token punctuation">,</span> country STRING<span class="token punctuation">)</span>
 <span class="token keyword">CLUSTERED</span> <span class="token keyword">BY</span><span class="token punctuation">(</span>userid<span class="token punctuation">)</span> SORTED <span class="token keyword">BY</span><span class="token punctuation">(</span>viewTime<span class="token punctuation">)</span> <span class="token keyword">INTO</span> <span class="token number">32</span> BUCKETS
 <span class="token keyword">ROW</span> FORMAT DELIMITED
   <span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\\001&#39;</span>
   COLLECTION ITEMS <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\\002&#39;</span>
   MAP <span class="token keyword">KEYS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\\003&#39;</span>
 STORED <span class="token keyword">AS</span> SEQUENCEFILE<span class="token punctuation">;</span>
</code></pre></div><p><code>CLUSTERED BY</code>\u548C<code>SORTED BY</code>\u521B\u5EFA\u547D\u4EE4\u4E0D\u5F71\u54CD\u6570\u636E\u5982\u4F55\u63D2\u5165\u5230\u8868\u4E2D\uFF0C\u53EA\u5F71\u54CD\u5982\u4F55\u8BFB\u53D6\u6570\u636E\u3002\u7528\u6237\u5FC5\u987B\u5408\u7406\u7684\u63D2\u5165\u76F8\u5E94\u7684\u6570\u636E\uFF0C\u4F7F\u5F97<code>reducers</code>\u7684\u6570\u91CF\u7B49\u4E8E\u6876\u7684\u6570\u91CF\u3002\u5E76\u5728\u67E5\u8BE2\u4E2D\u4F7F\u7528CLUSTER BY\u548CSORT BY\u547D\u4EE4\u3002</p><h4 id="external-tables" tabindex="-1"><a class="header-anchor" href="#external-tables" aria-hidden="true">#</a> External Tables</h4><p>\u5728\u5EFA\u8868\u65F6\u5982\u679C\u4F7F\u7528\u4E86EXTERNAL\u5173\u952E\u5B57\uFF0C\u90A3\u4E48\u8BE5\u8868\u5C31\u79F0\u4E4B\u4E3A\u5916\u8868\uFF0C\u5916\u8868\u5728\u521B\u5EFA\u65F6\u9700\u8981\u4F7F\u7528LOCATION\u6765\u6307\u5B9Ahdfs\u8DEF\u5F84\u3002\u5F53\u4F60\u5220\u9664\u8FD9\u4E2A\u5916\u8868\u65F6\uFF0Chdfs\u4E2D\u7684\u6570\u636E\u5E76\u4E0D\u4F1A\u968F\u4E4B\u800C\u5220\u9664\u3002\u4ECEHive 4.0.0\u7248\u672C\u5F00\u59CB\uFF0C\u63D0\u4F9B\u4E86<code>external.table.purge=true</code>\u53C2\u6570\uFF0C\u8BE5\u53C2\u6570\u88AB\u8BBE\u5B9A\u4E3Atrue\u65F6\uFF0C\u5F53\u4F60\u5220\u9664\u5916\u8868\u65F6\uFF0C\u5176\u6307\u5B9A\u7684hdfs\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\u4E5F\u5C06\u88AB\u5220\u9664\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u4F60\u53EF\u4EE5\u8BE5\u8BED\u53E5\u521B\u5EFA\u4E00\u4E2Apage_view\u8868\uFF0C\u5B83\u53EF\u4EE5\u6307\u5411\u4EFB\u610F\u4E00\u4E2AHDFS\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002\u4F46\u662F\u4ECD\u7136\u786E\u4FDD\u8BE5\u8DEF\u5F84\u4E0B\u7684\u6570\u636E\u65F6\u6309\u7167CREATE\u8BED\u53E5\u4E2D\u6307\u5B9A\u7684\u65B9\u5F0F\u8FDB\u884C\u5206\u9694\u3002</span>
<span class="token keyword">CREATE</span> EXTERNAL <span class="token keyword">TABLE</span> page_view<span class="token punctuation">(</span>viewTime <span class="token keyword">INT</span><span class="token punctuation">,</span> userid <span class="token keyword">BIGINT</span><span class="token punctuation">,</span>
     page_url STRING<span class="token punctuation">,</span> referrer_url STRING<span class="token punctuation">,</span>
     ip STRING <span class="token keyword">COMMENT</span> <span class="token string">&#39;IP Address of the User&#39;</span><span class="token punctuation">,</span>
     country STRING <span class="token keyword">COMMENT</span> <span class="token string">&#39;country of origination&#39;</span><span class="token punctuation">)</span>
 <span class="token keyword">COMMENT</span> <span class="token string">&#39;This is the staging page view table&#39;</span>
 <span class="token keyword">ROW</span> FORMAT DELIMITED <span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&#39;\\054&#39;</span>
 STORED <span class="token keyword">AS</span> TEXTFILE
 LOCATION <span class="token string">&#39;&lt;hdfs_location&gt;&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="skewed-tables" tabindex="-1"><a class="header-anchor" href="#skewed-tables" aria-hidden="true">#</a> Skewed Tables</h4><p>\u5F53\u8868\u4E2D\u7684\u4E00\u4E2A\u6216\u591A\u4E2A\u5217\u5177\u6709\u503E\u659C\u503C\u65F6\uFF0C\u4F7F\u7528\u6B64\u7279\u6027\u6709\u52A9\u4E8E\u63D0\u9AD8\u6027\u80FD\u3002\u901A\u8FC7\u6307\u5B9A\u7ECF\u5E38\u51FA\u73B0\u7684\u503C(\u4E25\u91CD\u503E\u659C\u7684\u503C)\uFF0CHive\u4F1A\u81EA\u52A8\u5C06\u8FD9\u4E9B\u503C\u62C6\u5206\u5230\u5355\u72EC\u7684\u6587\u4EF6\uFF08\u6216\u76EE\u5F55\u4E0B\u7684\u5217\u8868\u6876\uFF09\uFF0C\u5E76\u5728\u67E5\u8BE2\u65F6\u8003\u8651\u8FD9\u4E00\u6587\u4EF6\uFF0C\u907F\u514D\u626B\u63CF\u5168\u8868\u3002\u53EF\u4EE5\u5728\u8868\u521B\u5EFA\u671F\u95F4\u5728\u6BCF\u4E2A\u8868\u7EA7\u522B\u4E0A\u5206\u522B\u6307\u5B9A\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u4E0B\u9762\u7684\u793A\u4F8B\u663E\u793A\u4E86\u4E00\u4E2A\u5177\u6709\u4E09\u4E2A\u503E\u659C\u503C\u7684\u5217\uFF0C\u53EF\u9009\u62E9\u4F7F\u7528\u6307\u5B9A\u5217\u8868\u6876\u7684STORED AS DIRECTORIES\u5B50\u53E5\u3002</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> list_bucket_single <span class="token punctuation">(</span><span class="token keyword">key</span> STRING<span class="token punctuation">,</span> <span class="token keyword">value</span> STRING<span class="token punctuation">)</span>
  SKEWED <span class="token keyword">BY</span> <span class="token punctuation">(</span><span class="token keyword">key</span><span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>STORED <span class="token keyword">AS</span> DIRECTORIES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u8FD9\u662F\u4E00\u4E2A\u6709\u4E24\u4E2A\u503E\u659C\u5217\u7684\u8868\u7684\u4F8B\u5B50\u3002</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> list_bucket_multiple <span class="token punctuation">(</span>col1 STRING<span class="token punctuation">,</span> col2 <span class="token keyword">int</span><span class="token punctuation">,</span> col3 STRING<span class="token punctuation">)</span>
  SKEWED <span class="token keyword">BY</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span> col2<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&#39;s1&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;s3&#39;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;s13&#39;</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;s78&#39;</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>STORED <span class="token keyword">AS</span> DIRECTORIES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="temporary-tables" tabindex="-1"><a class="header-anchor" href="#temporary-tables" aria-hidden="true">#</a> Temporary Tables</h4>`,45),Fn={class:"custom-container tip"},zn={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Wn=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),jn=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Gn=[Wn,jn],Yn=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Xn=n("p",null,[a("\u4ECEHive 1.1.0\u5F00\u59CB\uFF0C\u4E34\u65F6\u8868\u7684\u5B58\u50A8\u7B56\u7565\u53EF\u4EE5\u901A\u8FC7"),n("code",null,"Hive.exec.temporary.table.storage"),a("\u914D\u7F6E\u53C2\u6570\u8BBE\u7F6E\u4E3Amemory\u3001ssd\u6216default(\u53C2\u89C1"),n("a",{href:"http://hadoop.apache.org/docs/r2.6.0/hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html#Storage_Types_and_Storage_Policies",target:"_blank",rel:"noopener noreferrer"},"HDFS Storage Types and Storage Policies"),a(")\u3002")],-1),Kn=t(`<p><code>Temporary Table</code>\u521B\u5EFA\u7684\u4E34\u65F6\u8868\u4EC5\u5BF9\u5F53\u524D\u4F1A\u8BDD\u53EF\u89C1\u3002\u6570\u636E\u5B58\u50A8\u5728\u7528\u6237\u7684\u4E34\u65F6\u76EE\u5F55\u4E2D\uFF0C\u5E76\u5728\u4F1A\u8BDD\u7ED3\u675F\u65F6\u5220\u9664\u3002</p><p>\u5982\u679C\u521B\u5EFA\u4E34\u65F6\u8868\u65F6\u4F7F\u7528\u7684\u6570\u636E\u5E93/\u8868\u540D\u662F\u6570\u636E\u5E93\u4E2D\u5DF2\u7ECF\u5B58\u5728\u7684\u6C38\u4E45\u8868\uFF0C\u90A3\u4E48\u5728\u4F1A\u8BDD\u4E2D\u5BF9\u8BE5\u8868\u7684\u4EFB\u4F55\u5F15\u7528\u90FD\u5C06\u89E3\u6790\u4E3A\u4E34\u65F6\u8868\uFF0C\u800C\u4E0D\u662F\u6C38\u4E45\u8868\u3002\u5982\u679C\u4E0D\u5220\u9664\u4E34\u65F6\u8868\u6216\u5C06\u5176\u91CD\u547D\u540D\u4E3A\u4E0D\u51B2\u7A81\u7684\u540D\u79F0\uFF0C\u7528\u6237\u5C06\u65E0\u6CD5\u5728\u8BE5\u4F1A\u8BDD\u4E2D\u8BBF\u95EE\u5230\u539F\u59CB\u8868\u3002</p><p>Temporary tables\u6709\u4EE5\u4E0B\u4E00\u4E9B\u9650\u5236\uFF1A</p><ul><li>\u4E0D\u652F\u6301\u5206\u533A\u5217\u3002</li><li>\u4E0D\u652F\u6301\u521B\u5EFA\u7D22\u5F15\u3002</li></ul><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> <span class="token keyword">TABLE</span> list_bucket_multiple <span class="token punctuation">(</span>col1 STRING<span class="token punctuation">,</span> col2 <span class="token keyword">int</span><span class="token punctuation">,</span> col3 STRING<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="transactional-tables" tabindex="-1"><a class="header-anchor" href="#transactional-tables" aria-hidden="true">#</a> Transactional Tables</h4>`,7),Qn={class:"custom-container tip"},Jn={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},$n=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),na=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),aa=[$n,na],sa=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ea=n("p",null,[a("\u4ECEHive 4.0\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-18453",target:"_blank",rel:"noopener noreferrer"},"HIVE-18453"),a(").")],-1),ta=t(`<p>\u652F\u6301ACID\u8BED\u4E49\u64CD\u4F5C\u7684\u8868\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> TRANSACTIONAL <span class="token keyword">TABLE</span> transactional_table_test <span class="token punctuation">(</span>
    <span class="token keyword">key</span> string<span class="token punctuation">,</span> <span class="token keyword">value</span> string
<span class="token punctuation">)</span> 
PARTITIONED <span class="token keyword">BY</span><span class="token punctuation">(</span>ds string<span class="token punctuation">)</span>
STORED <span class="token keyword">AS</span> ORC<span class="token punctuation">;</span>
</code></pre></div><h4 id="create-table-as-select-ctas" tabindex="-1"><a class="header-anchor" href="#create-table-as-select-ctas" aria-hidden="true">#</a> Create Table As Select (CTAS)</h4><p>\u80FD\u591F\u4ECE\u4E00\u4E2A\u8868\u9009\u62E9\u6570\u636E\u5230\u53E6\u4E00\u4E2A\u8868\u662FHive\u6700\u5F3A\u5927\u7684\u7279\u6027\u4E4B\u4E00\u3002Hive\u5728\u6267\u884C\u67E5\u8BE2\u65F6\u5904\u7406\u6570\u636E\u4ECE\u6E90\u683C\u5F0F\u5230\u76EE\u6807\u683C\u5F0F\u7684\u8F6C\u6362\u3002<code>create-table-as-select</code> (CTAS)\u8BED\u53E5\u662F\u901A\u8FC7\u67E5\u8BE2\u7684\u7ED3\u679C\u521B\u5EFA\u8868\u7ED3\u679C\uFF0C\u5E76\u5C06\u67E5\u8BE2\u7684\u7ED3\u679C\u6570\u636E\u63D2\u5165\u81F3\u521B\u5EFA\u7684\u8868\u4E2D\u3002\u7531CTAS\u521B\u5EFA\u7684\u8868\u5728\u67E5\u8BE2\u6267\u884C\u5B8C\u6210\u4E4B\u524D\uFF0C\u7528\u6237\u4E0D\u4F1A\u770B\u5230\u8BE5\u8868\u3002</p><p>CTAS\u6709\u4EE5\u4E0B\u4E00\u4E9B\u9650\u5236\uFF1A</p><ul><li>\u76EE\u6807\u8868\u4E0D\u80FD\u662F\u5916\u8868\uFF08External Tables\uFF09</li><li>\u76EE\u6807\u8868\u4E0D\u80FD\u662F\u5206\u6876\u8868\uFF08 Bucketed Sorted Tables\uFF09</li></ul><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- \u7528CTAS\u8BED\u53E5\uFF0C\u4ECESELECT\u8BED\u53E5\u7684\u7ED3\u679C(new_key DOUBLE, key_value_pair STRING)\u521B\u5EFA\u4E86\u76EE\u6807\u8868new_key_value_store\u3002\u5E76\u5728SELECT\u8BED\u53E5\u4E2D\u4F7F\u7528\u7279\u5B9A\u7684SerDe\u548C\u72EC\u7ACB\u4E8E\u6E90\u8868\u7684\u5B58\u50A8\u683C\u5F0F\u521B\u5EFA\u65B0\u7684\u76EE\u6807\u8868</span>
<span class="token comment">-- \u6CE8\uFF1A\u5982\u679CSELECT\u8BED\u53E5\u6CA1\u6709\u6307\u5B9A\u5217\u522B\u540D\uFF0C\u5217\u540D\u5C06\u81EA\u52A8\u5206\u914D\u7ED9_col0\u3001_col1\u548C_col2\u7B49\u3002</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> new_key_value_store
   <span class="token keyword">ROW</span> FORMAT SERDE <span class="token string">&quot;org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe&quot;</span>
   STORED <span class="token keyword">AS</span> RCFile
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token keyword">key</span> <span class="token operator">%</span> <span class="token number">1024</span><span class="token punctuation">)</span> new_key<span class="token punctuation">,</span> concat<span class="token punctuation">(</span><span class="token keyword">key</span><span class="token punctuation">,</span> <span class="token keyword">value</span><span class="token punctuation">)</span> key_value_pair
<span class="token keyword">FROM</span> key_value_store
SORT <span class="token keyword">BY</span> new_key<span class="token punctuation">,</span> key_value_pair<span class="token punctuation">;</span>
</code></pre></div><h4 id="create-table-like" tabindex="-1"><a class="header-anchor" href="#create-table-like" aria-hidden="true">#</a> Create Table Like</h4><p><code>CREATE TABLE LIKE table_name</code>\uFF0C\u53EF\u4EE5\u590D\u5236\u73B0\u6709\u8868\u5B9A\u4E49\uFF08\u4E0D\u590D\u5236\u5176\u6570\u636E\uFF09\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> empty_key_value_store
<span class="token operator">LIKE</span> key_value_store <span class="token punctuation">[</span>TBLPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>\u5728Hive 0.8.0\u4E4B\u524D\uFF0C<code>CREATE TABLE LIKE view_name</code>\u53EA\u662F\u521B\u5EFA\u4E00\u4E2A\u89C6\u56FE\u7684\u526F\u672C\u3002</p><p>\u5728Hive 0.8.0\u53CA\u4EE5\u540E\u7684\u7248\u672C\u4E2D\uFF0C<code>CREATE TABLE LIKE view_name</code>\uFF0C\u53EF\u4EE5\u901A\u8FC7view_name(\u5B57\u6BB5\u548C\u5206\u533A\u5217)\u7684\u6A21\u5F0F\u521B\u5EFA\u4E00\u4E2A\u8868\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u7684SerDe\u548C\u6587\u4EF6\u683C\u5F0F\u3002</p><h4 id="constraints" tabindex="-1"><a class="header-anchor" href="#constraints" aria-hidden="true">#</a> Constraints</h4>`,16),oa={class:"custom-container tip"},pa={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},la=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ca=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ra=[la,ca],ia=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ua=n("p",null,[a("\u4ECEHive 2.1.0\u7248\u672C\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-13290",target:"_blank",rel:"noopener noreferrer"},"HIVE-13290"),a(").")],-1),da=t(`<p>Hive\u652F\u6301\u4E3B\u952E\u548C\u5916\u952E\u7684\u8BBE\u5B9A\u3002\u5F53\u5B58\u5728\u7EA6\u675F\u65F6\uFF0C\u4E00\u4E9BSQL\u5DE5\u5177\u4F1A\u751F\u6210\u66F4\u6709\u6548\u7684\u67E5\u8BE2\u3002\u7531\u4E8E\u8FD9\u4E9B\u7EA6\u675F\u6CA1\u6709\u7ECF\u8FC7\u9A8C\u8BC1\uFF0C\u6240\u4EE5\u4E0A\u6E38\u7CFB\u7EDF\u9700\u8981\u5728\u5C06\u6570\u636E\u52A0\u8F7D\u5230Hive\u4E4B\u524D\u786E\u4FDD\u6570\u636E\u7684\u5B8C\u6574\u6027\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> pk<span class="token punctuation">(</span>id1 <span class="token keyword">integer</span><span class="token punctuation">,</span> id2 <span class="token keyword">integer</span><span class="token punctuation">,</span>
  <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id1<span class="token punctuation">,</span> id2<span class="token punctuation">)</span> <span class="token keyword">disable</span> novalidate<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">create</span> <span class="token keyword">table</span> fk<span class="token punctuation">(</span>id1 <span class="token keyword">integer</span><span class="token punctuation">,</span> id2 <span class="token keyword">integer</span><span class="token punctuation">,</span>
  <span class="token keyword">constraint</span> c1 <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id1<span class="token punctuation">,</span> id2<span class="token punctuation">)</span> <span class="token keyword">references</span> pk<span class="token punctuation">(</span>id2<span class="token punctuation">,</span> id1<span class="token punctuation">)</span> <span class="token keyword">disable</span> novalidate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>`,3),ka={class:"custom-container tip"},ha={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ga=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),_a=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ma=[ga,_a],Ea=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),wa=n("p",null,[a("\u4ECEHive 3.0.0\u7248\u672C\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-16575",target:"_blank",rel:"noopener noreferrer"},"HIVE-16575"),a(", "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-18726",target:"_blank",rel:"noopener noreferrer"},"HIVE-18726"),a(", "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-18953",target:"_blank",rel:"noopener noreferrer"},"HIVE-18953"),a(").")],-1),va=t(`<p>Hive\u652F\u6301\u5728\u5EFA\u8868\u65F6\u4F7F\u7528UNIQUE, NOT NULL, DEFAULT\u548CCHECK\u3002\u9664\u4E86UNIQUE\u4E4B\u5916\uFF0C\u5176\u4ED6\u4E09\u79CD\u7C7B\u578B\u7684\u7EA6\u675F\u90FD\u662F\u5F3A\u5236\u7684\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> constraints1 <span class="token punctuation">(</span>
    id1 <span class="token keyword">integer</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">disable</span> novalidate<span class="token punctuation">,</span> 
    id2 <span class="token keyword">integer</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    usr string <span class="token keyword">DEFAULT</span> <span class="token keyword">current_user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    price <span class="token keyword">double</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>price <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">AND</span> price <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">create</span> <span class="token keyword">table</span> constraints2 <span class="token punctuation">(</span>
    id1 <span class="token keyword">integer</span><span class="token punctuation">,</span> 
    id2 <span class="token keyword">integer</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> c1_unique <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>id1<span class="token punctuation">)</span> <span class="token keyword">disable</span> novalidate
<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">create</span> <span class="token keyword">table</span> constraints3 <span class="token punctuation">(</span>
    id1 <span class="token keyword">integer</span><span class="token punctuation">,</span> 
    id2 <span class="token keyword">integer</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> c1_check <span class="token keyword">CHECK</span><span class="token punctuation">(</span>id1 <span class="token operator">+</span> id2 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u652F\u6301\u590D\u6742\u6570\u636E\u7C7B\u578B(\u5982map\u3001struct\u3001array)\u3002</p><h3 id="drop-table" tabindex="-1"><a class="header-anchor" href="#drop-table" aria-hidden="true">#</a> Drop Table</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> table_name <span class="token punctuation">[</span><span class="token keyword">PURGE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">-- (Note: PURGE available in Hive 0.14.0 and later)</span>
</code></pre></div><p><code>DROP TABLE</code>\u64CD\u4F5C\u4F1A\u5220\u9664\u8868\u7684\u5143\u6570\u636E\u548C\u6570\u636E\u3002\u5982\u679C\u914D\u7F6E\u4E86Trash(\u5E76\u4E14\u6CA1\u6709\u6307\u5B9APURGE)\uFF0C\u5220\u9664\u8868\u540E\u6570\u636E\u4F1A\u79FB\u52A8\u5230.Trash/Current\u76EE\u5F55\uFF08\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u6570\u636E\u4F1A\u88AB\u79FB\u5230\u7528\u6237\u4E3B\u76EE\u5F55\u7684.Trash\u4E0B\u9762\uFF09\u3002\u5426\u5219\uFF0C\u8868\u4FE1\u606F\u5C06\u4ECEmetastore\u4E2D\u5220\u9664\uFF0C\u539F\u59CB\u6570\u636E\u5C06\u88AB\u5220\u9664\uFF0C\u5C31\u50CF\u4F7F\u7528<code>hadoop dfs -rm</code>\u4E00\u6837\u3002</p>`,7),fa={class:"custom-container tip"},Ta={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ya=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ba=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Sa=[ya,ba],Aa=n("p",{class:"custom-container-title"},"\u6280\u5DE7\u63D0\u793A",-1),Ra=n("p",null,"\u5982\u679C\u8BEF\u5220\u4E86\u8868\uFF0C\u53EF\u4EE5\u901A\u8FC7\u91CD\u65B0\u521B\u5EFA\u4E00\u4E2A\u76F8\u540C\u6A21\u5F0F\u7684\u8868\uFF0C\u5E76\u91CD\u65B0\u521B\u5EFA\u5206\u533A\uFF0C\u7136\u540E\u4F7F\u7528Hadoop\u547D\u4EE4\u624B\u52A8\u5C06\u6570\u636E\u79FB\u56DE\u539F\u4F4D\u6765\u6062\u590D\u4E22\u5931\u7684\u4F4D\u7F6E\uFF08\u8FD9\u4E2A\u89E3\u51B3\u65B9\u6848\u53EF\u80FD\u4F1A\u968F\u7740\u65F6\u95F4\u7684\u63A8\u79FB\u53D8\u5F97\u65E0\u6548\uFF0C.Trash\u4E0B\u7684\u6587\u4EF6\u4E5F\u662F\u6709\u4FDD\u7559\u65F6\u957F\uFF0C\u8D85\u65F6\u540E\u4F1A\u88AB\u5F7B\u5E95\u5220\u9664\u3002\u6240\u4EE5\u5F3A\u70C8\u5EFA\u8BAE\u7528\u6237\u4E0D\u8981\u778E\u5409\u5C14\u5220\u8868\u3002\uFF09",-1),Ia=n("p",null,"\u5220\u9664\u89C6\u56FE\u5F15\u7528\u7684\u8868\u65F6\uFF0C\u4E0D\u4F1A\u7ED9\u51FA\u544A\u8B66\u63D0\u793A\uFF08\u5728\u8FD9\u4E4B\u540E\u5BF9\u5E94\u7684\u89C6\u56FE\u5C31\u65E0\u6548\u4E86\uFF0C\u5FC5\u987B\u7531\u7528\u6237\u5220\u9664\u6216\u91CD\u65B0\u521B\u5EFA\uFF09\u3002",-1),Ha=n("p",null,[a("\u5220\u9664EXTERNAL\u8868\u65F6\uFF0C\u8868\u4E2D\u7684\u6570\u636E\u4E0D\u4F1A\u5220\u9664\u3002\uFF08\u4ECEHive 4.0.0\u7248\u672C\u5F00\u59CB\uFF0C\u63D0\u4F9B\u4E86"),n("code",null,"external.table.purge=true"),a("\u53C2\u6570\uFF0C\u8BE5\u53C2\u6570\u88AB\u8BBE\u5B9A\u4E3Atrue\u65F6\uFF0C\u5F53\u4F60\u5220\u9664\u5916\u8868\u65F6\uFF0C\u5176\u6307\u5B9A\u7684hdfs\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\u4E5F\u5C06\u88AB\u5220\u9664\u3002\uFF09")],-1),Oa=n("p",null,"\u5728Hive 0.7.0\u6216\u66F4\u9AD8\u7248\u672C\u4E2D\uFF0C\u5982\u679C\u5220\u8868\u65F6\u8868\u5DF2\u7ECF\u4E0D\u5B58\u5728\uFF0CDROP\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\u63D0\u793A\uFF0C\u53EF\u4EE5\u901A\u8FC7IF EXISTS\u5B50\u53E5\u6216\u914D\u7F6E\u53D8\u91CFHive .exec. DROP.ignorenonexistent\u88AB\u8BBE\u7F6E\u4E3Atrue\u6765\u8DF3\u8FC7\u8FD9\u4E2A\u9519\u8BEF\u63D0\u793A\u3002",-1),La=n("p",null,"\u5982\u679C\u6307\u5B9A\u4E86PURGE\uFF0C\u5219\u8868\u5220\u9664\u540E\uFF0C\u6570\u636E\u4E0D\u4F1A\u5230. trash /Current\u76EE\u5F55\uFF0C\u56E0\u6B64\u5728\u9519\u8BEF\u7684DROP\u4E8B\u4EF6\u4E2D\u65E0\u6CD5\u68C0\u7D22\u3002\u6E05\u9664\u9009\u9879\u4E5F\u53EF\u4EE5\u7528\u8868\u5C5E\u6027auto\u6307\u5B9A\u3002\u6E05\u9664(\u53C2\u89C1\u4E0A\u9762\u7684TBLPROPERTIES)\u3002",-1),Da={class:"custom-container tip"},Ca={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},xa=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Na=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ma=[xa,Na],qa=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F: PURGE",-1),Pa=n("p",null,[a("\u4ECE Hive 0.14.0 \u5F00\u59CB\u652F\u6301("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-7100",target:"_blank",rel:"noopener noreferrer"},"HIVE-7100"),a(")PURGE \u9009\u9879")],-1),Ba=n("h3",{id:"truncate-table",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#truncate-table","aria-hidden":"true"},"#"),a(" Truncate Table")],-1),Va={class:"custom-container tip"},Ua={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Za=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Fa=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),za=[Za,Fa],Wa=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ja=n("p",null,[a("\u4ECE Hive 0.11.0 \u7248\u672C\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-446",target:"_blank",rel:"noopener noreferrer"},"HIVE-446"),a(").")],-1),Ga=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> <span class="token punctuation">[</span><span class="token keyword">TABLE</span><span class="token punctuation">]</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span><span class="token punctuation">;</span>
 
partition_spec:
  : <span class="token punctuation">(</span>partition_column <span class="token operator">=</span> partition_col_value<span class="token punctuation">,</span> partition_column <span class="token operator">=</span> partition_col_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><p><code>Truncate Table</code>\u4F1A\u5220\u9664\u8868\u6216\u5206\u533A\u4E2D\u7684\u6240\u6709\u6570\u636E\u5185\u5BB9\uFF0C\u4F46\u4E0D\u4F1A\u6E05\u9664\u8868\u7684\u5143\u6570\u636E\u3002\u5982\u679C\u6587\u4EF6\u7CFB\u7EDF\u5783\u573E\u56DE\u6536\u6A21\u5F0F\u662F\u542F\u7528\u72B6\u6001\uFF0C\u8FD9\u4E9B\u884C\u5C06\u88AB\u79FB\u5165\u5783\u573E\u6876\u4E2D\uFF08\u5373.Trash\u76EE\u5F55\uFF09\uFF0C\u5426\u5219\u5BF9\u5E94\u6570\u636E\u5C06\u88AB\u5F7B\u5E95\u5220\u9664(\u4ECEHive 2.2.0\u548CHive -14626\u5F00\u59CB)\u3002\u7528\u6237\u53EF\u4EE5\u4F7F\u7528<code>partition_spec</code>\u6307\u5B9A\u5220\u9664\u90E8\u5206\u5206\u533A\uFF0C\u82E5\u672A\u6307\u5B9A\u5219\u662F\u5220\u9664\u6574\u8868\u3002</p><p>\u4ECEHIVE 2.3.0 (HIVE-15880)\u5F00\u59CB\uFF0C\u5982\u679C\u8868\u5C5E\u6027<code>auto.purge</code>(\u53C2\u89C1\u4E0A\u9762\u7684TBLPROPERTIES)\u88AB\u8BBE\u7F6E\u4E3A<code>true</code>\uFF0C\u5219\u5F53\u5BF9\u8868\u53D1\u51FATRUNCATE table\u547D\u4EE4\u65F6\uFF0C\u8868\u7684\u6570\u636E\u4E0D\u4F1A\u79FB\u52A8\u5230Trash\u3002\u8FD9\u4E2A\u5C5E\u6027\u53EA\u5BF9\u5185\u8868\u6709\u6548\u3002</p><p>\u4ECEHive 4.0 (Hive -23183)\u5F00\u59CB\uFF0CTABLE\u8FD9\u4E2A\u5173\u952E\u5B57\u53D8\u7684\u53EF\u9009\uFF0C\u4F46\u4EE5\u524D\u7684\u7248\u672C\u6267\u884CTRUNCATE\u4ECD\u9700\u8981\u5E26\u4E0A\u5B83\u3002</p><h2 id="alter-table-partition-column" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-column" aria-hidden="true">#</a> Alter Table/Partition/Column</h2><p><code>Alter table</code>\u8BED\u53E5\u4F7F\u7528\u6237\u80FD\u591F\u66F4\u6539\u73B0\u6709\u8868\u7684\u7ED3\u6784\u3002\u53EF\u4EE5\u6DFB\u52A0\u5217/\u5206\u533A\uFF0C\u66F4\u6539SerDe\uFF0C\u6DFB\u52A0\u8868\u548CSerDe\u5C5E\u6027\uFF0C\u6216\u8005\u91CD\u547D\u540D\u8868\u672C\u8EAB\u7B49\u3002\u7C7B\u4F3C\u5730\uFF0C<code>Alter table partition </code>\u8BED\u53E5\u5141\u8BB8\u66F4\u6539\u6307\u5B9A\u8868\u7279\u5B9A\u5206\u533A\u7684\u5C5E\u6027\u3002</p><h3 id="alter-table" tabindex="-1"><a class="header-anchor" href="#alter-table" aria-hidden="true">#</a> Alter Table</h3><h4 id="rename-table" tabindex="-1"><a class="header-anchor" href="#rename-table" aria-hidden="true">#</a> Rename Table</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> new_table_name<span class="token punctuation">;</span>
</code></pre></div><p>\u8FD9\u4E2A\u8BED\u53E5\u7528\u4E8E\u7ED9\u8868\u8FDB\u884C\u91CD\u547D\u540D\u3002</p><p>\u5728Hive0.6\u4E4B\u524D\uFF0C\u8BE5\u8BED\u53E5\u53EA\u662F\u5728metastore\u4E2D\u91CD\u547D\u540D\u8868\uFF0C\u4E0D\u79FB\u52A8HDFS\u4F4D\u7F6E\u3002</p><p>\u4ECEHive0.6\u5F00\u59CB\uFF0C\u8BE5\u8BED\u53E5\u4F1A\u5BF9\u5185\u8868\u6267\u884C\u91CD\u547D\u540D\uFF0C\u5E76\u4F1A\u6539\u53D8\u5176\u6570\u636E\u6587\u4EF6\u7684HDFS\u4F4D\u7F6E\u3002</p><p>\u4ECEHive2.2.0\u7248\u672C(<a href="https://issues.apache.org/jira/browse/HIVE-14909" target="_blank" rel="noopener noreferrer">HIVE-14909</a>)\u5F00\u59CB\uFF0C\u6267\u884C\u8BE5\u8BED\u53E5\u7684\u89C4\u5219\u53D1\u751F\u4E86\u53D8\u5316\uFF0C\u53EA\u6709\u5728\u521B\u5EFA\u8868\u65F6\u4E0D\u5E26LOCATION\u5B50\u53E5\u5E76\u4E14\u5728\u5176\u6570\u636E\u5E93\u76EE\u5F55\u4E0B\u65F6\uFF0C\u624D\u4F1A\u4FEE\u6539HDFS\u4F4D\u7F6E\u3002</p><h4 id="alter-table-properties" tabindex="-1"><a class="header-anchor" href="#alter-table-properties" aria-hidden="true">#</a> Alter Table Properties</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">SET</span> TBLPROPERTIES table_properties<span class="token punctuation">;</span>
 
table_properties:
  : <span class="token punctuation">(</span>property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span>
</code></pre></div><p>\u6B64\u8BED\u7528\u4E8E\u7ED9\u8868\u8FFD\u52A0\u5176\u4ED6\u5C5E\u6027\u3002</p><p>\u76EE\u524D\uFF0Clast_modified_user\u3001last_modified_time\u5C5E\u6027\u7531Hive\u81EA\u52A8\u6DFB\u52A0\u548C\u7BA1\u7406\u3002\u7528\u6237\u53EF\u4EE5\u5C06\u8868\u7684\u5176\u4ED6\u5C5E\u6027\u6DFB\u52A0\u5230\u6B64\u5217\u8868\u4E2D\u3002</p><p>\u53EF\u4EE5\u4F7F\u7528DESCRIBE EXTENDED TABLE\u6765\u83B7\u53D6\u6240\u6709\u8868\u5F53\u524D\u6240\u6709\u7684\u5C5E\u6027\u4FE1\u606F\u3002</p><h5 id="alter-table-comment" tabindex="-1"><a class="header-anchor" href="#alter-table-comment" aria-hidden="true">#</a> Alter Table Comment</h5><p>\u6B64\u8BED\u53E5\u901A\u8FC7\u4FEE\u6539\u8868\u7684\u5C5E\u6027\u6765\u4FEE\u6539\u5176\u6CE8\u91CA\u3002</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">SET</span> TBLPROPERTIES <span class="token punctuation">(</span><span class="token string">&#39;comment&#39;</span> <span class="token operator">=</span> new_comment<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="add-serde-properties" tabindex="-1"><a class="header-anchor" href="#add-serde-properties" aria-hidden="true">#</a> Add SerDe Properties</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token keyword">SET</span> SERDE serde_class_name <span class="token punctuation">[</span><span class="token keyword">WITH</span> SERDEPROPERTIES serde_properties<span class="token punctuation">]</span><span class="token punctuation">;</span>
 
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token keyword">SET</span> SERDEPROPERTIES serde_properties<span class="token punctuation">;</span>
 
serde_properties:
  : <span class="token punctuation">(</span>property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span>
</code></pre></div><p>\u8FD9\u4E9B\u8BED\u53E5\u7528\u4E8E\u66F4\u6539\u8868\u7684SerDe\u6216\u5411\u8868\u7684SerDe\u5BF9\u8C61\u6DFB\u52A0\u7528\u6237\u5B9A\u4E49\u7684\u5143\u6570\u636E\u3002\uFF08\u6CE8\u610F\uFF0C<code>property_name</code>\u548C<code>property_value</code>\u90FD\u5FC5\u987B\u52A0\u5F15\u53F7\u3002\uFF09</p><p>\u5F53Hive\u4EE5\u5E8F\u5217\u5316\u548C\u53CD\u5E8F\u5217\u5316\u521D\u59CB\u5316\u8868\u65F6\uFF0CSerDe\u5C5E\u6027\u4F1A\u88AB\u4F20\u9012\u3002\u56E0\u6B64\u7528\u6237\u53EF\u4EE5\u5728\u8FD9\u91CC\u5B58\u50A8\u81EA\u5B9A\u4E49SerDe\u6240\u9700\u7684\u4FE1\u606F\u3002</p><p>Example:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">SET</span> SERDEPROPERTIES <span class="token punctuation">(</span><span class="token string">&#39;field.delim&#39;</span> <span class="token operator">=</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u66F4\u591A\u4FE1\u606F\u8BF7\u53C2\u8003 <a href="https://cwiki.apache.org/confluence/display/Hive/SerDe" target="_blank" rel="noopener noreferrer">SerDe documentation</a> \u548C<a href="https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe" target="_blank" rel="noopener noreferrer">Hive SerDe</a> \u3002</p><h4 id="remove-serde-properties" tabindex="-1"><a class="header-anchor" href="#remove-serde-properties" aria-hidden="true">#</a> Remove SerDe Properties</h4>`,29),Ya={class:"custom-container tip"},Xa={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ka=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Qa=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ja=[Ka,Qa],$a=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ns=n("p",null,[a("\u4ECE Hive 4.0.0 \u7248\u672C\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-18842",target:"_blank",rel:"noopener noreferrer"},"HIVE-21952"),a(").")],-1),as=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> UNSET SERDEPROPERTIES <span class="token punctuation">(</span>property_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u8FD9\u4E9B\u8BED\u53E5\u7528\u4E8E\u5C06\u7528\u6237\u5B9A\u4E49\u7684\u5143\u6570\u636E\u5220\u9664\u3002\uFF08\u6CE8\u610F\uFF0C<code>property_name</code>\u5FC5\u987B\u52A0\u5F15\u53F7\u3002\uFF09</p><p>Example:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name UNSET SERDEPROPERTIES <span class="token punctuation">(</span><span class="token string">&#39;field.delim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="alter-table-storage-properties" tabindex="-1"><a class="header-anchor" href="#alter-table-storage-properties" aria-hidden="true">#</a> Alter Table Storage Properties</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">CLUSTERED</span> <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>SORTED <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token keyword">INTO</span> num_buckets BUCKETS<span class="token punctuation">;</span>
</code></pre></div><p>\u8FD9\u4E9B\u8BED\u53E5\u7528\u4E8E\u4FEE\u6539\u8868\u7684\u7269\u7406\u5B58\u50A8\u5C5E\u6027\u3002</p><p>\u6CE8\u610F\uFF1A\u8FD9\u4E9B\u547D\u4EE4\u53EA\u4F1A\u4FEE\u6539Hive\u7684\u5143\u6570\u636E\uFF0C\u4E0D\u4F1A\u91CD\u7EC4\u6216\u91CD\u65B0\u683C\u5F0F\u5316\u73B0\u6709\u7684\u6570\u636E\u3002\u7528\u6237\u5E94\u8BE5\u786E\u4FDD\u5B9E\u9645\u7684\u6570\u636E\u5E03\u5C40\u7B26\u5408\u5143\u6570\u636E\u5B9A\u4E49\u3002</p><h4 id="alter-table-skewed-or-stored-as-directories" tabindex="-1"><a class="header-anchor" href="#alter-table-skewed-or-stored-as-directories" aria-hidden="true">#</a> Alter Table Skewed or Stored as Directories</h4>`,9),ss={class:"custom-container tip"},es={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ts=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),os=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ps=[ts,os],ls=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),cs=n("p",null,[a("\u4ECE Hive 0.10.0 \u7248\u672C\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-3072",target:"_blank",rel:"noopener noreferrer"},"HIVE-3072"),a(" and "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-3649",target:"_blank",rel:"noopener noreferrer"},"HIVE-3649"),a(").")],-1),rs=t(`<p>\u53EF\u4EE5\u4F7F\u7528ALTER table\u8BED\u53E5\u66F4\u6539\u8868\u7684\u503E\u659C\u548C\u5B58\u50A8AS\u76EE\u5F55\u9009\u9879\u3002\u6709\u5173\u76F8\u5E94\u7684CREATE TABLE\u8BED\u6CD5\uFF0C\u8BF7\u53C2\u9605\u4E0A\u65B9\u7AE0\u8282\u3002</p><h5 id="alter-table-skewed" tabindex="-1"><a class="header-anchor" href="#alter-table-skewed" aria-hidden="true">#</a> Alter Table Skewed</h5><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name SKEWED <span class="token keyword">BY</span> <span class="token punctuation">(</span>col_name1<span class="token punctuation">,</span> col_name2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
  <span class="token keyword">ON</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span>col_name1_value<span class="token punctuation">,</span> col_name2_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>col_name1_value<span class="token punctuation">,</span> col_name2_value<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span>STORED <span class="token keyword">AS</span> DIRECTORIES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>STORED AS DIRECTORIES\u9009\u9879\u51B3\u5B9A\u503E\u659C\u8868\u662F\u5426\u4F7F\u7528\u5217\u8868bucket\u7279\u6027\uFF0C\u8BE5\u7279\u6027\u4E3A\u503E\u659C\u503C\u521B\u5EFA\u5B50\u76EE\u5F55\u3002</p><h5 id="alter-table-not-skewed" tabindex="-1"><a class="header-anchor" href="#alter-table-not-skewed" aria-hidden="true">#</a> Alter Table Not Skewed</h5><div class="language-text ext-text"><pre class="language-text"><code>ALTER TABLE table_name NOT SKEWED;
</code></pre></div><p><code>NOT incline</code>\u9009\u9879\u53EF\u4EE5\u4F7F\u8868\u4E0D\u542F\u7528\u503E\u659C\u9009\u9879\uFF0C\u5E76\u5173\u95ED\u5217\u8868\u6876\u529F\u80FD(\u56E0\u4E3A\u5217\u8868\u6876\u8868\u603B\u662F\u503E\u659C\u7684)\u3002\u8FD9\u4F1A\u5F71\u54CDALTER\u8BED\u53E5\u4E4B\u540E\u521B\u5EFA\u7684\u5206\u533A\uFF0C\u4F46\u5BF9ALTER\u8BED\u53E5\u4E4B\u524D\u521B\u5EFA\u7684\u5206\u533A\u6CA1\u6709\u5F71\u54CD\u3002</p><h5 id="alter-table-not-stored-as-directories" tabindex="-1"><a class="header-anchor" href="#alter-table-not-stored-as-directories" aria-hidden="true">#</a> Alter Table Not Stored as Directories</h5><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token operator">NOT</span> STORED <span class="token keyword">AS</span> DIRECTORIES<span class="token punctuation">;</span>
</code></pre></div><p>\u8FD9\u5C06\u5173\u95ED\u5217\u8868\u6876\u529F\u80FD\uFF0C\u5C3D\u7BA1\u8868\u4ECD\u7136\u503E\u659C\u3002</p><h5 id="alter-table-set-skewed-location" tabindex="-1"><a class="header-anchor" href="#alter-table-set-skewed-location" aria-hidden="true">#</a> Alter Table Set Skewed Location</h5><div class="language-text ext-text"><pre class="language-text"><code>ALTER TABLE table_name SET SKEWED LOCATION (col_name1=&quot;location1&quot; [, col_name2=&quot;location2&quot;, ...] );
</code></pre></div><p>\u8FD9\u5C06\u66F4\u6539\u5217\u8868\u6876\u7684\u4F4D\u7F6E\u6620\u5C04\u3002</p><h4 id="alter-table-constraints" tabindex="-1"><a class="header-anchor" href="#alter-table-constraints" aria-hidden="true">#</a> Alter Table Constraints</h4>`,14),is={class:"custom-container tip"},us={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ds=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ks=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),hs=[ds,ks],gs=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),_s=n("p",null,"\u4ECE Hive 2.1.0 \u7248\u672C\u5F00\u59CB\u652F\u6301",-1),ms=t(`<p>\u53EF\u4EE5\u901A\u8FC7ALTER Table\u8BED\u53E5\u6DFB\u52A0\u6216\u5220\u9664\u8868\u7EA6\u675F\u3002</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> table_name<span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE RELY<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">DISABLE</span> NOVALIDATE<span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE <span class="token keyword">COLUMN</span> column_name column_name data_type <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">ENABLE</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE <span class="token keyword">COLUMN</span> column_name column_name data_type <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">DEFAULT</span> default_value <span class="token keyword">ENABLE</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name CHANGE <span class="token keyword">COLUMN</span> column_name column_name data_type <span class="token keyword">CONSTRAINT</span> constraint_name <span class="token keyword">CHECK</span> check_expression <span class="token keyword">ENABLE</span><span class="token punctuation">;</span>
 
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token keyword">CONSTRAINT</span> constraint_name<span class="token punctuation">;</span>
</code></pre></div><h4 id="additional-alter-table-statements" tabindex="-1"><a class="header-anchor" href="#additional-alter-table-statements" aria-hidden="true">#</a> Additional Alter Table Statements</h4><p>\u6709\u5173\u66F4\u591A\u66F4\u6539\u8868\u7684DDL\u8BED\u53E5\uFF0C\u8BF7\u53C2\u89C1\u4E0B\u9762\u7684Alter Either Table or Partition\u3002</p><h3 id="alter-partition" tabindex="-1"><a class="header-anchor" href="#alter-partition" aria-hidden="true">#</a> Alter Partition</h3><p>\u901A\u8FC7\u4F7F\u7528ALTER TABLE\u8BED\u53E5\u4E2D\u7684PARTITION\u5B50\u53E5\uFF0C\u53EF\u4EE5\u6DFB\u52A0\u3001\u91CD\u547D\u540D\u3001\u4EA4\u6362(\u79FB\u52A8)\u3001\u5220\u9664\u6216(\u662F\u5426)\u5F52\u6863\u5206\u533A\u3002</p>`,6),Es={class:"custom-container tip"},ws={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},vs=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),fs=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ts=[vs,fs],ys=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),bs=n("p",null,[a("\u4ECE Hive 1.2 \u7248\u672C\u5F00\u59CB ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-10307",target:"_blank",rel:"noopener noreferrer"},"HIVE-10307"),a("), \u5982\u679C\u5C5E\u6027"),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.typecheck.on.insert",target:"_blank",rel:"noopener noreferrer"},"hive.typecheck.on.insert"),a("\u88AB\u8BBE\u7F6E\u4E3Atrue(\u9ED8\u8BA4\u503C)\uFF0C\u5206\u533A\u89C4\u8303\u4E2D\u6307\u5B9A\u7684\u5206\u533A\u503C\u5C06\u88AB\u7C7B\u578B\u68C0\u67E5\u3001\u8F6C\u6362\u548C\u89C4\u8303\u5316\u4EE5\u7B26\u5408\u5176\u5217\u7C7B\u578B\u3002\u503C\u53EF\u4EE5\u662F\u6570\u5B57\u5B57\u9762\u503C\u3002")],-1),Ss=t(`<h4 id="add-partitions" tabindex="-1"><a class="header-anchor" href="#add-partitions" aria-hidden="true">#</a> <strong>Add Partitions</strong></h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> partition_spec <span class="token punctuation">[</span>LOCATION <span class="token string">&#39;location&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">PARTITION</span> partition_spec <span class="token punctuation">[</span>LOCATION <span class="token string">&#39;location&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
partition_spec:
  : <span class="token punctuation">(</span>partition_column <span class="token operator">=</span> partition_col_value<span class="token punctuation">,</span> partition_column <span class="token operator">=</span> partition_col_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><p>\u53EF\u4EE5\u4F7F\u7528ALTER TABLE ADD PARTITION\u4E3A\u8868\u6DFB\u52A0\u5206\u533A\u3002\u5206\u533A\u503C\u53EA\u6709\u5728\u662F\u5B57\u7B26\u4E32\u65F6\u624D\u9700\u8981\u52A0\u5F15\u53F7\u3002<code>LOCATION</code>\u5FC5\u987B\u662F\u6570\u636E\u6587\u4EF6\u6240\u5728\u7684\u76EE\u5F55\u3002\uFF08<code>ADD PARTITION</code>\u6539\u53D8\u4E86\u8868\u5143\u6570\u636E\uFF0C\u4F46\u4E0D\u52A0\u8F7D\u6570\u636E\u3002\u5982\u679C\u6570\u636E\u5728\u5206\u533A\u7684\u4F4D\u7F6E\u4E0D\u5B58\u5728\uFF0C\u67E5\u8BE2\u5C06\u4E0D\u4F1A\u8FD4\u56DE\u4EFB\u4F55\u7ED3\u679C\u3002)\u5982\u679C\u8BE5\u8868\u7684\u5206\u533A\u5DF2\u7ECF\u5B58\u5728\uFF0C\u5219\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF\u3002\u53EF\u4EE5\u4F7F\u7528IF NOT EXISTS\u6765\u8DF3\u8FC7\u8FD9\u4E2A\u9519\u8BEF\u63D0\u9192\u3002</p>`,3),As={class:"custom-container tip"},Rs={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Is=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Hs=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Os=[Is,Hs],Ls=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Ds=n("p",null,[a("\u5728Hive0.7\u7248\u672C\u4E2D\uFF0C\u4E00\u4E2AALTER TABLE\u4E2D\u5305\u542B\u591A\u4E2A"),n("code",null,"partition_spec"),a("\u8FD9\u79CD\u5199\u6CD5\u4F1A\u62A5\u9519\u3002")],-1),Cs=n("p",null,"\u5728Hive 0.8\u7248\u672C\u53CA\u4EE5\u540E\u7248\u672C\u4E2D\uFF0C\u53EF\u4EE5\u5728\u4E00\u6761ALTER TABLE\u8BED\u53E5\u4E2D\u6DFB\u52A0\u591A\u4E2A\u5206\u533A\uFF0C\u5982\u4E0B\u4F8B\u6240\u793A\u3002",-1),xs=t(`<p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> page_view <span class="token keyword">ADD</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>dt<span class="token operator">=</span><span class="token string">&#39;2008-08-08&#39;</span><span class="token punctuation">,</span> country<span class="token operator">=</span><span class="token string">&#39;us&#39;</span><span class="token punctuation">)</span> location <span class="token string">&#39;/path/to/us/part080808&#39;</span>
                          <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>dt<span class="token operator">=</span><span class="token string">&#39;2008-08-09&#39;</span><span class="token punctuation">,</span> country<span class="token operator">=</span><span class="token string">&#39;us&#39;</span><span class="token punctuation">)</span> location <span class="token string">&#39;/path/to/us/part080809&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>\u5728Hive 0.7\u4E2D\uFF0C\u5982\u679C\u60F3\u6DFB\u52A0\u5F88\u591A\u5206\u533A\uFF0C\u5E94\u8BE5\u4F7F\u7528\u4E0B\u9762\u7684\u5F62\u5F0F\uFF1A</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partCol <span class="token operator">=</span> <span class="token string">&#39;value1&#39;</span><span class="token punctuation">)</span> location <span class="token string">&#39;loc1&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partCol <span class="token operator">=</span> <span class="token string">&#39;value2&#39;</span><span class="token punctuation">)</span> location <span class="token string">&#39;loc2&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">ADD</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partCol <span class="token operator">=</span> <span class="token string">&#39;valueN&#39;</span><span class="token punctuation">)</span> location <span class="token string">&#39;locN&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="dynamic-partitions" tabindex="-1"><a class="header-anchor" href="#dynamic-partitions" aria-hidden="true">#</a> <strong>Dynamic Partitions</strong></h5><p>\u5728\u6267\u884CHive INSERT\u8BED\u53E5(\u6216Pig STORE\u8BED\u53E5)\u65F6\uFF0C\u52A8\u6001\u6DFB\u52A0\u5206\u533A\u3002\u6709\u5173\u7EC6\u8282\u548C\u793A\u4F8B\uFF0C\u8BF7\u53C2\u9605\u8FD9\u4E9B\u6587\u6863:</p><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/DynamicPartitions" target="_blank" rel="noopener noreferrer">Design Document for Dynamic Partitions</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/Tutorial#Tutorial-Dynamic-PartitionInsert" target="_blank" rel="noopener noreferrer">Tutorial: Dynamic-Partition Insert</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-DynamicPartitionInserts" target="_blank" rel="noopener noreferrer">Hive DML: Dynamic Partition Inserts</a></li><li>HCatalog Dynamic Partitioning <ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/HCatalog+DynamicPartitions#HCatalogDynamicPartitions-UsagewithPig" target="_blank" rel="noopener noreferrer">Usage with Pig</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/HCatalog+DynamicPartitions#HCatalogDynamicPartitions-UsagefromMapReduce" target="_blank" rel="noopener noreferrer">Usage from MapReduce</a></li></ul></li></ul><h4 id="rename-partition" tabindex="-1"><a class="header-anchor" href="#rename-partition" aria-hidden="true">#</a> Rename Partition</h4>`,9),Ns={class:"custom-container tip"},Ms={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},qs=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ps=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Bs=[qs,Ps],Vs=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Us=n("p",null,"\u4ECE Hive 0.9. \u7248\u672C\u5F00\u59CB\u652F\u6301",-1),Zs=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">PARTITION</span> partition_spec <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">;</span>
</code></pre></div><p>\u8FD9\u4E2A\u8BED\u53E5\u4F1A\u66F4\u6539\u5206\u533A\u5217\u7684\u503C\u3002\u901A\u5E38\u60C5\u51B5\u4E0B\u7684\u7528\u4F8B\u662F\uFF0C\u53EF\u4EE5\u4F7F\u7528\u6B64\u8BED\u53E5\u6765\u89C4\u8303\u5316\u9057\u7559\u5206\u533A\u7684\u5217\u503C\uFF0C\u4F7F\u5176\u7B26\u5408\u89C4\u8303\u7C7B\u578B\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u65E7partition_spec\u4E2D\u7684\u5217\u503C\u6CA1\u6709\u542F\u7528\u7C7B\u578B\u8F6C\u6362\u548C\u5F52\u4E00\u5316\uFF0C\u5373\u4F7F\u5C5E\u6027hive.typecheck.on.insert\u8BBE\u7F6E\u4E3Atrue(\u9ED8\u8BA4)\uFF0C\u4ECD\u65E7\u53EF\u4EE5\u5728\u65E7partition_spec\u4E2D\u4EE5\u5B57\u7B26\u4E32\u5F62\u5F0F\u67E5\u770B\u6307\u5B9A\u9057\u7559\u6570\u636E\u3002</p><h4 id="exchange-partition" tabindex="-1"><a class="header-anchor" href="#exchange-partition" aria-hidden="true">#</a> Exchange Partition</h4><p>\u5728\u8868\u4E4B\u95F4\u4EA4\u6362(\u79FB\u52A8)\u5206\u533A\u3002</p>`,4),Fs={class:"custom-container tip"},zs={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ws=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),js=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Gs=[Ws,js],Ys=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Xs=n("p",null,[a("\u4ECE Hive 0.12 \u7248\u672C\u5F00\u59CB\u652F\u6301("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-4095",target:"_blank",rel:"noopener noreferrer"},"HIVE-4095"),a("). \u652F\u6301\u591A\u5206\u533A\u7684\u7248\u672C\uFF1AHive "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-11745",target:"_blank",rel:"noopener noreferrer"},"1.2.2, 1.3.0, and 2.0.0+"),a(".")],-1),Ks=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- Move partition from table_name_1 to table_name_2</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name_2 EXCHANGE <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partition_spec<span class="token punctuation">)</span> <span class="token keyword">WITH</span> <span class="token keyword">TABLE</span> table_name_1<span class="token punctuation">;</span>
<span class="token comment">-- multiple partitions</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name_2 EXCHANGE <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partition_spec<span class="token punctuation">,</span> partition_spec2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">WITH</span> <span class="token keyword">TABLE</span> table_name_1<span class="token punctuation">;</span>
</code></pre></div><p>\u8BE5\u8BED\u53E5\u5141\u8BB8\u5C06\u5206\u533A\u4E2D\u7684\u6570\u636E\u4ECE\u4E00\u4E2A\u8868\u79FB\u52A8\u5230\u53E6\u4E00\u4E2A\u5177\u6709\u76F8\u540C\u6A21\u5F0F\u4E14\u5C1A\u672A\u62E5\u6709\u8BE5\u5206\u533A\u7684\u8868\u3002</p><h4 id="discover-partitions" tabindex="-1"><a class="header-anchor" href="#discover-partitions" aria-hidden="true">#</a> Discover Partitions</h4>`,3),Qs={class:"custom-container tip"},Js={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},$s=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ne=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ae=[$s,ne],se=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ee=n("p",null,[a("\u4ECE Hive 4.0.0 \u7248\u672C\u5F00\u59CB\u652F\u6301 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-20707",target:"_blank",rel:"noopener noreferrer"},"HIVE-20707"),a(").")],-1),te=t('<p><code>discover.partitions</code>\u662F\u4E00\u4E2A\u8868\u5C5E\u6027 \uFF0C\u8BE5\u5C5E\u6027\u7528\u4E8E\u4EE4Hive Metastore\u542F\u52A8\u5206\u533A\u5143\u6570\u636E\u7684\u81EA\u52A8\u53D1\u73B0\u548C\u540C\u6B65\u3002</p><p>\u5F53 Hive Metastore Service (HMS) \u5728\u8FDC\u7A0B\u670D\u52A1\u6A21\u5F0F\u4E0B\u542F\u52A8\u65F6\uFF0C\u540E\u53F0\u7EBF\u7A0B(PartitionManagementTask)\u6BCF300\u79D2\u5B9A\u65F6\u8C03\u5EA6\u4E00\u6B21(\u53EF\u901A\u8FC7Metastore .partition.management.task.frequency config\u914D\u7F6E)\uFF0C\u5B83\u67E5\u627E\u5E26\u6709<code>discover. partition.management.task.frequency config</code>\u7684\u8868\u3002<code>partitions</code>\u8868\u5C5E\u6027\u8BBE\u7F6E\u4E3Atrue\u5E76\u5728\u540C\u6B65\u6A21\u5F0F\u4E0B\u6267\u884C<code>MSCK REPAIR</code>\u3002\u5982\u679C\u8868\u662F\u4E8B\u52A1\u6027\u8868\uFF0C\u5219\u5728\u6267\u884C<code>MSCK REPAIR</code>\u4E4B\u524D\u4E3A\u8BE5\u8868\u83B7\u5F97<code>Exclusive Lock</code>\u3002\u6709\u4E86\u8FD9\u4E2A\u8868\u5C5E\u6027\uFF0C<code>MSCK REPAIR table table_name SYNC PARTITIONS</code>\u4E0D\u518D\u9700\u8981\u624B\u52A8\u8FD0\u884C\u3002</p><h4 id="partition-retention" tabindex="-1"><a class="header-anchor" href="#partition-retention" aria-hidden="true">#</a> Partition Retention</h4>',3),oe={class:"custom-container tip"},pe={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},le=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ce=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),re=[le,ce],ie=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ue=n("p",null,[a("As of Hive 4.0.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-20707",target:"_blank",rel:"noopener noreferrer"},"HIVE-20707"),a(").")],-1),de=t(`<p>\u8868\u5C5E\u6027<code>partition.retention</code>\uFF0C\u53EF\u4EE5\u4E3A\u5206\u533A\u8868\u6307\u5B9A\u4FDD\u7559\u5468\u671F\u3002\u5F53\u6307\u5B9A\u4FDD\u7559\u95F4\u9694\u65F6\uFF0C\u8FD0\u884C\u5728HMS\u4E2D\u7684\u540E\u53F0\u7EBF\u7A0B(\u8BF7\u53C2\u9605\u201C\u53D1\u73B0\u5206\u533A\u201D\u90E8\u5206)\u5C06\u68C0\u67E5\u5206\u533A\u7684\u5E74\u9F84(\u521B\u5EFA\u65F6\u95F4)\uFF0C\u5982\u679C\u5206\u533A\u7684\u5E74\u9F84\u5927\u4E8E\u4FDD\u7559\u65F6\u95F4\uFF0C\u5219\u5C06\u5220\u9664\u5206\u533A\uFF0C\u540C\u65F6\u4E5F\u4F1A\u5220\u9664\u8BE5\u5206\u533A\u4E2D\u7684\u6570\u636E\u3002</p><p>\u4F8B\u5982\uFF0C\u5982\u679C\u4E00\u5F20\u4EE5<code>date</code>\u4E3A\u5206\u533A\u5217\u7684\u8868\uFF0C\u5728\u521B\u5EFA\u65F6\u542F\u7528\u4E86<code>&quot;discover.partitions&quot;=&quot;true&quot;</code>\u5E76\u8BBE\u7F6E\u4E86<code>&quot;partition.retention.period&quot;=&quot;7d&quot;</code>\u3002\u5219\u4EC5\u4FDD\u7559\u6700\u8FD17\u5929\u5185\u521B\u5EFA\u7684\u5206\u533A\uFF0C7\u524D\u5929\u7684\u6570\u636E\u5C06\u88AB\u5B9A\u65F6\u6E05\u7406\u3002</p><h4 id="recover-partitions-msck-repair-table" tabindex="-1"><a class="header-anchor" href="#recover-partitions-msck-repair-table" aria-hidden="true">#</a> Recover Partitions (MSCK REPAIR TABLE)</h4><p>Hive\u5728\u5176\u5143\u6570\u636E\u5E93\u4E2D\u4E3A\u6BCF\u4E2A\u8868\u5B58\u50A8\u4E00\u4E2A\u5206\u533A\u5217\u8868\u3002\u7136\u800C\uFF0C\u5982\u679C\u65B0\u5206\u533A\u88AB\u76F4\u63A5\u6DFB\u52A0\u5230HDFS(\u4F8B\u5982\u4F7F\u7528hadoop fs -put\u547D\u4EE4)\u6216\u4ECEHDFS\u5220\u9664\uFF0C\u9664\u975E\u7528\u6237\u5728\u6BCF\u4E2A\u65B0\u6DFB\u52A0\u6216\u5220\u9664\u7684\u5206\u533A\u4E0A\u5206\u522B\u8FD0\u884C<code>ALTER TABLE table_name ADD/DROP partition</code>\u547D\u4EE4\uFF0C\u5426\u5219metastore(\u56E0\u6B64Hive)\u4E0D\u4F1A\u610F\u8BC6\u5230\u8FD9\u4E9B\u5BF9\u5206\u533A\u4FE1\u606F\u7684\u66F4\u6539\u3002</p><p>\u4F46\u662F\uFF0C\u7528\u6237\u53EF\u4EE5\u4F7F\u7528repair table\u9009\u9879\u8FD0\u884Cmetastore check\u547D\u4EE4:</p><div class="language-sql ext-sql"><pre class="language-sql"><code>MSCK <span class="token punctuation">[</span>REPAIR<span class="token punctuation">]</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">ADD</span><span class="token operator">/</span><span class="token keyword">DROP</span><span class="token operator">/</span>SYNC PARTITIONS<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>\u5B83\u4F1A\u5C06\u5143\u6570\u636E\u4E0D\u5B58\u5728\u7684\u5206\u533A\u66F4\u65B0\u5230Hive\u7684\u5143\u6570\u636E\u5E93\u3002MSC\u547D\u4EE4\u7684\u9ED8\u8BA4\u9009\u9879\u662FADD PARTITIONS</p><ul><li>ADD PARTITIONS\u9009\u9879\uFF0C\u5C06HDFS\u4E0A\u5B58\u5728\u4F46\u4E0D\u5728\u5143\u6570\u636E\u5E93\u4E2D\u7684\u5206\u533A\u6DFB\u52A0\u5230\u5143\u6570\u636E\u5E93\u4E2D\u3002</li><li>DROP PARTITIONS\u9009\u9879\uFF0C\u5C06\u4ECE\u5143\u6570\u636E\u5E93\u4E2D\u5220\u9664\u5206\u533A\u4FE1\u606F\uFF0C\u8FD9\u5DF2\u7ECF\u4ECEHDFS\u4E2D\u5220\u9664\u4E86\u3002</li><li>SYNC PARTITIONS\u9009\u9879\uFF0C\u7B49\u540C\u4E8E\u540C\u65F6\u8C03\u7528ADD PARTITIONS\u548CDROP PARTITIONS\u3002</li><li>See <a href="https://issues.apache.org/jira/browse/HIVE-874" target="_blank" rel="noopener noreferrer">HIVE-874</a> and <a href="https://issues.apache.org/jira/browse/HIVE-17824" target="_blank" rel="noopener noreferrer">HIVE-17824</a> for more details.</li><li>\u5F53Hive\u4E2D\u5B58\u5728\u5927\u91CF\u672A\u8DDF\u8E2A\u7684\u5206\u533A\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6279\u5904\u7406\u8FD0\u884CMSCK REPAIR TABLE\u6765\u907F\u514DOOME(Out of Memory Error)\u3002\u914D\u7F6E<code>hive.msck.repair.batch.size</code>\u7684\u5927\u5C0F\uFF0C\u8BE5\u5C5E\u6027\u7684\u9ED8\u8BA4\u503C\u4E3A0\uFF0C\u8FD9\u610F\u5473\u7740\u5B83\u5C06\u4E00\u6B21\u6267\u884C\u6240\u6709\u5206\u533A\u3002</li><li>MSCK\u547D\u4EE4\u5982\u679C\u4E0D\u6DFB\u52A0 REPAIR\u9009\u9879\uFF0C\u53EF\u7528\u4E8E\u4FEE\u590D\u4E0E\u5143\u6570\u636E\u5E93\u4E2D\u4E0D\u5339\u914D\u7684\u5143\u6570\u636E\u3002</li></ul><p>\u5728<code>Amazon Elastic MapReduce (EMR)</code>\u7684Hive\u7248\u672C\u4E0A\u7684\u7B49\u6548\u547D\u4EE4\u662F\uFF1A</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name RECOVER PARTITIONS<span class="token punctuation">;</span>
</code></pre></div><p>\u4ECEHive 1.3\u5F00\u59CB\uFF0C\u5982\u679C\u5728HDFS\u4E0A\u53D1\u73B0\u5206\u533A\u503C\u4E2D\u5305\u542B\u4E0D\u5141\u8BB8\u5B57\u7B26\u7684\u76EE\u5F55\uFF0CMSCK\u5C06\u629B\u51FA\u5F02\u5E38\u3002\u53EF\u4EE5\u901A\u8FC7<code>hive.msck.path.validation</code>\u5C5E\u6027\u8BBE\u7F6E\u6765\u6539\u53D8\u8FD9\u79CD\u884C\u4E3A\uFF1A</p><ul><li><code>skip</code>\uFF1A\u5C06\u8DF3\u8FC7\u76EE\u5F55</li><li><code>ignore</code>\uFF1A\u5C06\u5C1D\u8BD5\u521B\u5EFA\u5206\u533A(\u65E7\u884C\u4E3A)\uFF0C\u8FD9\u53EF\u80FD\u6709\u7528\uFF0C\u4E5F\u53EF\u80FD\u6CA1\u7528\u3002</li></ul><h4 id="drop-partitions" tabindex="-1"><a class="header-anchor" href="#drop-partitions" aria-hidden="true">#</a> Drop Partitions</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">IGNORE</span> PROTECTION<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">PURGE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">-- (Note: PURGE available in Hive 1.2.0 and later, IGNORE PROTECTION not available 2.0.0 and later)</span>
</code></pre></div><p>\u53EF\u4EE5\u4F7F\u7528<code>ALTER TABLE DROP PARTITION</code>\u5220\u9664\u4E00\u4E2A\u8868\u7684\u5206\u533A\u3002\u8FD9\u5C06\u5220\u9664\u8BE5\u5206\u533A\u7684\u6570\u636E\u548C\u5143\u6570\u636E\u3002\u5982\u679C\u914D\u7F6E\u4E86Trash\uFF0C\u6570\u636E\u4F1A\u79FB\u52A8\u5230.Trash/Current\u76EE\u5F55\uFF0C\u9664\u975E\u6307\u5B9A\u4E86PURGE\uFF0C\u4F46\u662F\u65E0\u8BBA\u5982\u4F55\uFF0C\u5143\u6570\u636E\u90FD\u4F1A\u5B8C\u5168\u4E22\u5931(\u53C2\u89C1\u4E0A\u9762\u7684Drop Table)\u3002</p>`,15),ke={class:"custom-container tip"},he={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ge=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),_e=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),me=[ge,_e],Ee=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F: PROTECTION",-1),we=n("p",null,[a("IGNORE PROTECTION is no longer available in versions 2.0.0 and later. This functionality is replaced by using one of the several security options available with Hive (see "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization",target:"_blank",rel:"noopener noreferrer"},"SQL Standard Based Hive Authorization"),a("). See "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-11145",target:"_blank",rel:"noopener noreferrer"},"HIVE-11145"),a(" for details.")],-1),ve=t(`<p>\u5BF9\u4E8ENO_DROP CASCADE\u4FDD\u62A4\u7684\u8868\uFF0C\u53EF\u4EE5\u4F7F\u7528IGNORE PROTECTION\u5220\u9664\u6307\u5B9A\u7684\u5206\u533A\u6216\u4E00\u7EC4\u5206\u533A(\u4F8B\u5982\uFF0C\u5728\u4E24\u4E2AHadoop\u96C6\u7FA4\u4E4B\u95F4\u5206\u5272\u4E00\u4E2A\u8868\u65F6):</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> partition_spec <span class="token keyword">IGNORE</span> PROTECTION<span class="token punctuation">;</span>
</code></pre></div><p>\u4E0D\u7BA1\u4FDD\u62A4\u72B6\u6001\u5982\u4F55\uFF0C\u4E0A\u9762\u7684\u547D\u4EE4\u90FD\u5C06\u5220\u9664\u8BE5\u5206\u533A\u3002</p>`,3),fe={class:"custom-container tip"},Te={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ye=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),be=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Se=[ye,be],Ae=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F: PURGE",-1),Re=n("p",null,[a("The PURGE option is added to ALTER TABLE in version 1.2.1 by "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-10934",target:"_blank",rel:"noopener noreferrer"},"HIVE-10934"),a(".")],-1),Ie=t(`<p>\u5982\u679C\u6307\u5B9A\u4E86PURGE\uFF0C\u5206\u533A\u6570\u636E\u4E0D\u4F1A\u5230.Trash/Current\u76EE\u5F55\uFF0C\u56E0\u6B64\u5728DROP\u7684\u4E8B\u4EF6\u65E5\u5FD7\u4E2D\u65E0\u6CD5\u68C0\u7D22\u5230\u9519\u8BEF\u4FE1\u606F\uFF1A</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token keyword">DROP</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> partition_spec <span class="token keyword">PURGE</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Hive 1.2.0 and later)</span>
</code></pre></div><p>\u6E05\u9664\u9009\u9879\u4E5F\u53EF\u4EE5\u7528\u8868\u5C5E\u6027<code>auto.purge</code>\u3002(\u53C2\u89C1\u4E0A\u9762\u7684TBLPROPERTIES)\u3002</p><p>\u5728Hive 0.7.0\u6216\u66F4\u9AD8\u7248\u672C\u4E2D\uFF0C\u5982\u679C\u5220\u9664\u7684\u5206\u533A\u4E0D\u5B58\u5728\uFF0CDROP\u65F6\u5C06\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\uFF0C\u9664\u975E\u6307\u5B9A\u4E86if EXISTS\u6216\u914D\u7F6E\u53D8\u91CF <a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.drop.ignorenonexistent" target="_blank" rel="noopener noreferrer">hive.exec.drop.ignorenonexistent</a>\u88AB\u8BBE\u7F6E\u4E3Atrue\u3002</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> page_view <span class="token keyword">DROP</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>dt<span class="token operator">=</span><span class="token string">&#39;2008-08-08&#39;</span><span class="token punctuation">,</span> country<span class="token operator">=</span><span class="token string">&#39;us&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="un-archive-partition" tabindex="-1"><a class="header-anchor" href="#un-archive-partition" aria-hidden="true">#</a> (Un)Archive Partition</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name ARCHIVE <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name UNARCHIVE <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">;</span>
</code></pre></div><p>\u5F52\u6863\u662F\u4E00\u79CD\u5C06\u5206\u533A\u6587\u4EF6\u79FB\u52A8\u5230Hadoop Archive (HAR)\u7684\u529F\u80FD\u3002\u6CE8\u610F\uFF0C\u53EA\u6709\u6587\u4EF6\u8BA1\u6570\u4F1A\u51CF\u5C11;HAR\u4E0D\u63D0\u4F9B\u4EFB\u4F55\u538B\u7F29\u3002\u53C2\u9605<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Archiving" target="_blank" rel="noopener noreferrer">LanguageManual Archiving</a>\u83B7\u53D6\u66F4\u591A\u8BE6\u60C5\u3002</p><h3 id="alter-either-table-or-partition" tabindex="-1"><a class="header-anchor" href="#alter-either-table-or-partition" aria-hidden="true">#</a> Alter Either Table or Partition</h3><h4 id="alter-table-partition-file-format" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-file-format" aria-hidden="true">#</a> Alter Table/Partition File Format</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token keyword">SET</span> FILEFORMAT file_format<span class="token punctuation">;</span>
</code></pre></div><p>\u6B64\u8BED\u53E5\u66F4\u6539\u8868(\u6216\u5206\u533A)\u7684\u6587\u4EF6\u683C\u5F0F\u3002\u6709\u5173\u53EF\u7528\u7684file_format\u9009\u9879\uFF0C\u8BF7\u53C2\u9605\u4E0A\u9762CREATE TABLE\u7684\u90E8\u5206\u3002\u8BE5\u64CD\u4F5C\u4EC5\u66F4\u6539\u8868\u5143\u6570\u636E\u3002\u73B0\u6709\u6570\u636E\u7684\u4EFB\u4F55\u8F6C\u6362\u90FD\u5FC5\u987B\u5728Hive\u5916\u90E8\u5B8C\u6210\u3002</p><h4 id="alter-table-partition-location" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-location" aria-hidden="true">#</a> Alter Table/Partition Location</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token keyword">SET</span> LOCATION <span class="token string">&quot;new location&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="alter-table-partition-touch" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-touch" aria-hidden="true">#</a> Alter Table/Partition Touch</h4><div class="language-text ext-text"><pre class="language-text"><code>ALTER TABLE table_name TOUCH [PARTITION partition_spec];
</code></pre></div><p>TOUCH\u8BFB\u53D6\u5143\u6570\u636E\uFF0C\u5E76\u91CD\u5199\uFF08\u4FEE\u6539\u8868\u7684<code>LastModifiedTime</code>\uFF0C\u5E76\u5C06\u8868\u7684<code>LastModifiedTime</code>\u4FEE\u6539\u4E3A\u5F53\u524D\u65F6\u95F4\uFF09\u3002\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5047\u5982\u4F60\u6709\u4E00\u4E2Ahooks \uFF08\u5B83\u5C06\u8BB0\u5F55\u6240\u6709\u88AB\u4FEE\u6539\u7684\u8868/\u5206\u533A\uFF09\uFF0C\u4EE5\u53CA\u4E00\u4E2A\u5916\u90E8\u811A\u672C\uFF08\u53EF\u4EE5\u76F4\u63A5\u6539\u53D8HDFS\u4E0A\u7684\u6587\u4EF6\uFF09\u3002\u7531\u4E8E\u811A\u672C\u5728hive\u5916\u90E8\u4FEE\u6539\u6587\u4EF6\uFF0C\u56E0\u6B64hooks \u4E0D\u4F1A\u8BB0\u5F55\u4FEE\u6539\u3002\u5916\u90E8\u811A\u672C\u53EF\u4EE5\u8C03\u7528TOUCH\u6765\u89E6\u53D1hooks \uFF0C\u5E76\u5C06\u6240\u8FF0\u8868\u6216\u5206\u533A\u6807\u8BB0\u4E3A\u5DF2\u4FEE\u6539\u3002</p><p>\u6CE8\u610F\uFF0CTOUCH\u547D\u4EE4\u4E0D\u4F1A\u521B\u5EFA\u8868\u6216\u5206\u533A\u5982\u679C\u5B83\u4EEC\u4E0D\u5B58\u5728\u7684\u8BDD\u3002</p><h4 id="alter-table-partition-protections" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-protections" aria-hidden="true">#</a> Alter Table/Partition Protections</h4>`,19),He={class:"custom-container tip"},Oe={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Le=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),De=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ce=[Le,De],xe=t('<p class="custom-container-title">\u7248\u672C\u4FE1\u606F</p><p>As of Hive 0.7.0 (<a href="https://issues.apache.org/jira/browse/HIVE-1413" target="_blank" rel="noopener noreferrer">HIVE-1413</a>). The CASCADE clause for NO_DROP was added in HIVE 0.8.0 (<a href="https://issues.apache.org/jira/browse/HIVE-2605" target="_blank" rel="noopener noreferrer">HIVE-2605</a>).</p><p>This functionality was removed in Hive 2.0.0. This functionality is replaced by using one of the several security options available with Hive (see <a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization" target="_blank" rel="noopener noreferrer">SQL Standard Based Hive Authorization</a>). See <a href="https://issues.apache.org/jira/browse/HIVE-11145" target="_blank" rel="noopener noreferrer">HIVE-11145</a> for details.</p>',3),Ne=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token keyword">ENABLE</span><span class="token operator">|</span><span class="token keyword">DISABLE</span> NO_DROP <span class="token punctuation">[</span><span class="token keyword">CASCADE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token keyword">ENABLE</span><span class="token operator">|</span><span class="token keyword">DISABLE</span> OFFLINE<span class="token punctuation">;</span>
</code></pre></div><p>\u6570\u636E\u4FDD\u62A4\u53EF\u4EE5\u8BBE\u7F6E\u5728\u8868\u7EA7\u6216\u5206\u533A\u7EA7\u3002\u542F\u7528NO_DROP\u53EF\u4EE5\u9632\u6B62\u8868\u88AB\u5220\u9664\u3002\u542F\u7528OFFLINE\u53EF\u4EE5\u963B\u6B62\u67E5\u8BE2\u8868\u6216\u5206\u533A\u4E2D\u7684\u6570\u636E\uFF0C\u4F46\u4ECD\u7136\u53EF\u4EE5\u8BBF\u95EE\u5143\u6570\u636E\u3002</p><p>\u5982\u679C\u8868\u4E2D\u7684\u4EFB\u4F55\u5206\u533A\u542F\u7528\u4E86NO_DROP\uFF0C\u5219\u8868\u4E5F\u4E0D\u80FD\u88AB\u5220\u9664\u3002\u76F8\u53CD\uFF0C\u5982\u679C\u4E00\u4E2A\u8868\u542F\u7528\u4E86NO/+DROP\uFF0C\u90A3\u4E48\u5206\u533A\u53EF\u4EE5\u88AB\u5220\u9664\uFF0C\u4F46\u662F\u5982\u679C\u4F7F\u7528NO_DROP\uFF0C\u7EA7\u8054\u5206\u533A\u4E5F\u4E0D\u80FD\u88AB\u5220\u9664\uFF0C\u9664\u975Edrop partition\u547D\u4EE4\u6307\u5B9A\u4E86IGNORE PROTECTION\u3002</p><h4 id="alter-table-partition-compact" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-compact" aria-hidden="true">#</a> Alter Table/Partition Compact</h4>`,4),Me={class:"custom-container tip"},qe={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Pe=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Be=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ve=[Pe,Be],Ue=t('<p class="custom-container-title">\u7248\u672C\u4FE1\u606F</p><p>In Hive release <a href="https://issues.apache.org/jira/browse/HIVE-5317" target="_blank" rel="noopener noreferrer">0.13.0</a> and later when <a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions" target="_blank" rel="noopener noreferrer">transactions</a> are being used, the ALTER TABLE statement can request <a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-BasicDesign" target="_blank" rel="noopener noreferrer">compaction</a> of a table or partition. As of Hive release <a href="https://issues.apache.org/jira/browse/HIVE-13354" target="_blank" rel="noopener noreferrer">1.3.0 and 2.1.0</a> when <a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions" target="_blank" rel="noopener noreferrer">transactions</a> are being used, the ALTER TABLE ... COMPACT statement can include a <a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-TableProperties" target="_blank" rel="noopener noreferrer">TBLPROPERTIES</a> clause that is either to change compaction MapReduce job properties or to overwrite any other Hive table properties. More details can be found <a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-TableProperties" target="_blank" rel="noopener noreferrer">here</a>.</p>',2),Ze=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partition_key <span class="token operator">=</span> <span class="token string">&#39;partition_value&#39;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  COMPACT <span class="token string">&#39;compaction_type&#39;</span><span class="token punctuation">[</span><span class="token operator">AND</span> WAIT<span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">WITH</span> OVERWRITE TBLPROPERTIES <span class="token punctuation">(</span><span class="token string">&quot;property&quot;</span><span class="token operator">=</span><span class="token string">&quot;value&quot;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u5F53\u4F7F\u7528<a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions" target="_blank" rel="noopener noreferrer">Hive transactions</a>\u65F6\uFF0C\u4E0D\u9700\u8981\u624B\u52A8\u5408\u5E76\u6587\u4EF6\uFF0C\u56E0\u4E3A\u7CFB\u7EDF\u5C06\u81EA\u52A8\u68C0\u6D4B\u5E76\u81EA\u52A8\u5408\u5E76\u3002\u4F46\u662F\uFF0C\u5982\u679C\u5173\u95ED\u4E86\u8868\u7684\u81EA\u52A8\u5408\u5E76\uFF0C\u6216\u8005\u60A8\u5E0C\u671B\u4E0D\u901A\u8FC7\u7CFB\u7EDF\u6267\u884C\u81EA\u52A8\u5408\u5E76\uFF0C\u90A3\u4E48\u53EF\u4EE5\u4F7F\u7528ALTER table\u6765\u64CD\u4F5C\u5408\u5E76\u4E8B\u9879\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u8BE5\u8BED\u53E5\u5C06\u5BF9\u538B\u7F29\u8BF7\u6C42\u8FDB\u884C\u6392\u961F\u5E76\u8FD4\u56DE\u3002\u8981\u67E5\u770B\u5408\u5E76\u7684\u8FDB\u5EA6\uFF0C\u4F7F\u7528<code>SHOW COMPACTIONS</code>\u3002\u4ECEHive 2.2.0\u5F00\u59CB\uFF0C\u52A0\u5165\u4E86<code>AND WAIT</code>\u53EF\u9009\u9879\uFF0C\u8BE5\u9879\u7528\u4E8E\u6307\u5B9A\u5728\u5408\u5E76\u6267\u884C\u5B8C\u6210\u4E4B\u524D\u7684\u4E00\u4E9B\u64CD\u4F5C\u3002</p><p>\u5408\u5E76\u7C7B\u578B\u53EF\u4EE5\u65F6 MAJOR \u6216\u662F MINOR\u3002 \u53C2\u9605 <a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-BasicDesign" target="_blank" rel="noopener noreferrer">Hive Transactions</a> \u83B7\u53D6\u66F4\u591A\u8BE6\u60C5\u3002</p><h4 id="alter-table-partition-concatenate" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-concatenate" aria-hidden="true">#</a> Alter Table/Partition Concatenate</h4>`,4),Fe={class:"custom-container tip"},ze={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},We=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),je=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ge=[We,je],Ye=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Xe=n("p",null,[a("In Hive release "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-1950",target:"_blank",rel:"noopener noreferrer"},"0.8.0"),a(" RCFile added support for fast block level merging of small RCFiles using concatenate command. In Hive release "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-7509",target:"_blank",rel:"noopener noreferrer"},"0.14.0"),a(" ORC files added support fast stripe level merging of small ORC files using concatenate command.")],-1),Ke=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partition_key <span class="token operator">=</span> <span class="token string">&#39;partition_value&#39;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> CONCATENATE<span class="token punctuation">;</span>
</code></pre></div><p>\u5982\u679C\u8868\u6216\u5206\u533A\u5305\u542B\u8BB8\u591A\u5C0F\u7684rcfile\u6216ORC\u6587\u4EF6\uFF0C\u90A3\u4E48\u4E0A\u9762\u7684\u547D\u4EE4\u5C06\u628A\u5B83\u4EEC\u5408\u5E76\u6210\u66F4\u5927\u7684\u6587\u4EF6\u3002\u5BF9\u4E8ERCFile\uFF0C\u5408\u5E76\u53D1\u751F\u5728\u5757\u7EA7\u522B\uFF0C\u800C\u5BF9\u4E8EORC\u6587\u4EF6\uFF0C\u5408\u5E76\u53D1\u751F\u5728\u6761\u5E26\u7EA7\u522B\uFF0C\u4ECE\u800C\u907F\u514D\u4E86\u89E3\u538B\u548C\u89E3\u7801\u6570\u636E\u7684\u5F00\u9500\u3002</p><h4 id="alter-table-partition-update-columns" tabindex="-1"><a class="header-anchor" href="#alter-table-partition-update-columns" aria-hidden="true">#</a> Alter Table/Partition Update columns</h4>`,3),Qe={class:"custom-container tip"},Je={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},$e=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),nt=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),at=[$e,nt],st=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),et=n("p",null,[a("In Hive release "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-15995",target:"_blank",rel:"noopener noreferrer"},"3.0.0"),a(" this command was added to let the user sync serde stored schema information to metastore.")],-1),tt=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partition_key <span class="token operator">=</span> <span class="token string">&#39;partition_value&#39;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">UPDATE</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre></div><p>\u5177\u6709serdes\u7684\u8868(serdes\u81EA\u63CF\u8FF0\u8868\u6A21\u5F0F)\u5728\u4F7F\u7528\u4E2D\u53EF\u80FD\u4E0E\u5B58\u50A8\u5728Hive Metastore\u4E2D\u7684\u8868\u5177\u6709\u4E0D\u540C\u7684\u6A21\u5F0F\u3002\u4F8B\u5982\uFF0C\u5F53\u7528\u6237\u4F7F\u7528\u6A21\u5F0Furl\u6216\u6A21\u5F0F\u6587\u5B57\u521B\u5EFA\u4E00\u4E2AAvro\u5B58\u50A8\u8868\u65F6\uFF0C\u8BE5\u6A21\u5F0F\u5C06\u88AB\u63D2\u5165\u5230HMS\u4E2D\uFF0C\u7136\u540E\u65E0\u8BBAserde\u4E2D\u7684url\u6216\u6587\u5B57\u662F\u5426\u66F4\u6539\uFF0C\u8BE5\u6A21\u5F0F\u90FD\u4E0D\u4F1A\u5728HMS\u4E2D\u66F4\u6539\u3002\u8FD9\u53EF\u80FD\u4F1A\u5BFC\u81F4\u95EE\u9898\uFF0C\u7279\u522B\u662F\u5728\u4E0E\u5176\u4ED6Apache\u7EC4\u4EF6\u96C6\u6210\u65F6\u3002</p><p>\u66F4\u65B0\u5217\u7279\u6027\u4E3A\u7528\u6237\u63D0\u4F9B\u4E86\u4E00\u79CD\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u8BA9serde\u4E2D\u6240\u505A\u7684\u66F4\u6539\u540C\u6B65\u5230HMS\u4E2D\u3002\u5B83\u540C\u65F6\u9002\u7528\u4E8E\u8868\u548C\u5206\u533A\u7EA7\u522B\uFF0C\u4F46\u53EA\u9002\u7528\u4E8EHMS\u6CA1\u6709\u8DDF\u8E2A\u6A21\u5F0F\u7684\u8868(\u53C2\u89C1metastore.serdes.using.metastore.for.schema)\u3002\u5BF9\u540E\u4E00\u79CDserde\u7C7B\u578B\u4F7F\u7528\u8BE5\u547D\u4EE4\u5C06\u5BFC\u81F4\u9519\u8BEF\u3002</p><h3 id="alter-column" tabindex="-1"><a class="header-anchor" href="#alter-column" aria-hidden="true">#</a> Alter Column</h3><h4 id="rules-for-column-names" tabindex="-1"><a class="header-anchor" href="#rules-for-column-names" aria-hidden="true">#</a> Rules for Column Names</h4><p>\u5217\u540D\u4E0D\u533A\u5206\u5927\u5C0F\u5199\u3002</p>`,6),ot={class:"custom-container tip"},pt={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},lt=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ct=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),rt=[lt,ct],it=n("p",{class:"custom-container-title"},"**\u7248\u672C\u4FE1\u606F**",-1),ut=n("p",null,"\u5728Hive 0.12\u53CA\u66F4\u65E9\u7684\u7248\u672C\u4E2D\uFF0C\u8868\u540D\u548C\u5217\u540D\u4E2D\u53EA\u5141\u8BB8\u4F7F\u7528\u5B57\u6BCD\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\u5B57\u7B26\u3002",-1),dt=n("p",null,"\u5728Hive 0.13\u53CA\u4EE5\u540E\u7684\u7248\u672C\u4E2D\uFF0C\u5217\u540D\u53EF\u4EE5\u5305\u542B\u4EFB\u4F55Unicode\u5B57\u7B26(\u53C2\u89C1Hive -6013)\uFF0C\u4F46\u662F\uFF0C\u70B9(.)\u548C\u5192\u53F7(:)\u5728\u67E5\u8BE2\u65F6\u4F1A\u4EA7\u751F\u9519\u8BEF\uFF0C\u56E0\u6B64\u5728Hive 1.2.0\u4E2D\u4E0D\u5141\u8BB8\u4F7F\u7528\u5B83\u4EEC(\u53C2\u89C1Hive -10120)\u3002\u5982\u679C\u5728\u8868\u540D\u6216\u5217\u540D\u4E2D\u4F7F\u7528\u5230\u4E86\u7279\u6B8A\u5B57\u7B26\u6216\u4FDD\u7559\u5173\u952E\u5B57\uFF0C\u53EF\u4EE5\u4F7F\u7528\u53CD\u6487\u53F7\u5305\u88F9\uFF0C\u4F7F\u5176\u53EF\u4EE5\u88AB\u5F3A\u5236\u5B9A\u4E49\u3002",-1),kt=n("p",null,[a("\u5982\u679C\u60F3\u8981\u6062\u590D\u5230Hive 0.13\u4E4B\u524D\uFF0C\u5373\u5C06\u5217\u540D\u9650\u5236\u4E3A\u53EA\u5141\u8BB8\u5B57\u6BCD\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\u5B57\u7B26\uFF0C\u8BF7\u5C06\u914D\u7F6E\u5C5E\u6027"),n("code",null,"hive.support.quotes.identifiers=none"),a("\u3002\u542F\u7528\u8BE5\u914D\u7F6E\u540E\uFF0C\u53CD\u6487\u53F7\u5305\u542B\u7684\u5185\u5BB9\u5C06\u88AB\u89E3\u91CA\u4E3A\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u6709\u5173\u66F4\u591A\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1"),n("a",{href:"https://issues.apache.org/jira/secure/attachment/12618321/QuotedIdentifier.html",target:"_blank",rel:"noopener noreferrer"},"Supporting Quoted Identifiers in Column Names"),a("\u3002")],-1),ht=t(`<h4 id="change-column-name-type-position-comment" tabindex="-1"><a class="header-anchor" href="#change-column-name-type-position-comment" aria-hidden="true">#</a> Change Column Name/Type/Position/Comment</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> CHANGE <span class="token punctuation">[</span><span class="token keyword">COLUMN</span><span class="token punctuation">]</span> col_old_name col_new_name column_type
  <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">FIRST</span><span class="token operator">|</span><span class="token keyword">AFTER</span> column_name<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">CASCADE</span><span class="token operator">|</span><span class="token keyword">RESTRICT</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>\u6B64\u547D\u4EE4\u5141\u8BB8\u7528\u6237\u66F4\u6539\u5217\u540D\u3001\u6570\u636E\u7C7B\u578B\u3001\u6CE8\u91CA\u6216\u4F4D\u7F6E\uFF0C\u6216\u5B83\u4EEC\u7684\u7EC4\u5408\u3002PARTITION\u5B50\u53E5\u5728Hive 0.14.0\u53CA\u66F4\u9AD8\u7248\u672C\u4E2D\u53EF\u7528\u3002\u4F7F\u7528\u65B9\u6CD5\u8BF7\u53C2\u89C1 <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types#LanguageManualTypes-UpgradingPre-Hive0.13.0DecimalColumns" target="_blank" rel="noopener noreferrer">Upgrading Pre-Hive 0.13.0 Decimal Columns</a> \u3002Hive 0.13\u7684\u8865\u4E01\u4E5F\u53EF\u7528(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-7971" target="_blank" rel="noopener noreferrer">HIVE-7971</a>)\u3002</p><p>Hive 1.1.0\u4E2D\u6DFB\u52A0\u4E86CASCADE|RESTRICT\u5B50\u53E5\u3002<code>ALTER TABLE CHANGE COLUMN with CASCADE</code>\u547D\u4EE4\u66F4\u6539\u5217\u540C\u65F6\u66F4\u65B0\u8868\u7684\u5143\u6570\u636E\uFF0C\u5E76\u5C06\u76F8\u540C\u7684\u66F4\u6539\u7EA7\u8054\u5230\u6240\u6709\u5206\u533A\u5143\u6570\u636E\u3002<code>RESTRICT</code>\u662FALTER Column\u7684\u9ED8\u8BA4\u503C\uFF0C\u4EC5\u66F4\u65B0\u5217\u7684\u5143\u6570\u636E\u3002</p>`,4),gt={class:"custom-container tip"},_t={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},mt=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Et=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),wt=[mt,Et],vt=n("p",{class:"custom-container-title"},"TIP",-1),ft=n("p",null,"\u65E0\u8BBA\u8868\u6216\u5206\u533A\u7684\u4FDD\u62A4\u6A21\u5F0F\u5982\u4F55\uFF0CALTER TABLE CHANGE COLUMN CASCADE\u5B50\u53E5\u90FD\u5C06\u8986\u76D6\u8868\u5206\u533A\u7684\u5217\u5143\u6570\u636E\u3002\u8C28\u614E\u4F7F\u7528\u3002",-1),Tt={class:"custom-container tip"},yt={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},bt=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),St=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),At=[bt,St],Rt=n("p",{class:"custom-container-title"},"TIP",-1),It=n("p",null,"\u5217\u66F4\u6539\u547D\u4EE4\u53EA\u4F1A\u4FEE\u6539Hive\u7684\u5143\u6570\u636E\uFF0C\u800C\u4E0D\u4F1A\u4FEE\u6539\u6570\u636E\u3002\u7528\u6237\u5E94\u8BE5\u786E\u4FDD\u8868/\u5206\u533A\u7684\u5B9E\u9645\u6570\u636E\u5E03\u5C40\u7B26\u5408\u5143\u6570\u636E\u5B9A\u4E49\u3002",-1),Ht=t(`<p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> test_change <span class="token punctuation">(</span>a <span class="token keyword">int</span><span class="token punctuation">,</span> b <span class="token keyword">int</span><span class="token punctuation">,</span> c <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// First change column a&#39;s name to a1.</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> test_change CHANGE a a1 <span class="token keyword">INT</span><span class="token punctuation">;</span>
 
<span class="token comment">// Next change column a1&#39;s name to a2, its data type to string, and put it after column b.</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> test_change CHANGE a1 a2 STRING <span class="token keyword">AFTER</span> b<span class="token punctuation">;</span>
<span class="token comment">// The new table&#39;s structure is:  b int, a2 string, c int.</span>
  
<span class="token comment">// Then change column c&#39;s name to c1, and put it as the first column.</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> test_change CHANGE c c1 <span class="token keyword">INT</span> <span class="token keyword">FIRST</span><span class="token punctuation">;</span>
<span class="token comment">// The new table&#39;s structure is:  c1 int, b int, a2 string.</span>
  
<span class="token comment">// Add a comment to column a1</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> test_change CHANGE a1 a1 <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;this is column a1&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="add-replace-columns" tabindex="-1"><a class="header-anchor" href="#add-replace-columns" aria-hidden="true">#</a> Add/Replace Columns</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> table_name 
  <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span>                 <span class="token comment">-- (Note: Hive 0.14.0 and later)</span>
  <span class="token keyword">ADD</span><span class="token operator">|</span><span class="token keyword">REPLACE</span> <span class="token keyword">COLUMNS</span> <span class="token punctuation">(</span>col_name data_type <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> col_comment<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
  <span class="token punctuation">[</span><span class="token keyword">CASCADE</span><span class="token operator">|</span><span class="token keyword">RESTRICT</span><span class="token punctuation">]</span>                         <span class="token comment">-- (Note: Hive 1.1.0 and later)</span>
</code></pre></div><p><code>ADD COLUMNS</code>\uFF0C\u4F1A\u5C06\u65B0\u5217\u6DFB\u52A0\u5230\u73B0\u6709\u5217\u7684\u672B\u5C3E\uFF0C\u4F46\u5728\u5206\u533A\u5217\u4E4B\u524D\u3002<code>ADD COLUMNS</code>\u8FD9\u4E5FAvro\u7C7B\u578B\u7684\u8868\uFF0C\u8FD9\u9700\u8981Hive 0.14\u548C\u66F4\u9AD8\u7248\u672C\u3002</p><p><code>REPLACE COLUMNS</code>\uFF0C\u8BE5\u9009\u9879\u4F1A\u5220\u9664\u6240\u6709\u73B0\u6709\u5217\u5E76\u6DFB\u52A0\u65B0\u5217\u96C6\u3002\u8FD9\u53EA\u80FD\u7528\u4E8E\u5177\u6709\u672C\u5730SerDe\u7684\u8868(DynamicSerDe, MetadataTypedColumnsetSerDe, LazySimpleSerDe\u548CColumnarSerDe)\u3002\u66F4\u591A\u4FE1\u606F\u8BF7\u53C2\u8003Hive SerDe\u3002REPLACE COLUMNS\u4E5F\u53EF\u4EE5\u7528\u6765\u5220\u9664\u5217\u3002\u4F8B\u5982\uFF0C<code>ALTER TABLE test_change REPLACE COLUMNS (a int, b int);</code>\u5C06\u4ECEtest_change\u8868\u4E2D\u5220\u9664\u5217&#39;c&#39;\u3002</p><p>PARTITION\u5B50\u53E5\u5728Hive 0.14.0\u53CA\u66F4\u9AD8\u7248\u672C\u4E2D\u53EF\u7528\u3002\u4F7F\u7528\u65B9\u6CD5\u8BF7\u53C2\u89C1 <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types#LanguageManualTypes-UpgradingPre-Hive0.13.0DecimalColumns" target="_blank" rel="noopener noreferrer">Upgrading Pre-Hive 0.13.0 Decimal Columns</a></p><p>Hive 1.1.0\u4E2D\u6DFB\u52A0\u4E86CASCADE|RESTRICT\u5B50\u53E5\u3002<code>ALTER TABLE ADD|REPLACE COLUMNS with CASCADE</code>\u547D\u4EE4\u66F4\u6539\u5217\u540C\u65F6\u66F4\u65B0\u8868\u7684\u5143\u6570\u636E\uFF0C\u5E76\u5C06\u76F8\u540C\u7684\u66F4\u6539\u7EA7\u8054\u5230\u6240\u6709\u5206\u533A\u5143\u6570\u636E\u3002<code>RESTRICT</code>\u662FALTER Column\u7684\u9ED8\u8BA4\u503C\uFF0C\u4EC5\u66F4\u65B0\u5217\u7684\u5143\u6570\u636E\u3002</p>`,8),Ot={class:"custom-container tip"},Lt={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Dt=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ct=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),xt=[Dt,Ct],Nt=n("p",{class:"custom-container-title"},"TIP",-1),Mt=n("p",null,"\u65E0\u8BBA\u8868\u6216\u5206\u533A\u7684\u4FDD\u62A4\u6A21\u5F0F\u5982\u4F55\uFF0CALTER TABLE ADD or REPLACE COLUMNS CASCAD\u5B50\u53E5\u90FD\u5C06\u8986\u76D6\u8868\u5206\u533A\u7684\u5217\u5143\u6570\u636E\u3002\u8C28\u614E\u4F7F\u7528\u3002",-1),qt={class:"custom-container tip"},Pt={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Bt=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Vt=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ut=[Bt,Vt],Zt=n("p",{class:"custom-container-title"},"TIP",-1),Ft=n("p",null,"\u5217\u66F4\u6539\u547D\u4EE4\u53EA\u4F1A\u4FEE\u6539Hive\u7684\u5143\u6570\u636E\uFF0C\u800C\u4E0D\u4F1A\u4FEE\u6539\u6570\u636E\u3002\u7528\u6237\u5E94\u8BE5\u786E\u4FDD\u8868/\u5206\u533A\u7684\u5B9E\u9645\u6570\u636E\u5E03\u5C40\u7B26\u5408\u5143\u6570\u636E\u5B9A\u4E49\u3002",-1),zt=t(`<h4 id="partial-partition-specification" tabindex="-1"><a class="header-anchor" href="#partial-partition-specification" aria-hidden="true">#</a> Partial Partition Specification</h4><p>\u4ECEHive 0.14 (Hive -8411)\u5F00\u59CB\uFF0Calter\u8BED\u53E5\u7C7B\u4F3C\u4E8E\u52A8\u6001\u5206\u533A\u7684\u64CD\u4F5C\u3002\u56E0\u6B64\uFF0C\u4E0D\u5FC5\u4E3A\u6BCF\u4E2A\u9700\u8981\u66F4\u6539\u7684\u5206\u533A\u53D1\u51FAalter column\u8BED\u53E5:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> foo <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2008-04-08&#39;</span><span class="token punctuation">,</span> hr<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">)</span> CHANGE <span class="token keyword">COLUMN</span> dec_column_name dec_column_name <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> foo <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2008-04-08&#39;</span><span class="token punctuation">,</span> hr<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span> CHANGE <span class="token keyword">COLUMN</span> dec_column_name dec_column_name <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p>\uFF0E.\uFF0E \u4F60\u53EF\u4EE5\u4F7F\u7528ALTER\u8BED\u53E5\u4E00\u6B21\u66F4\u6539\u591A\u4E2A\u73B0\u6709\u5206\u533A:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">// hive.exec.dynamic.partition needs to be set to true to enable dynamic partitioning with ALTER PARTITION</span>
<span class="token keyword">SET</span> hive<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">.</span>dynamic<span class="token punctuation">.</span><span class="token keyword">partition</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  
<span class="token comment">// This will alter all existing partitions in the table with ds=&#39;2008-04-08&#39; -- be sure you know what you are doing!</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> foo <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2008-04-08&#39;</span><span class="token punctuation">,</span> hr<span class="token punctuation">)</span> CHANGE <span class="token keyword">COLUMN</span> dec_column_name dec_column_name <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">// This will alter all existing partitions in the table -- be sure you know what you are doing!</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> foo <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>ds<span class="token punctuation">,</span> hr<span class="token punctuation">)</span> CHANGE <span class="token keyword">COLUMN</span> dec_column_name dec_column_name <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u4E0E\u52A8\u6001\u5206\u533A\u7C7B\u4F3C\uFF0C<code>hive.exec.dynamic.partition</code>\u5FC5\u987B\u8BBE\u7F6E\u4E3A<code>true</code>\uFF0C\u4EE5\u4FBF\u5728ALTER partition\u671F\u95F4\u4F7F\u7528\u90E8\u5206\u5206\u533A\u89C4\u8303\u3002\u652F\u6301\u5982\u4E0B\u64CD\u4F5C\uFF1A</p><ul><li>Change column</li><li>Add column</li><li>Replace column</li><li>File Format</li><li>Serde Properties</li></ul><h2 id="create-drop-alter-view" tabindex="-1"><a class="header-anchor" href="#create-drop-alter-view" aria-hidden="true">#</a> Create/Drop/Alter View</h2><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateView" target="_blank" rel="noopener noreferrer">Create View</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DropView" target="_blank" rel="noopener noreferrer">Drop View</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterViewProperties" target="_blank" rel="noopener noreferrer">Alter View Properties</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterViewAsSelect" target="_blank" rel="noopener noreferrer">Alter View As Select</a></li></ul>`,9),Wt={class:"custom-container tip"},jt={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Gt=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Yt=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Xt=[Gt,Yt],Kt=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Qt=n("p",null,"View support is only available in Hive 0.6 and later.",-1),Jt=t(`<h3 id="create-view" tabindex="-1"><a class="header-anchor" href="#create-view" aria-hidden="true">#</a> Create View</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>view_name <span class="token punctuation">[</span><span class="token punctuation">(</span>column_name <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> column_comment<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> view_comment<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>TBLPROPERTIES <span class="token punctuation">(</span>property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre></div><p><code>CREATE VIEW</code> \u521B\u5EFA\u7ED9\u5B9A\u540D\u79F0\u7684\u89C6\u56FE\u3002\u5982\u679C\u5DF2\u7ECF\u5B58\u5728\u540C\u540D\u7684\u8868\u6216\u89C6\u56FE\uFF0C\u5219\u629B\u51FA\u5F02\u5E38\u3002\u53EF\u4EE5\u4F7F\u7528IF NOT EXISTS\u6765\u8DF3\u8FC7\u8FD9\u4E2A\u9519\u8BEF\u3002</p><p>\u5982\u679C\u6CA1\u6709\u5B9A\u4E49\u5217\u540D\uFF0C\u89C6\u56FE\u7684\u5217\u540D\u5C06\u4ECE\u5B9A\u4E49SELECT\u8868\u8FBE\u5F0F\u4E2D\u81EA\u52A8\u521B\u5EFA\uFF08\u5982\u679CSELECT\u5305\u542B\u65E0\u522B\u540D\u7684\u8868\u8FBE\u5F0F\uFF0C\u4F8B\u5982x+y\uFF0C\u5219\u751F\u6210\u7684\u89C6\u56FE\u5217\u540D\u5C06\u4EE5_C0\u3001_C1\u7B49\u5F62\u5F0F\u751F\u6210)\u3002\u5F53\u91CD\u547D\u540D\u5217\u65F6\uFF0C\u8FD8\u53EF\u4EE5\u9009\u62E9\u63D0\u4F9B\u5217\u6CE8\u91CA\uFF08\u6CE8\u91CA\u4E0D\u4F1A\u81EA\u52A8\u4ECE\u5E95\u5C42\u5217\u7EE7\u627F\uFF09\u3002</p><p>\u5982\u679C\u89C6\u56FE\u5B9A\u4E49\u7684SELECT\u8868\u8FBE\u5F0F\u65E0\u6548\uFF0CCREATE VIEW\u8BED\u53E5\u540C\u6837\u4F1A\u6267\u884C\u5931\u8D25\u3002</p><p>\u6CE8\u610F\uFF0C\u89C6\u56FE\u662F\u4E00\u4E2A\u6CA1\u6709\u5173\u8054\u5B58\u50A8\u7684\u7EAF\u903B\u8F91\u5BF9\u8C61\u3002\u5F53\u67E5\u8BE2\u5F15\u7528\u89C6\u56FE\u65F6\uFF0C\u5C06\u8BA1\u7B97\u89C6\u56FE\u7684\u5B9A\u4E49\uFF0C\u4EE5\u4FBF\u751F\u6210\u4E00\u7EC4\u884C\u4F9B\u67E5\u8BE2\u8FDB\u4E00\u6B65\u5904\u7406\u3002(\u8FD9\u662F\u4E00\u4E2A\u6982\u5FF5\u6027\u7684\u63CF\u8FF0\uFF1B\u4E8B\u5B9E\u4E0A\uFF0C\u4F5C\u4E3A\u67E5\u8BE2\u4F18\u5316\u7684\u4E00\u90E8\u5206\uFF0CHive\u53EF\u80FD\u4F1A\u5C06\u89C6\u56FE\u7684\u5B9A\u4E49\u4E0E\u67E5\u8BE2\u7684\u5B9A\u4E49\u7ED3\u5408\u8D77\u6765\uFF0C\u4F8B\u5982\uFF0C\u4ECE\u67E5\u8BE2\u5411\u4E0B\u63A8\u8FC7\u6EE4\u5668\u5230\u89C6\u56FE\u4E2D\u3002)</p><p>\u89C6\u56FE\u7684\u6A21\u5F0F\u5728\u521B\u5EFA\u89C6\u56FE\u65F6\u5C31\u5DF2\u7ECF\u88AB\u9501\u5B9A\uFF1B\u5BF9\u5E95\u5C42\u8868\u7684\u540E\u7EED\u66F4\u6539(\u4F8B\u5982\u6DFB\u52A0\u4E00\u4E2A\u5217)\u5C06\u4E0D\u4F1A\u53CD\u6620\u5728\u89C6\u56FE\u7684\u6A21\u5F0F\u4E2D\u3002\u5982\u679C\u4EE5\u4E0D\u517C\u5BB9\u7684\u65B9\u5F0F\u5220\u9664\u6216\u66F4\u6539\u5E95\u5C42\u8868\uFF0C\u540E\u7EED\u67E5\u8BE2\u65E0\u6548\u89C6\u56FE\u7684\u5C1D\u8BD5\u5C06\u5931\u8D25\u3002</p><p>\u89C6\u56FE\u662F\u53EA\u8BFB\u7684\uFF0C\u4E0D\u80FD\u7528\u4F5CLOAD/INSERT/ALTER\u7684\u76EE\u6807\u3002\u8981\u66F4\u6539\u89C6\u56FE\u7684\u5143\u6570\u636E\uFF0C\u8BF7\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterViewProperties" target="_blank" rel="noopener noreferrer">ALTER VIEW</a>\u3002</p><p>\u89C6\u56FE\u53EF\u4EE5\u5305\u542BORDER BY\u548CLIMIT\u5B50\u53E5\u3002\u4F46\u662F\u521B\u5EFA\u7684\u4F7F\u7528\u8FD9\u4E9B\u4F18\u5148\u7EA7\u5C06\u9AD8\u4E8E\u540E\u7EED\u67E5\u8BE2\u65F6\u7684\u8BED\u6CD5\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4E00\u4E2A\u89C6\u56FE\u5728\u521B\u5EFA\u65F6\u6307\u5B9A\u4E86LIMIT 5\uFF0C\u5728\u67E5\u8BE2\u9636\u6BB5\u6267\u884C(select * from v LIMIT 10)\uFF0C\u90A3\u4E48\u4E5F\u6700\u591A\u8FD4\u56DE5\u884C\u3002</p><p>\u4ECE<a href="https://issues.apache.org/jira/browse/HIVE-1180" target="_blank" rel="noopener noreferrer">Hive 0.13.0</a>\u5F00\u59CB\uFF0C\u89C6\u56FE\u7684select\u8BED\u53E5\u53EF\u4EE5\u5305\u62EC\u4E00\u4E2A\u6216\u591A\u4E2A\u901A\u7528\u8868\u8868\u8FBE\u5F0F(CTEs)\uFF0C\u5982<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Select#LanguageManualSelect-SelectSyntax" target="_blank" rel="noopener noreferrer">select\u8BED\u6CD5</a>\u6240\u793A\u3002\u6709\u5173CREATE VIEW\u8BED\u53E5\u4E2D\u7684cte\u793A\u4F8B\uFF0C\u8BF7\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/Common+Table+Expression#CommonTableExpression-CTEinViews,CTAS,andInsertStatements" target="_blank" rel="noopener noreferrer">\u901A\u7528\u8868\u8868\u8FBE\u5F0F</a>\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> onion_referrers<span class="token punctuation">(</span>url <span class="token keyword">COMMENT</span> <span class="token string">&#39;URL of Referring page&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">COMMENT</span> <span class="token string">&#39;Referrers to The Onion website&#39;</span>
  <span class="token keyword">AS</span>
  <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> referrer_url
  <span class="token keyword">FROM</span> page_view
  <span class="token keyword">WHERE</span> page_url<span class="token operator">=</span><span class="token string">&#39;http://www.theonion.com&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>\u4F7F\u7528<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowCreateTable" target="_blank" rel="noopener noreferrer">SHOW CREATE TABLE</a>\uFF0C\u663E\u793A\u521B\u5EFA\u89C6\u56FE\u7684CREATE VIEW\u8BED\u53E5\u3002</p><p>\u4F7F\u7528<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowViews" target="_blank" rel="noopener noreferrer">SHOW VIEWS</a>\uFF0C\u663E\u793A\u6570\u636E\u5E93\u4E2D\u7684\u89C6\u56FE\u5217\u8868\uFF08\u4ECEHive 2.2.0\u5F00\u59CB\uFF09\u3002</p>`,14),$t={class:"custom-container tip"},no={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ao=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),so=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),eo=[ao,so],to=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),oo=n("p",null,[a("Originally, the file format for views was hard coded as SequenceFile. Hive 2.1.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-13736",target:"_blank",rel:"noopener noreferrer"},"HIVE-13736"),a(") made views follow the same defaults as tables and indexes using the "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.default.fileformat",target:"_blank",rel:"noopener noreferrer"},"hive.default.fileformat "),a("and "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.default.fileformat.managed",target:"_blank",rel:"noopener noreferrer"},"hive.default.fileformat.managed"),a(" properties.")],-1),po=t(`<h3 id="drop-view" tabindex="-1"><a class="header-anchor" href="#drop-view" aria-hidden="true">#</a> Drop View</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>view_name<span class="token punctuation">;</span>
</code></pre></div><p><code>DROP VIEW</code>\u5220\u9664\u6307\u5B9A\u89C6\u56FE\u7684\u5143\u6570\u636E\u3002(\u5728\u89C6\u56FE\u4E0A\u4F7F\u7528DROP TABLE\u662F\u4E0D\u53EF\u884C\u7684\uFF0C\u4F1A\u629B\u51FA\u5F02\u5E38\u3002)</p><p>\u5F53\u5220\u9664\u7531\u5176\u4ED6\u89C6\u56FE\u5F15\u7528\u7684\u89C6\u56FE\u65F6\uFF0C\u4E0D\u4F1A\u7ED9\u51FA\u8B66\u544A\u3002(\u4F9D\u8D56\u7684\u89C6\u56FE\u60AC\u7A7A\u4E3A\u65E0\u6548\uFF0C\u5FC5\u987B\u7531\u7528\u6237\u5220\u9664\u6216\u91CD\u65B0\u521B\u5EFA)\u3002</p><p>\u5728Hive 0.7.0\u6216\u66F4\u9AD8\u7248\u672C\u4E2D\uFF0C\u5982\u679C\u89C6\u56FE\u4E0D\u5B58\u5728\uFF0CDROP\u5C06\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\uFF0C\u9664\u975E\u6307\u5B9Aif EXISTS\u6216\u914D\u7F6E\u53D8\u91CF<a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.drop.ignorenonexistent" target="_blank" rel="noopener noreferrer">hive.exec.drop.ignorenonexistent</a>\u4E3Atrue\u3002</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> onion_referrers<span class="token punctuation">;</span>
</code></pre></div><h3 id="alter-view-properties" tabindex="-1"><a class="header-anchor" href="#alter-view-properties" aria-hidden="true">#</a> Alter View Properties</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>view_name <span class="token keyword">SET</span> TBLPROPERTIES table_properties<span class="token punctuation">;</span>
 
table_properties:
  : <span class="token punctuation">(</span>property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> property_name <span class="token operator">=</span> property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><p>\u4E0EALTER TABLE\u4E00\u6837\uFF0C\u53EF\u4EE5\u4F7F\u7528\u6B64\u8BED\u53E5\u5411\u89C6\u56FE\u6DFB\u52A0\u6216\u4FEE\u6539\u5143\u6570\u636E\u3002</p><h3 id="alter-view-as-select" tabindex="-1"><a class="header-anchor" href="#alter-view-as-select" aria-hidden="true">#</a> Alter View As Select</h3>`,11),lo={class:"custom-container tip"},co={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ro=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),io=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),uo=[ro,io],ko=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),ho=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-3834",target:"_blank",rel:"noopener noreferrer"},"Hive 0.11"),a(".")],-1),go=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>view_name <span class="token keyword">AS</span> select_statement<span class="token punctuation">;</span>
</code></pre></div><p>Alter View As Select changes the definition of a view, which must exist. The syntax is similar to that for CREATE VIEW and the effect is the same as for CREATE OR REPLACE VIEW.</p><p><code>Alter View As Select</code>\u7528\u4E8E\u66F4\u6539\u5DF2\u5B58\u5728\u7684\u89C6\u56FE\u7684\u5B9A\u4E49\u3002\u8BED\u6CD5\u4E0ECREATE VIEW\u7C7B\u4F3C\uFF0C\u6548\u679C\u4E0ECREATE OR REPLACE VIEW\u76F8\u540C\u3002</p><p>\u6CE8\u610F\uFF1A\u89C6\u56FE\u5FC5\u987B\u5DF2\u7ECF\u5B58\u5728\uFF0C\u5982\u679C\u89C6\u56FE\u6709\u5206\u533A\uFF0C\u5B83\u4E0D\u80FD\u88ABAlter view As Select\u66FF\u6362\u3002</p><h2 id="create-drop-alter-materialized-view" tabindex="-1"><a class="header-anchor" href="#create-drop-alter-materialized-view" aria-hidden="true">#</a> Create/Drop/Alter Materialized View</h2><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateMaterializedView" target="_blank" rel="noopener noreferrer">Create Materialized View</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DropMaterializedView" target="_blank" rel="noopener noreferrer">Drop Materialized View</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterMaterializedView" target="_blank" rel="noopener noreferrer">Alter Materialized View</a></li></ul>`,6),_o={class:"custom-container tip"},mo={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Eo=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),wo=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),vo=[Eo,wo],fo=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),To=n("p",null,"Materialized view support is only available in Hive 3.0 and later.",-1),yo=t(`<p>\u672C\u8282\u4ECB\u7ECDHive\u7269\u5316\u89C6\u56FE\u8BED\u6CD5\u3002\u5173\u4E8EHive\u4E2D\u7269\u5316\u89C6\u56FE\u652F\u6301\u548C\u4F7F\u7528\u7684\u66F4\u591A\u4FE1\u606F\u53EF\u4EE5\u5728\u8FD9\u91CC<a href="https://cwiki.apache.org/confluence/display/Hive/Materialized+views" target="_blank" rel="noopener noreferrer">here</a>.\u627E\u5230\u3002</p><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Indexing" target="_blank" rel="noopener noreferrer">Overview of Hive Indexes</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/IndexDev" target="_blank" rel="noopener noreferrer">Indexes design document</a></li></ul><p>\u5728Hive 0.12.0\u548C\u66F4\u65E9\u7684\u7248\u672C\u4E2D\uFF0CCREATE index\u548CDROP index\u8BED\u53E5\u7684\u7D22\u5F15\u540D\u662F\u533A\u5206\u5927\u5C0F\u5199\u7684\u3002\u7136\u800C\uFF0CALTER INDEX\u9700\u8981\u4E00\u4E2A\u7528\u5C0F\u5199\u5B57\u6BCD\u521B\u5EFA\u7684\u7D22\u5F15\u540D(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-2752" target="_blank" rel="noopener noreferrer">HIVE-2752</a>)\u3002\u6B64\u9519\u8BEF\u5728<a href="https://issues.apache.org/jira/browse/HIVE-2752" target="_blank" rel="noopener noreferrer">Hive 0.13.0</a>\u4E2D\u4FEE\u590D\uFF0C\u4F7F\u6240\u6709HiveQL\u8BED\u53E5\u7684\u7D22\u5F15\u540D\u4E0D\u533A\u5206\u5927\u5C0F\u5199\u3002\u5BF9\u4E8E0.13.0\u4E4B\u524D\u7684\u7248\u672C\uFF0C\u6700\u4F73\u5B9E\u8DF5\u662F\u5BF9\u6240\u6709\u7D22\u5F15\u540D\u4F7F\u7528\u5C0F\u5199\u5B57\u6BCD\u3002</p><h3 id="create-index" tabindex="-1"><a class="header-anchor" href="#create-index" aria-hidden="true">#</a> Create Index</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name
  <span class="token keyword">ON</span> <span class="token keyword">TABLE</span> base_table_name <span class="token punctuation">(</span>col_name<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
  <span class="token keyword">AS</span> index_type
  <span class="token punctuation">[</span><span class="token keyword">WITH</span> DEFERRED REBUILD<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>IDXPROPERTIES <span class="token punctuation">(</span>property_name<span class="token operator">=</span>property_value<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token operator">IN</span> <span class="token keyword">TABLE</span> index_table_name<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>
     <span class="token punctuation">[</span> <span class="token keyword">ROW</span> FORMAT <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> STORED <span class="token keyword">AS</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
     <span class="token operator">|</span> STORED <span class="token keyword">BY</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">]</span>
  <span class="token punctuation">[</span>LOCATION hdfs_path<span class="token punctuation">]</span>
  <span class="token punctuation">[</span>TBLPROPERTIES <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> <span class="token string">&quot;index comment&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>CREATE INDEX</code>\u4F7F\u7528\u7ED9\u5B9A\u7684\u5217\u5217\u8868\u4F5C\u4E3A\u952E\u5728\u8868\u4E0A\u521B\u5EFA\u7D22\u5F15\u3002\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/IndexDev#IndexDev-CREATEINDEX" target="_blank" rel="noopener noreferrer">Indexes</a>\u8BBE\u8BA1\u6587\u6863\u4E2D\u7684CREATE INDEX\u3002</p><h3 id="drop-index" tabindex="-1"><a class="header-anchor" href="#drop-index" aria-hidden="true">#</a> Drop Index</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> index_name <span class="token keyword">ON</span> table_name<span class="token punctuation">;</span>
</code></pre></div><p>DROP INDEX\u5220\u9664\u7D22\u5F15\uFF0C\u540C\u65F6\u5220\u9664\u7D22\u5F15\u8868\u3002</p><p>\u5728Hive 0.7.0\u6216\u66F4\u9AD8\u7248\u672C\u4E2D\uFF0C\u5982\u679C\u7D22\u5F15\u4E0D\u5B58\u5728\uFF0CDROP\u5C06\u629B\u51FA\u5F02\u5E38\uFF0C\u9664\u975E\u6307\u5B9Aif EXISTS\u6216\u914D\u7F6E\u53D8\u91CF<a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.drop.ignorenonexistent" target="_blank" rel="noopener noreferrer">Hive .exec. DROP .ignorenonexistent</a>\u8BBE\u7F6E\u4E3Atrue\u3002</p><h3 id="alter-index" tabindex="-1"><a class="header-anchor" href="#alter-index" aria-hidden="true">#</a> Alter Index</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> REBUILD<span class="token punctuation">;</span>
</code></pre></div><p>ALTER INDEX ... REBUILD builds an index that was created using the WITH DEFERRED REBUILD clause, or rebuilds a previously built index. If PARTITION is specified, only that partition is rebuilt.</p><p><code>ALTER INDEX ... REBUILD</code>\u6784\u5EFA\u4F7F\u7528<code>WITH DEFERRED REBUILD</code>\u5B50\u53E5\u521B\u5EFA\u7684\u7D22\u5F15\uFF0C\u6216\u8005\u91CD\u5EFA\u5148\u524D\u6784\u5EFA\u7684\u7D22\u5F15\u3002\u5982\u679C\u6307\u5B9A\u4E86PARTITION\uFF0C\u5219\u53EA\u91CD\u5EFA\u8BE5\u5206\u533A\u3002</p><h2 id="create-drop-macro" tabindex="-1"><a class="header-anchor" href="#create-drop-macro" aria-hidden="true">#</a> Create/Drop Macro</h2>`,15),bo={class:"custom-container tip"},So={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ao=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ro=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Io=[Ao,Ro],Ho=t('<p class="custom-container-title">\u7248\u672C\u4FE1\u606F</p><p>As of <a href="https://issues.apache.org/jira/browse/HIVE-2655" target="_blank" rel="noopener noreferrer">Hive 0.12.0.</a></p><p>Bug fixes:</p><ul><li>Prior to <a href="https://issues.apache.org/jira/browse/HIVE-11432" target="_blank" rel="noopener noreferrer">Hive 1.3.0 and 2.0.0</a> when a HiveQL macro was used more than once while processing the same row, Hive returned the same result for all invocations even though the arguments were different. (See <a href="https://issues.apache.org/jira/browse/HIVE-11432" target="_blank" rel="noopener noreferrer">HIVE-11432</a>.)</li><li>Prior to <a href="https://issues.apache.org/jira/browse/HIVE-12277" target="_blank" rel="noopener noreferrer">Hive 1.3.0 and 2.0.0</a> when multiple macros were used while processing the same row, an ORDER BY clause could give wrong results. (See <a href="https://issues.apache.org/jira/browse/HIVE-12277" target="_blank" rel="noopener noreferrer">HIVE-12277</a>.)</li><li>Prior to <a href="https://issues.apache.org/jira/browse/HIVE-13372" target="_blank" rel="noopener noreferrer">Hive 2.1.0</a> when multiple macros were used while processing the same row, results of the later macros were overwritten by that of the first. (See <a href="https://issues.apache.org/jira/browse/HIVE-13372" target="_blank" rel="noopener noreferrer">HIVE-13372</a>.)</li></ul>',4),Oo=t(`<p>Hive 0.12.0\u5411HiveQL\u5F15\u5165\u4E86\u5B8F\u7684\u6982\u5FF5\uFF0C\u5728\u6B64\u4E4B\u524D\uFF0C\u5B8F\u53EA\u80FD\u5728Java\u4E2D\u521B\u5EFA\u3002</p><h3 id="create-temporary-macro" tabindex="-1"><a class="header-anchor" href="#create-temporary-macro" aria-hidden="true">#</a> Create Temporary Macro</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> MACRO macro_name<span class="token punctuation">(</span><span class="token punctuation">[</span>col_name col_type<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span> expression<span class="token punctuation">;</span>
</code></pre></div><p>CREATE TEMPORARY MACRO creates a macro using the given optional list of columns as inputs to the expression. Macros exist for the duration of the current session.</p><p><code>CREATE TEMPORARY MACRO</code>\u4F7F\u7528\u7ED9\u5B9A\u7684\u53EF\u9009\u5217\u5217\u8868\u4F5C\u4E3A\u8868\u8FBE\u5F0F\u7684\u8F93\u5165\u521B\u5EFA\u4E00\u4E2A\u5B8F\u3002\u5B8F\u4EC5\u5728\u5F53\u524D\u4F1A\u8BDD\u671F\u95F4\u5B58\u5728\u3002</p><p><strong>Examples:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> MACRO fixed_number<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> MACRO string_len_plus_two<span class="token punctuation">(</span>x string<span class="token punctuation">)</span> length<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TEMPORARY</span> MACRO simple_add <span class="token punctuation">(</span>x <span class="token keyword">int</span><span class="token punctuation">,</span> y <span class="token keyword">int</span><span class="token punctuation">)</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
</code></pre></div><h3 id="drop-temporary-macro" tabindex="-1"><a class="header-anchor" href="#drop-temporary-macro" aria-hidden="true">#</a> Drop Temporary Macro</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TEMPORARY</span> MACRO <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> macro_name<span class="token punctuation">;</span>
</code></pre></div><p>\u5982\u679C\u51FD\u6570\u4E0D\u5B58\u5728\uFF0CDROP TEMPORARY MACRO\u5C06\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\uFF0C\u9664\u975E\u6307\u5B9A\u4E86if EXISTS\u3002</p><h2 id="create-drop-reload-function" tabindex="-1"><a class="header-anchor" href="#create-drop-reload-function" aria-hidden="true">#</a> Create/Drop/Reload Function</h2><h3 id="temporary-functions" tabindex="-1"><a class="header-anchor" href="#temporary-functions" aria-hidden="true">#</a> Temporary Functions</h3><h4 id="create-temporary-function" tabindex="-1"><a class="header-anchor" href="#create-temporary-function" aria-hidden="true">#</a> Create Temporary Function</h4><div class="language-text ext-text"><pre class="language-text"><code>CREATE TEMPORARY FUNCTION function_name AS class_name;
</code></pre></div><p>\u8BE5\u8BED\u53E5\u5141\u8BB8\u60A8\u521B\u5EFA\u4E00\u4E2A\u7531class_name\u5B9E\u73B0\u7684\u4E34\u65F6\u51FD\u6570\u3002\u53EA\u8981\u4F1A\u8BDD\u6301\u7EED\uFF0C\u5C31\u53EF\u4EE5\u5728Hive\u67E5\u8BE2\u4E2D\u4F7F\u7528\u6B64\u529F\u80FD\u3002\u60A8\u53EF\u4EE5\u4F7F\u7528Hive\u7684\u7C7B\u8DEF\u5F84\u4E2D\u7684\u4EFB\u4F55\u7C7B\u3002\u53EF\u4EE5\u901A\u8FC7\u6267\u884C&#39;add JAR&#39;\u8BED\u53E5\u5C06JAR\u6DFB\u52A0\u5230\u7C7B\u8DEF\u5F84\u3002\u8BF7\u53C2\u8003CLI\u90E8\u5206<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Cli#LanguageManualCli-HiveInteractiveShellCommands" target="_blank" rel="noopener noreferrer">Hive Interactive Shell Commands</a>,\uFF0C\u5305\u62EC<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Cli#LanguageManualCli-HiveResources" target="_blank" rel="noopener noreferrer">Hive Resources</a>\uFF0C\u4E86\u89E3\u66F4\u591A\u4FE1\u606F\u3002\u4E5F\u53EF\u4EE5\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/HivePlugins" target="_blank" rel="noopener noreferrer">Hive Plugins</a>\u4E86\u89E3\u5173\u4E8E\u521B\u5EFA\u81EA\u5B9A\u4E49udf\u7684\u4E00\u822C\u4FE1\u606F\u3002</p><h4 id="drop-temporary-function" tabindex="-1"><a class="header-anchor" href="#drop-temporary-function" aria-hidden="true">#</a> Drop Temporary Function</h4><p>\u53EF\u4EE5\u6309\u4EE5\u4E0B\u65B9\u6CD5\u5220\u9664\u6CE8\u9500UDF\uFF1A</p><div class="language-text ext-text"><pre class="language-text"><code>DROP TEMPORARY FUNCTION [IF EXISTS] function_name;
</code></pre></div><p>\u5728Hive 0.7.0\u6216\u66F4\u9AD8\u7248\u672C\u4E2D\uFF0C\u5982\u679C\u51FD\u6570\u4E0D\u5B58\u5728\uFF0CDROP\u5C06\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\uFF0C\u9664\u975E\u6307\u5B9Aif EXISTS\u6216\u914D\u7F6E\u53D8\u91CF<a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.drop.ignorenonexistent" target="_blank" rel="noopener noreferrer">hive.exec.drop.ignorenonexistent</a> \u88AB\u8BBE\u7F6E\u4E3Atrue\u3002</p><h3 id="permanent-functions" tabindex="-1"><a class="header-anchor" href="#permanent-functions" aria-hidden="true">#</a> Permanent Functions</h3><p>\u5728Hive 0.13\u6216\u66F4\u9AD8\u7248\u672C\u4E2D\uFF0C\u51FD\u6570\u53EF\u4EE5\u6CE8\u518C\u5230metastore\uFF0C\u8FD9\u6837\u67E5\u8BE2\u4E2D\u5C31\u53EF\u4EE5\u5F15\u7528\u5B83\u4EEC\uFF0C\u800C\u4E0D\u5FC5\u5728\u6BCF\u4E2A\u4F1A\u8BDD\u4E2D\u521B\u5EFA\u4E00\u4E2A\u4E34\u65F6\u51FD\u6570\u3002</p><h4 id="create-function" tabindex="-1"><a class="header-anchor" href="#create-function" aria-hidden="true">#</a> Create Function</h4>`,22),Lo={class:"custom-container tip"},Do={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Co=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),xo=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),No=[Co,xo],Mo=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),qo=n("p",null,[a("As of Hive 0.13.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6047",target:"_blank",rel:"noopener noreferrer"},"HIVE-6047"),a(").")],-1),Po=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>function_name <span class="token keyword">AS</span> class_name
  <span class="token punctuation">[</span><span class="token keyword">USING</span> JAR<span class="token operator">|</span><span class="token keyword">FILE</span><span class="token operator">|</span>ARCHIVE <span class="token string">&#39;file_uri&#39;</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> JAR<span class="token operator">|</span><span class="token keyword">FILE</span><span class="token operator">|</span>ARCHIVE <span class="token string">&#39;file_uri&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>\u8BE5\u8BED\u53E5\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u7531class_name\u5B9E\u73B0\u7684\u51FD\u6570\u3002\u9700\u8981\u6DFB\u52A0\u5230\u73AF\u5883\u4E2D\u7684jar\u3001\u6587\u4EF6\u6216\u5B58\u6863\u53EF\u4EE5\u7528USING\u5B50\u53E5\u6307\u5B9A\uFF1B\u5F53\u51FD\u6570\u7B2C\u4E00\u6B21\u88ABHive\u4F1A\u8BDD\u5F15\u7528\u65F6\uFF0C\u8FD9\u4E9B\u8D44\u6E90\u5C06\u88AB\u6DFB\u52A0\u5230\u73AF\u5883\u4E2D\uFF0C\u5C31\u50CF<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Cli#LanguageManualCli-HiveResources" target="_blank" rel="noopener noreferrer">ADD JAR/FILE</a>\u5DF2\u7ECF\u53D1\u5E03\u4E00\u6837\u3002\u5982\u679CHive\u4E0D\u5728\u672C\u5730\u6A21\u5F0F\uFF0C\u5219\u8D44\u6E90\u4F4D\u7F6E\u5FC5\u987B\u662F\u975E\u672C\u5730\u8DEF\u5F84\uFF0C\u4F8B\u5982HDFS\u4F4D\u7F6E\u3002</p><p>\u51FD\u6570\u5C06\u88AB\u6DFB\u52A0\u5230\u6307\u5B9A\u7684\u6570\u636E\u5E93\u4E2D\uFF0C\u6216\u8005\u6DFB\u52A0\u5230\u521B\u5EFA\u51FD\u6570\u65F6\u7684\u5F53\u524D\u6570\u636E\u5E93\u4E2D\u3002\u51FD\u6570\u53EF\u4EE5\u901A\u8FC7\u9650\u5B9A\u51FD\u6570\u540D(db_name.function_name)\u6765\u5F15\u7528\uFF0C\u5982\u679C\u51FD\u6570\u5728\u5F53\u524D\u6570\u636E\u5E93\u4E2D\uFF0C\u4E5F\u53EF\u4EE5\u4E0D\u52A0\u9650\u5B9A\u76F4\u63A5\u5F15\u7528\u3002</p><h4 id="drop-function" tabindex="-1"><a class="header-anchor" href="#drop-function" aria-hidden="true">#</a> Drop Function</h4>`,4),Bo={class:"custom-container tip"},Vo={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Uo=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Zo=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Fo=[Uo,Zo],zo=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Wo=n("p",null,[a("As of Hive 0.13.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6047",target:"_blank",rel:"noopener noreferrer"},"HIVE-6047"),a(").")],-1),jo=t(`<div class="language-text ext-text"><pre class="language-text"><code>DROP FUNCTION [IF EXISTS] function_name;
</code></pre></div><p>\u5982\u679C\u51FD\u6570\u4E0D\u5B58\u5728\uFF0CDROP\u8FD4\u56DE\u4E00\u4E2A\u9519\u8BEF\uFF0C\u9664\u975E\u6307\u5B9A\u4E86if EXISTS\u6216\u8005\u914D\u7F6E\u53D8\u91CF<a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.drop.ignorenonexistent" target="_blank" rel="noopener noreferrer">hive.exec.drop.ignorenonexistent</a>\u88AB\u8BBE\u7F6E\u4E3Atrue\u3002</p><h4 id="reload-function" tabindex="-1"><a class="header-anchor" href="#reload-function" aria-hidden="true">#</a> Reload Function</h4>`,3),Go={class:"custom-container tip"},Yo={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Xo=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ko=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Qo=[Xo,Ko],Jo=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),$o=n("p",null,[a("As of Hive 1.2.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-2573",target:"_blank",rel:"noopener noreferrer"},"HIVE-2573"),a(").")],-1),np=t(`<div class="language-text ext-text"><pre class="language-text"><code>RELOAD (FUNCTIONS|FUNCTION);
</code></pre></div><p>\u5728<a href="https://issues.apache.org/jira/browse/HIVE-2573" target="_blank" rel="noopener noreferrer">Hive -2573</a>\u4E4B\u524D\uFF0C\u5728\u67D0\u4E00\u4E2AHive CLI\u7684\u4F1A\u8BDD\u4E2D\u521B\u5EFA\u6C38\u4E45\u51FD\u6570\u53EF\u80FD\u4E0D\u4F1A\u53CD\u6620\u5728HiveServer2\u6216\u5176\u4ED6Hive CLI\u4F1A\u8BDD\u4E2D\uFF08\u5982\u679C\u5B83\u4EEC\u5728\u51FD\u6570\u521B\u5EFA\u4E4B\u524D\u542F\u52A8\uFF09\u3002\u5728HiveServer2\u6216HiveCLI\u4F1A\u8BDD\u4E2D\u53D1\u51FARELOAD\u51FD\u6570\u5C06\u91CD\u65B0\u626B\u63CF\u5BF9\u51FD\u6570\u7684\u66F4\u6539\uFF08\u8FD9\u4E9B\u66F4\u6539\u53EF\u80FD\u662F\u7531\u4E0D\u540C\u7684HiveCLI\u4F1A\u8BDD\u5B8C\u6210\u7684\uFF09\u3002</p><h2 id="create-drop-grant-revoke-roles-and-privileges" tabindex="-1"><a class="header-anchor" href="#create-drop-grant-revoke-roles-and-privileges" aria-hidden="true">#</a> Create/Drop/Grant/Revoke Roles and Privileges</h2><p><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173" target="_blank" rel="noopener noreferrer">Hive deprecated authorization mode / Legacy Mode</a> has information about these DDL statements:</p><ul><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-Create/DropRole" target="_blank" rel="noopener noreferrer">CREATE ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-Grant/RevokeRoles" target="_blank" rel="noopener noreferrer">GRANT ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-Grant/RevokeRoles" target="_blank" rel="noopener noreferrer">REVOKE ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-Grant/RevokePrivileges" target="_blank" rel="noopener noreferrer">GRANT privilege_type</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-Grant/RevokePrivileges" target="_blank" rel="noopener noreferrer">REVOKE privilege_type</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-Create/DropRole" target="_blank" rel="noopener noreferrer">DROP ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-ViewingGrantedRoles" target="_blank" rel="noopener noreferrer">SHOW ROLE GRANT</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-ViewingGrantedPrivileges" target="_blank" rel="noopener noreferrer">SHOW GRANT</a></li></ul><p>For <a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization" target="_blank" rel="noopener noreferrer">SQL standard based authorization </a>in Hive 0.13.0 and later releases, see these DDL statements:</p><ul><li>Role Management Commands <ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-CreateRole" target="_blank" rel="noopener noreferrer">CREATE ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-GrantRole" target="_blank" rel="noopener noreferrer">GRANT ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-RevokeRole" target="_blank" rel="noopener noreferrer">REVOKE ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-DropRole" target="_blank" rel="noopener noreferrer">DROP ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowRoles" target="_blank" rel="noopener noreferrer">SHOW ROLES</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowRoleGrant" target="_blank" rel="noopener noreferrer">SHOW ROLE GRANT</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowCurrentRoles" target="_blank" rel="noopener noreferrer">SHOW CURRENT ROLES</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-SetRole" target="_blank" rel="noopener noreferrer">SET ROLE</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowPrincipals" target="_blank" rel="noopener noreferrer">SHOW PRINCIPALS</a></li></ul></li><li>Object Privilege Commands <ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-Grant" target="_blank" rel="noopener noreferrer">GRANT privilege_type</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-Revoke" target="_blank" rel="noopener noreferrer">REVOKE privilege_type</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowGrant" target="_blank" rel="noopener noreferrer">SHOW GRANT</a></li></ul></li></ul><h2 id="show" tabindex="-1"><a class="header-anchor" href="#show" aria-hidden="true">#</a> Show</h2><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowDatabases" target="_blank" rel="noopener noreferrer">Show Databases</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowConnectors" target="_blank" rel="noopener noreferrer">Show Connectors</a></li><li>Show Tables/Views/Materialized Views/Partitions/Indexes <ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowTables" target="_blank" rel="noopener noreferrer">Show Tables</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowViews" target="_blank" rel="noopener noreferrer">Show Views</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowMaterializedViews" target="_blank" rel="noopener noreferrer">Show Materialized Views</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowPartitions" target="_blank" rel="noopener noreferrer">Show Partitions</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowTable/PartitionExtended" target="_blank" rel="noopener noreferrer">Show Table/Partition Extended</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowTableProperties" target="_blank" rel="noopener noreferrer">Show Table Properties</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowCreateTable" target="_blank" rel="noopener noreferrer">Show Create Table</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowIndexes" target="_blank" rel="noopener noreferrer">Show Indexes</a></li></ul></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowColumns" target="_blank" rel="noopener noreferrer">Show Columns</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowFunctions" target="_blank" rel="noopener noreferrer">Show Functions</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowGrantedRolesandPrivileges" target="_blank" rel="noopener noreferrer">Show Granted Roles and Privileges</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowLocks" target="_blank" rel="noopener noreferrer">Show Locks</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowConf" target="_blank" rel="noopener noreferrer">Show Conf</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowTransactions" target="_blank" rel="noopener noreferrer">Show Transactions</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowCompactions" target="_blank" rel="noopener noreferrer">Show Compactions</a></li></ul><p>SHOW\u8BED\u53E5\u7528\u4E8E\u67E5\u8BE2Hive metastore\uFF0C\u4EE5\u83B7\u53D6Hive\u7684\u73B0\u6709\u6570\u636E\u548C\u5143\u6570\u636E\u3002</p><h3 id="show-databases" tabindex="-1"><a class="header-anchor" href="#show-databases" aria-hidden="true">#</a> Show Databases</h3><div class="language-text ext-text"><pre class="language-text"><code>SHOW (DATABASES|SCHEMAS) [LIKE &#39;identifier_with_wildcards&#39;];
</code></pre></div><p>\u4F7F\u7528<code>SHOW DATABASES</code>\u6216<code>SHOW SCHEMAS</code>\u53EF\u4EE5\u5217\u51FA\u5728metastore\u4E2D\u5B9A\u4E49\u7684\u6240\u6709\u6570\u636E\u5E93\u3002schema\u548Cdatabases\u7684\u4F7F\u7528\u662F\u53EF\u4EE5\u4E92\u6362\u7684\u2014\u2014\u5B83\u4EEC\u7684\u610F\u601D\u662F\u4E00\u6837\u7684\u3002</p><p>\u53EF\u9009\u4F7F\u7528LIKE\u5B50\u53E5\uFF0C\u53EF\u4EE5\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u7B5B\u9009\u6EE1\u8DB3\u6761\u4EF6\u7684\u6570\u636E\u5E93\u5217\u8868\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u7684\u901A\u914D\u7B26\u53EA\u80FD\u4E3A\u661F\u53F7(*)\u6216\u662F\u7AD6\u7EBF(|)\u3002\u4F8B\u5982&#39;employees&#39;\uFF0C &#39;emp*&#39;\uFF0C &#39;emp*|*ees&#39;\uFF0C\u8FD9\u4E9B\u90FD\u5C06\u5339\u914D\u540D\u4E3A&#39;employees&#39;\u7684\u6570\u636E\u5E93\u3002</p>`,14),ap={class:"custom-container tip"},sp={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ep=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),tp=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),op=[ep,tp],pp=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F: SHOW DATABASES",-1),lp=n("p",null,"\u4ECEhive 4.0.0\u5F00\u59CB\u53EA\u63A5\u6536sql\u7C7B\u578B\u7684\u901A\u914D\u7B26\uFF0C'%' \u7528\u4E8E\u8868\u793A\u4EFB\u610F\u5B57\u7B26, '_'\u7528\u4E8E\u8868\u793A\u5355\u4E00\u5B57\u7B26. \u4F8B\u5982\uFF1A'employees', 'emp%', 'emplo_ees', \u8FD9\u4E9B\u90FD\u5C06\u5339\u914D\u540D\u4E3A'employees'\u7684\u6570\u636E\u5E93\u3002",-1),cp=t(`<h3 id="show-connectors" tabindex="-1"><a class="header-anchor" href="#show-connectors" aria-hidden="true">#</a> Show Connectors</h3><div class="language-text ext-text"><pre class="language-text"><code>SHOW CONNECTORS;
</code></pre></div><p>\u4ECEHive 4.0.0 via <a href="https://issues.apache.org/jira/browse/HIVE-24396" target="_blank" rel="noopener noreferrer">HIVE-24396</a>\u7248\u672C\u53EF\u7528\u3002</p><p><code>SHOW CONNECTORS</code>\u5217\u51FA\u5728metastore\u4E2D\u5B9A\u4E49\u7684\u6240\u6709\u8FDE\u63A5\u5668(\u53D6\u51B3\u4E8E\u7528\u6237\u7684\u8BBF\u95EE\u6743\u9650)\u3002</p><h3 id="show-tables-views-materialized-views-partitions-indexes" tabindex="-1"><a class="header-anchor" href="#show-tables-views-materialized-views-partitions-indexes" aria-hidden="true">#</a> Show Tables/Views/Materialized Views/Partitions/Indexes</h3><h4 id="show-tables" tabindex="-1"><a class="header-anchor" href="#show-tables" aria-hidden="true">#</a> Show Tables</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span> <span class="token punctuation">[</span><span class="token operator">IN</span> database_name<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&#39;identifier_with_wildcards&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW TABLES</code>\u5217\u51FA\u5F53\u524D\u6570\u636E\u5E93\uFF08\u6216\u4F7F\u7528&#39; in &#39;\u5B50\u53E5\u9009\u4E2D\u7684\u6570\u636E\u5E93\uFF09\u4E2D\u540D\u79F0\u4E0E\u53EF\u9009\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u6240\u6709\u8868\u548C\u89C6\u56FE\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u7684\u901A\u914D\u7B26\u53EA\u80FD\u4E3A\u201C*\u201D\uFF0C\u53EA\u80FD\u4E3A\u201C|\u201D\u3002\u4F8B\u5982&#39;page_view&#39;\uFF0C&#39;page_v*&#39;\uFF0C&#39;*view|page*&#39;\uFF0C\u6240\u6709\u8FD9\u4E9B\u90FD\u5C06\u5339\u914D&#39;page_view&#39;\u8868\u3002\u5339\u914D\u7684\u8868\u5C06\u6309\u5B57\u6BCD\u987A\u5E8F\u5217\u51FA\u3002\u5982\u679C\u5728metastore\u4E2D\u6CA1\u6709\u627E\u5230\u5339\u914D\u7684\u8868\uFF0C\u4E5F\u4E0D\u4F1A\u62A5\u9519\u3002</p><h4 id="show-views" tabindex="-1"><a class="header-anchor" href="#show-views" aria-hidden="true">#</a> Show Views</h4>`,9),rp={class:"custom-container tip"},ip={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},up=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),dp=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),kp=[up,dp],hp=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),gp=n("p",null,[a("Introduced in Hive 2.2.0 via "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-14558",target:"_blank",rel:"noopener noreferrer"},"HIVE-14558"),a(".")],-1),_p=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VIEWS <span class="token punctuation">[</span><span class="token operator">IN</span><span class="token operator">/</span><span class="token keyword">FROM</span> database_name<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">LIKE</span> <span class="token string">&#39;pattern_with_wildcards&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW VIEWS</code> \u5217\u51FA\u5F53\u524D\u6570\u636E\u5E93\u4E2D\u6240\u6709\u540D\u79F0\u4E0E\u53EF\u9009\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u89C6\u56FE(\u6216\u4F7F\u7528&#39; in &#39;\u6216&#39; FROM &#39;\u5B50\u53E5\u663E\u5F0F\u547D\u540D\u7684\u89C6\u56FE)\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u7684\u901A\u914D\u7B26\u53EA\u80FD\u4E3A\u201C*\u201D\uFF0C\u53EA\u80FD\u4E3A\u201C|\u201D\u3002\u4F8B\u5982&#39;page_view&#39;\uFF0C &#39;page_v*&#39;\uFF0C &#39;*view|page*&#39;\uFF0C\u6240\u6709\u8FD9\u4E9B\u90FD\u5C06\u5339\u914D&#39;page_view&#39;\u89C6\u56FE\u3002\u5339\u914D\u7684\u89C6\u56FE\u6309\u5B57\u6BCD\u987A\u5E8F\u5217\u51FA\u3002\u5982\u679C\u5728metastore\u4E2D\u6CA1\u6709\u627E\u5230\u5339\u914D\u7684\u89C6\u56FE\uFF0C\u4E5F\u4E0D\u4F1A\u62A5\u9519\u3002</p><p><strong>Examples</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VIEWS<span class="token punctuation">;</span>                                <span class="token comment">-- show all views in the current database</span>
<span class="token keyword">SHOW</span> VIEWS <span class="token string">&#39;test_*&#39;</span><span class="token punctuation">;</span>                       <span class="token comment">-- show all views that start with &quot;test_&quot;</span>
<span class="token keyword">SHOW</span> VIEWS <span class="token string">&#39;*view2&#39;</span><span class="token punctuation">;</span>                       <span class="token comment">-- show all views that end in &quot;view2&quot;</span>
<span class="token keyword">SHOW</span> VIEWS <span class="token operator">LIKE</span> <span class="token string">&#39;test_view1|test_view2&#39;</span><span class="token punctuation">;</span>   <span class="token comment">-- show views named either &quot;test_view1&quot; or &quot;test_view2&quot;</span>
<span class="token keyword">SHOW</span> VIEWS <span class="token keyword">FROM</span> test1<span class="token punctuation">;</span>                     <span class="token comment">-- show views from database test1</span>
<span class="token keyword">SHOW</span> VIEWS <span class="token operator">IN</span> test1<span class="token punctuation">;</span>                       <span class="token comment">-- show views from database test1 (FROM and IN are same)</span>
<span class="token keyword">SHOW</span> VIEWS <span class="token operator">IN</span> test1 <span class="token string">&quot;test_*&quot;</span><span class="token punctuation">;</span>              <span class="token comment">-- show views from database test2 that start with &quot;test_&quot;</span>
</code></pre></div><h4 id="show-materialized-views" tabindex="-1"><a class="header-anchor" href="#show-materialized-views" aria-hidden="true">#</a> Show Materialized Views</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> MATERIALIZED VIEWS <span class="token punctuation">[</span><span class="token operator">IN</span><span class="token operator">/</span><span class="token keyword">FROM</span> database_name<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">LIKE</span> &#39;pattern_with_wildcards\u2019<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW MATERIALIZED VIEWS</code> \u5217\u51FA\u5F53\u524D\u6570\u636E\u5E93\u4E2D\u6240\u6709\u540D\u79F0\u4E0E\u53EF\u9009\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u89C6\u56FE(\u6216\u4F7F\u7528&#39; in &#39;\u6216&#39; FROM &#39;\u5B50\u53E5\u663E\u5F0F\u547D\u540D\u7684\u89C6\u56FE)\u3002\u5B83\u8FD8\u663E\u793A\u4E86\u5173\u4E8E\u7269\u5316\u89C6\u56FE\u7684\u9644\u52A0\u4FE1\u606F\uFF0C\u4F8B\u5982\uFF0C\u662F\u5426\u542F\u7528\u4E86\u91CD\u5199\uFF0C\u4EE5\u53CA\u7269\u5316\u89C6\u56FE\u7684\u5237\u65B0\u6A21\u5F0F\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u7684\u901A\u914D\u7B26\u53EA\u80FD\u4E3A\u201C*\u201D\uFF0C\u53EA\u80FD\u4E3A\u201C|\u201D\u3002\u5982\u679C\u6CA1\u6709\u7ED9\u51FA\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u5219\u5217\u51FA\u6240\u9009\u6570\u636E\u5E93\u4E2D\u7684\u6240\u6709\u7269\u5316\u89C6\u56FE\u3002</p><h4 id="show-partitions" tabindex="-1"><a class="header-anchor" href="#show-partitions" aria-hidden="true">#</a> Show Partitions</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PARTITIONS table_name<span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW PARTITIONS</code>\u5217\u51FA\u7ED9\u5B9A\u8868\u7684\u6240\u6709\u73B0\u6709\u5206\u533A\u3002\u5206\u533A\u6309\u5B57\u6BCD\u987A\u5E8F\u5217\u51FA\u3002</p>`,10),mp={class:"custom-container tip"},Ep={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},wp=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),vp=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),fp=[wp,vp],Tp=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),yp=n("p",null,"As of Hive 0.6, SHOW PARTITIONS can filter the list of partitions as shown below.",-1),bp=n("p",null,"It is also possible to specify parts of a partition specification to filter the resulting list.",-1),Sp=t(`<p><strong>Examples:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PARTITIONS table_name <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">-- (Note: Hive 0.6 and later)</span>
<span class="token keyword">SHOW</span> PARTITIONS table_name <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>hr<span class="token operator">=</span><span class="token string">&#39;12&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">-- (Note: Hive 0.6 and later)</span>
<span class="token keyword">SHOW</span> PARTITIONS table_name <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span><span class="token punctuation">,</span> hr<span class="token operator">=</span><span class="token string">&#39;12&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Hive 0.6 and later)</span>
</code></pre></div>`,2),Ap={class:"custom-container tip"},Rp={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ip=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Hp=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Op=[Ip,Hp],Lp=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Dp=n("p",null,[a("Starting with Hive 0.13.0, SHOW PARTITIONS can specify a database ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-5912",target:"_blank",rel:"noopener noreferrer"},"HIVE-5912"),a(").")],-1),Cp=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PARTITIONS <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span><span class="token punctuation">(</span>partition_spec<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Hive 0.13.0 and later)</span>
</code></pre></div><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PARTITIONS databaseFoo<span class="token punctuation">.</span>tableBar <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span><span class="token punctuation">,</span> hr<span class="token operator">=</span><span class="token string">&#39;12&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Hive 0.13.0 and later)</span>
</code></pre></div>`,3),xp={class:"custom-container tip"},Np={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Mp=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),qp=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Pp=[Mp,qp],Bp=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Vp=n("p",null,[a("Starting with Hive 4.0.0, SHOW PARTITIONS can optionally use the WHERE/ORDER BY/LIMIT clause to filter/order/limit the resulting list ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-22458",target:"_blank",rel:"noopener noreferrer"},"HIVE-22458"),a("). These clauses work in a similar way as they do in a SELECT statement.")],-1),Up=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PARTITIONS <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span><span class="token punctuation">(</span>partition_spec<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">WHERE</span> where_condition<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> col_list<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">LIMIT</span> <span class="token keyword">rows</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
</code></pre></div><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> PARTITIONS databaseFoo<span class="token punctuation">.</span>tableBar <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>                                                               <span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
<span class="token keyword">SHOW</span> PARTITIONS databaseFoo<span class="token punctuation">.</span>tableBar <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span><span class="token punctuation">)</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>                                    <span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
<span class="token keyword">SHOW</span> PARTITIONS databaseFoo<span class="token punctuation">.</span>tableBar <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span><span class="token punctuation">)</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> hr <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>                   <span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
<span class="token keyword">SHOW</span> PARTITIONS databaseFoo<span class="token punctuation">.</span>tableBar <span class="token keyword">PARTITION</span><span class="token punctuation">(</span>ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> hr <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> hr <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
<span class="token keyword">SHOW</span> PARTITIONS databaseFoo<span class="token punctuation">.</span>tableBar <span class="token keyword">WHERE</span> hr <span class="token operator">&gt;=</span> <span class="token number">10</span> <span class="token operator">AND</span> ds<span class="token operator">=</span><span class="token string">&#39;2010-03-03&#39;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> hr <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span>           <span class="token comment">-- (Note: Hive 4.0.0 and later)</span>
</code></pre></div><p>\u6CE8\u610F\uFF1A\u8BF7\u4F7F\u7528<em>hr &gt;= 10</em>\u800C\u4E0D\u662F<em>hr - 10 &gt;= 0</em>\u6765\u8FC7\u6EE4\u7ED3\u679C\uFF0C\u56E0\u4E3AMetastore\u4E0D\u4F1A\u5C06\u540E\u4E00\u4E2A\u8C13\u8BCD\u4E0B\u63A8\u5230\u5E95\u5C42\u5B58\u50A8\u4E2D</p><h4 id="show-table-partition-extended" tabindex="-1"><a class="header-anchor" href="#show-table-partition-extended" aria-hidden="true">#</a> Show Table/Partition Extended</h4><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">TABLE</span> <span class="token keyword">EXTENDED</span> <span class="token punctuation">[</span><span class="token operator">IN</span><span class="token operator">|</span><span class="token keyword">FROM</span> database_name<span class="token punctuation">]</span> <span class="token operator">LIKE</span> <span class="token string">&#39;identifier_with_wildcards&#39;</span> <span class="token punctuation">[</span><span class="token keyword">PARTITION</span><span class="token punctuation">(</span>partition_spec<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW TABLE EXTENDED</code>\u5C06\u5217\u51FA\u6240\u6709\u5339\u914D\u7ED9\u5B9A\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u8868\u7684\u4FE1\u606F\u3002\u5982\u679C\u5B58\u5728\u5206\u533A\u8BF4\u660E\uFF0C\u5219\u7528\u6237\u4E0D\u80FD\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u4F5C\u4E3A\u8868\u540D\u3002\u8BE5\u547D\u4EE4\u7684\u8F93\u51FA\u5305\u62EC\u57FA\u672C\u8868\u4FE1\u606F\u548C\u6587\u4EF6\u7CFB\u7EDF\u4FE1\u606F\uFF0C\u5982totalNumberFiles\u3001totalFileSize\u3001maxFileSize\u3001minFileSize\u3001lastAccessTime\u548ClastUpdateTime\u3002\u5982\u679C\u5B58\u5728\u5206\u533A\uFF0C\u5B83\u5C06\u8F93\u51FA\u7ED9\u5B9A\u5206\u533A\u7684\u6587\u4EF6\u7CFB\u7EDF\u4FE1\u606F\uFF0C\u800C\u4E0D\u662F\u8868\u7684\u6587\u4EF6\u7CFB\u7EDF\u4FE1\u606F\u3002</p><p><strong>Example</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code>hive<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">table</span> <span class="token keyword">extended</span> <span class="token operator">like</span> part_table<span class="token punctuation">;</span>
OK
tableName:part_table
owner:thejas
location:<span class="token keyword">file</span>:<span class="token operator">/</span>tmp<span class="token operator">/</span>warehouse<span class="token operator">/</span>part_table
inputformat:org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapred<span class="token punctuation">.</span>TextInputFormat
outputformat:org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>ql<span class="token punctuation">.</span>io<span class="token punctuation">.</span>HiveIgnoreKeyTextOutputFormat
<span class="token keyword">columns</span>:struct <span class="token keyword">columns</span> { i32 i}
partitioned:<span class="token boolean">true</span>
partitionColumns:struct partition_columns { string d}
totalNumberFiles:<span class="token number">1</span>
totalFileSize:<span class="token number">2</span>
maxFileSize:<span class="token number">2</span>
minFileSize:<span class="token number">2</span>
lastAccessTime:<span class="token number">0</span>
lastUpdateTime:<span class="token number">1459382233000</span>
</code></pre></div><h4 id="show-table-properties" tabindex="-1"><a class="header-anchor" href="#show-table-properties" aria-hidden="true">#</a> Show Table Properties</h4>`,10),Zp={class:"custom-container tip"},Fp={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},zp=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Wp=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),jp=[zp,Wp],Gp=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Yp=n("p",null,"As of Hive 0.10.0.",-1),Xp=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> TBLPROPERTIES tblname<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> TBLPROPERTIES tblname<span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u7B2C\u4E00\u79CD\u5F62\u5F0F\u5217\u51FA\u4E86\u76F8\u5173\u8868\u7684\u6240\u6709\u8868\u5C5E\u6027\uFF0C\u6BCF\u884C\u4E00\u4E2A\uFF0C\u7531\u5236\u8868\u7B26\u5206\u9694\u3002</p><p>\u7B2C\u4E8C\u79CD\u5F62\u5F0F\u4EC5\u6253\u5370\u6B63\u5728\u8BF7\u6C42\u7684\u5C5E\u6027\u7684\u503C\u3002</p><p>\u6709\u5173\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605\u4E0A\u9762Create Table\u4E2D\u7684<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-listTableProperties" target="_blank" rel="noopener noreferrer">TBLPROPERTIES clause</a>\u3002</p><h4 id="show-create-table" tabindex="-1"><a class="header-anchor" href="#show-create-table" aria-hidden="true">#</a> Show Create Table</h4>`,5),Kp={class:"custom-container tip"},Qp={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Jp=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),$p=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),nl=[Jp,$p],al=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),sl=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-967",target:"_blank",rel:"noopener noreferrer"},"Hive 0.10"),a(".")],-1),el=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name<span class="token operator">|</span>view_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW CREATE TABLE</code>\u663E\u793A\u7ED9\u5B9A\u8868\u7684CREATE TABLE\u8BED\u53E5\uFF0C\u6216\u7ED9\u5B9A\u89C6\u56FE\u7684CREATE VIEW\u8BED\u53E5\u3002</p><h4 id="show-indexes" tabindex="-1"><a class="header-anchor" href="#show-indexes" aria-hidden="true">#</a> Show Indexes</h4>`,3),tl={class:"custom-container tip"},ol={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},pl=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ll=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),cl=[pl,ll],rl=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),il=n("p",null,"As of Hive 0.7.",-1),ul=n("p",null,[a("Indexing Is Removed since 3.0! See "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/IndexDev",target:"_blank",rel:"noopener noreferrer"},"Indexes design document")],-1),dl=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token punctuation">[</span>FORMATTED<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token keyword">INDEX</span><span class="token operator">|</span>INDEXES<span class="token punctuation">)</span> <span class="token keyword">ON</span> table_with_index <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">FROM</span><span class="token operator">|</span><span class="token operator">IN</span><span class="token punctuation">)</span> db_name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>SHOW INDEXES\u663E\u793A\u67D0\u4E2A\u5217\u4E0A\u7684\u6240\u6709\u7D22\u5F15\uFF0C\u4EE5\u53CA\u5173\u4E8E\u5B83\u4EEC\u7684\u4FE1\u606F:\u7D22\u5F15\u540D\u3001\u8868\u540D\u3001\u7528\u4F5C\u952E\u7684\u5217\u540D\u3001\u7D22\u5F15\u8868\u540D\u3001\u7D22\u5F15\u7C7B\u578B\u548C\u6CE8\u91CA\u3002\u5982\u679C\u4F7F\u7528FORMATTED\u5173\u952E\u5B57\uFF0C\u5219\u6253\u5370\u6BCF\u5217\u7684\u5217\u6807\u9898\u3002</p><h3 id="show-columns" tabindex="-1"><a class="header-anchor" href="#show-columns" aria-hidden="true">#</a> Show Columns</h3>`,3),kl={class:"custom-container tip"},hl={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},gl=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),_l=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ml=[gl,_l],El=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),wl=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-2909",target:"_blank",rel:"noopener noreferrer"},"Hive 0.10"),a(".")],-1),vl=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token punctuation">(</span><span class="token keyword">FROM</span><span class="token operator">|</span><span class="token operator">IN</span><span class="token punctuation">)</span> table_name <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">FROM</span><span class="token operator">|</span><span class="token operator">IN</span><span class="token punctuation">)</span> db_name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>SHOW COLUMNS\u663E\u793A\u8868\u4E2D\u7684\u6240\u6709\u5217\uFF0C\u5305\u62EC\u5206\u533A\u5217\u3002</p>`,2),fl={class:"custom-container tip"},Tl={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},yl=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),bl=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Sl=[yl,bl],Al=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Rl=n("div",{class:"language-text ext-text"},[n("pre",{class:"language-text"},[n("code",null,`SHOW COLUMNS (FROM|IN) table_name [(FROM|IN) db_name]  [ LIKE 'pattern_with_wildcards'];
`)])],-1),Il=n("p",null,[a("Added in Hive 3.0 by "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-18373",target:"_blank",rel:"noopener noreferrer"},"HIVE-18373"),a(".")],-1),Hl=t(`<p><code>SHOW COLUMNS</code>\u5217\u51FA\u8868\u4E2D\u540D\u79F0\u4E0E\u53EF\u9009\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u6240\u6709\u5217\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u7684\u901A\u914D\u7B26\u53EA\u80FD\u4E3A\u201C*\u201D\uFF0C\u53EA\u80FD\u4E3A\u201C|\u201D\u3002\u4F8B\u5982\u201Ccola\u201D\uFF0C\u201Ccol*\u201D\uFF0C\u201C*a|col*\u201D\uFF0C\u8FD9\u4E9B\u90FD\u5C06\u5339\u914D\u201Ccola\u201D\u5217\u3002\u5339\u914D\u7684\u5217\u6309\u5B57\u6BCD\u987A\u5E8F\u5217\u51FA\u3002\u5982\u679C\u5728\u8868\u4E2D\u6CA1\u6709\u627E\u5230\u5339\u914D\u7684\u5217\uFF0C\u5219\u4E0D\u662F\u9519\u8BEF\u3002\u5982\u679C\u6CA1\u6709\u7ED9\u51FA\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u5219\u5217\u51FA\u6240\u9009\u8868\u4E2D\u7684\u6240\u6709\u5217\u3002</p><p><strong>Examples</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- SHOW COLUMNS</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> test_db<span class="token punctuation">;</span>
<span class="token keyword">USE</span> test_db<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> foo<span class="token punctuation">(</span>col1 <span class="token keyword">INT</span><span class="token punctuation">,</span> col2 <span class="token keyword">INT</span><span class="token punctuation">,</span> col3 <span class="token keyword">INT</span><span class="token punctuation">,</span> cola <span class="token keyword">INT</span><span class="token punctuation">,</span> colb <span class="token keyword">INT</span><span class="token punctuation">,</span> colc <span class="token keyword">INT</span><span class="token punctuation">,</span> a <span class="token keyword">INT</span><span class="token punctuation">,</span> b <span class="token keyword">INT</span><span class="token punctuation">,</span> c <span class="token keyword">INT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token comment">-- SHOW COLUMNS basic syntax</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> foo<span class="token punctuation">;</span>                            <span class="token comment">-- show all column in foo</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> foo <span class="token string">&quot;*&quot;</span><span class="token punctuation">;</span>                        <span class="token comment">-- show all column in foo</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token operator">IN</span> foo <span class="token string">&quot;col*&quot;</span><span class="token punctuation">;</span>                       <span class="token comment">-- show columns in foo starting with &quot;col&quot;                 OUTPUT col1,col2,col3,cola,colb,colc</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> foo <span class="token string">&#39;*c&#39;</span><span class="token punctuation">;</span>                       <span class="token comment">-- show columns in foo ending with &quot;c&quot;                     OUTPUT c,colc</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> foo <span class="token operator">LIKE</span> <span class="token string">&quot;col1|cola&quot;</span><span class="token punctuation">;</span>           <span class="token comment">-- show columns in foo either col1 or cola                 OUTPUT col1,cola</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token keyword">FROM</span> foo <span class="token keyword">FROM</span> test_db <span class="token operator">LIKE</span> <span class="token string">&#39;col*&#39;</span><span class="token punctuation">;</span>   <span class="token comment">-- show columns in foo starting with &quot;col&quot;                 OUTPUT col1,col2,col3,cola,colb,colc</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token operator">IN</span> foo <span class="token operator">IN</span> test_db <span class="token operator">LIKE</span> <span class="token string">&#39;col*&#39;</span><span class="token punctuation">;</span>       <span class="token comment">-- show columns in foo starting with &quot;col&quot; (FROM/IN same)  OUTPUT col1,col2,col3,cola,colb,colc</span>
  
<span class="token comment">-- Non existing column pattern resulting in no match</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token operator">IN</span> foo <span class="token string">&quot;nomatch*&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token operator">IN</span> foo <span class="token string">&quot;col+&quot;</span><span class="token punctuation">;</span>                       <span class="token comment">-- + wildcard not supported</span>
<span class="token keyword">SHOW</span> <span class="token keyword">COLUMNS</span> <span class="token operator">IN</span> foo <span class="token string">&quot;nomatch&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="show-functions" tabindex="-1"><a class="header-anchor" href="#show-functions" aria-hidden="true">#</a> Show Functions</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> FUNCTIONS <span class="token punctuation">[</span><span class="token operator">LIKE</span> <span class="token string">&quot;&lt;pattern&gt;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><code>SHOW FUNCTIONS</code>\u5217\u51FA\u6240\u6709\u7528\u6237\u5B9A\u4E49\u548C\u5185\u7F6E\u51FD\u6570\uFF0C\u5982\u679C\u6307\u5B9A\u4E86LIKE\uFF0C\u5219\u901A\u8FC7\u6B63\u5219\u8868\u8FBE\u5F0F\u8FDB\u884C\u7B5B\u9009\u3002</p><h3 id="show-granted-roles-and-privileges" tabindex="-1"><a class="header-anchor" href="#show-granted-roles-and-privileges" aria-hidden="true">#</a> Show Granted Roles and Privileges</h3><p><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173" target="_blank" rel="noopener noreferrer">Hive deprecated authorization mode / Legacy Mode</a> has information about these SHOW statements:</p><ul><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-ViewingGrantedRoles" target="_blank" rel="noopener noreferrer">SHOW ROLE GRANT</a></li><li><a href="https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=45876173#Hivedeprecatedauthorizationmode/LegacyMode-ViewingGrantedPrivileges" target="_blank" rel="noopener noreferrer">SHOW GRANT</a></li></ul><p>In Hive 0.13.0 and later releases, <a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization" target="_blank" rel="noopener noreferrer">SQL standard based authorization</a> has these SHOW statements:</p><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowRoleGrant" target="_blank" rel="noopener noreferrer">SHOW ROLE GRANT</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowGrant" target="_blank" rel="noopener noreferrer">SHOW GRANT</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowCurrentRoles" target="_blank" rel="noopener noreferrer">SHOW CURRENT ROLES</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowRoles" target="_blank" rel="noopener noreferrer">SHOW ROLES</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization#SQLStandardBasedHiveAuthorization-ShowPrincipals" target="_blank" rel="noopener noreferrer">SHOW PRINCIPALS</a></li></ul><h3 id="show-locks" tabindex="-1"><a class="header-anchor" href="#show-locks" aria-hidden="true">#</a> Show Locks</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> LOCKS <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> LOCKS <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">EXTENDED</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> LOCKS <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>partition_spec<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> LOCKS <span class="token operator">&lt;</span>table_name<span class="token operator">&gt;</span> <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>partition_spec<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token keyword">EXTENDED</span><span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> LOCKS <span class="token punctuation">(</span><span class="token keyword">DATABASE</span><span class="token operator">|</span><span class="token keyword">SCHEMA</span><span class="token punctuation">)</span> database_name<span class="token punctuation">;</span>     <span class="token comment">-- (Note: Hive 0.13.0 and later; SCHEMA added in Hive 0.14.0)</span>
</code></pre></div><p>SHOW LOCKS\u663E\u793A\u8868\u6216\u5206\u533A\u4E0A\u7684\u9501\u3002\u6709\u5173\u9501\u7684\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/Locking" target="_blank" rel="noopener noreferrer">Hive Concurrency Model</a> \u3002</p><p>SHOW LOCKS (DATABASE|SCHEMA)\u7531Hive 0.13\u7684\u6570\u636E\u5E93(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-2093" target="_blank" rel="noopener noreferrer">Hive -2093</a>)\u548CHive 0.14\u7684SCHEMA(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-6601" target="_blank" rel="noopener noreferrer">Hive -6601</a>)\u652F\u6301\u3002SCHEMA\u548CDATABASE\u662F\u53EF\u4E92\u6362\u7684\u2014\u2014\u5B83\u4EEC\u7684\u610F\u601D\u662F\u4E00\u6837\u7684\u3002</p><p>\u5F53<a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions" target="_blank" rel="noopener noreferrer">Hive transactions</a>\u6B63\u5728\u88AB\u4F7F\u7528\u65F6\uFF0CSHOW LOCKS\u8FD4\u56DE\u6B64\u4FE1\u606F(\u53C2\u89C1<a href="https://issues.apache.org/jira/browse/HIVE-6460" target="_blank" rel="noopener noreferrer">Hive -6460</a>))\uFF1A</p><ul><li>database name</li><li>table name</li><li>partition name (if the table is partitioned)</li><li>the state the lock is in, which can be: <ul><li>&quot;acquired&quot; \u2013 the requestor holds the lock</li><li>&quot;waiting&quot; \u2013 the requestor is waiting for the lock</li><li>&quot;aborted&quot; \u2013 the lock has timed out but has not yet been cleaned up</li></ul></li><li>Id of the lock blocking this one, if this lock is in &quot;waiting&quot; state</li><li>the type of lock, which can be: <ul><li>&quot;exclusive&quot; \u2013 no one else can hold the lock at the same time (obtained mostly by DDL operations such as drop table)</li><li>&quot;shared_read&quot; \u2013 any number of other shared_read locks can lock the same resource at the same time (obtained by reads; confusingly, an insert operation also obtains a shared_read lock)</li><li>&quot;shared_write&quot; \u2013 any number of shared_read locks can lock the same resource at the same time, but no other shared_write locks are allowed (obtained by update and delete)</li></ul></li><li>ID of the transaction this lock is associated with, if there is one</li><li>last time the holder of this lock sent a heartbeat indicating it was still alive</li><li>the time the lock was acquired, if it has been acquired</li><li>Hive user who requested the lock</li><li>host the user is running on</li><li>agent info \u2013 a string that helps identify the entity that issued the lock request. For a SQL client this is the query ID, for streaming client it may be Storm bolt ID for example.</li></ul><h3 id="show-conf" tabindex="-1"><a class="header-anchor" href="#show-conf" aria-hidden="true">#</a> Show Conf</h3>`,18),Ol={class:"custom-container tip"},Ll={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Dl=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Cl=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),xl=[Dl,Cl],Nl=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Ml=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6037",target:"_blank",rel:"noopener noreferrer"},"Hive 0.14.0"),a(".")],-1),ql=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> CONF <span class="token operator">&lt;</span>configuration_name<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>SHOW CONF\u8FD4\u56DE\u6307\u5B9A<a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties" target="_blank" rel="noopener noreferrer">configuration property</a>\u7684\u63CF\u8FF0\u3002</p><ul><li>default value</li><li>required type</li><li>description</li></ul><p>\u6CE8\u610F\uFF0CSHOW CONF\u4E0D\u4F1A\u663E\u793A\u914D\u7F6E\u5C5E\u6027\u7684\u5F53\u524D\u503C\u3002\u5BF9\u4E8E\u5F53\u524D\u7684\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u8BF7\u4F7F\u7528CLI\u4E2D\u7684\u201Cset\u201D\u547D\u4EE4\u6216HiveQL\u811A\u672C(\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Commands" target="_blank" rel="noopener noreferrer">Commands</a>)\u6216\u5728Beeline\u4E2D(\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients#HiveServer2Clients-BeelineHiveCommands" target="_blank" rel="noopener noreferrer">Beeline HiveCommands</a>)\u3002</p><h3 id="show-transactions" tabindex="-1"><a class="header-anchor" href="#show-transactions" aria-hidden="true">#</a> Show Transactions</h3>`,5),Pl={class:"custom-container tip"},Bl={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Vl=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ul=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Zl=[Vl,Ul],Fl=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),zl=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6460",target:"_blank",rel:"noopener noreferrer"},"Hive 0.13.0"),a(" (see "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions",target:"_blank",rel:"noopener noreferrer"},"Hive Transactions"),a(").")],-1),Wl=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">TRANSACTIONS</span><span class="token punctuation">;</span>
</code></pre></div><p>SHOW TRANSACTIONS\u4F9B\u7BA1\u7406\u5458\u5728<a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions" target="_blank" rel="noopener noreferrer">Hive TRANSACTIONS</a>\u88AB\u4F7F\u7528\u65F6\u4F7F\u7528\u3002\u5B83\u8FD4\u56DE\u7CFB\u7EDF\u4E2D\u6240\u6709\u5F53\u524D\u6253\u5F00\u548C\u7EC8\u6B62\u7684\u4E8B\u52A1\u7684\u5217\u8868\uFF0C\u5305\u62EC\u4EE5\u4E0B\u4FE1\u606F:</p><ul><li>transaction ID</li><li>transaction state</li><li>user who started the transaction</li><li>machine where the transaction was started</li><li>timestamp when the transaction was started (as of <a href="https://issues.apache.org/jira/browse/HIVE-11957" target="_blank" rel="noopener noreferrer">Hive 2.2.0</a>)</li><li>timestamp for last heartbeat (as of <a href="https://issues.apache.org/jira/browse/HIVE-11957" target="_blank" rel="noopener noreferrer">Hive 2.2.0</a> )</li></ul><h3 id="show-compactions" tabindex="-1"><a class="header-anchor" href="#show-compactions" aria-hidden="true">#</a> Show Compactions</h3>`,4),jl={class:"custom-container tip"},Gl={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Yl=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Xl=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Kl=[Yl,Xl],Ql=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Jl=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6460",target:"_blank",rel:"noopener noreferrer"},"Hive 0.13.0"),a(" (see "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-BasicDesign",target:"_blank",rel:"noopener noreferrer"},"Hive Transactions"),a(").")],-1),$l=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> COMPACTIONS<span class="token punctuation">;</span>
</code></pre></div><p><a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-SHOWCOMPACTIONS" target="_blank" rel="noopener noreferrer">SHOW COMPACTIONS</a>\u8FD4\u56DE\u5F53\u524D\u6B63\u5728<a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-BasicDesign" target="_blank" rel="noopener noreferrer">compacted</a>\u6216\u8BA1\u5212\u5728<a href="https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions" target="_blank" rel="noopener noreferrer">Hive transactions</a>\u88AB\u4F7F\u7528\u65F6\u8FDB\u884C\u538B\u7F29\u7684\u6240\u6709\u8868\u548C\u5206\u533A\u7684\u5217\u8868\uFF0C\u5305\u62EC\u4EE5\u4E0B\u4FE1\u606F:</p><ul><li>&quot;CompactionId&quot; - unique internal id (As of <a href="https://issues.apache.org/jira/browse/HIVE-16084" target="_blank" rel="noopener noreferrer">Hive 3.0</a>)</li><li>&quot;Database&quot; - Hive database name</li><li>&quot;Table&quot; - table name</li><li>&quot;Partition&quot; - partition name (if the table is partitioned)</li><li>&quot;Type&quot; - whether it is a major or minor compaction</li><li>&quot;State&quot; - the state the compaction is in, which can be: <ul><li>&quot;initiated&quot; \u2013 waiting in the queue to be compacted</li><li>&quot;working&quot; \u2013 being compacted</li><li>&quot;ready for cleaning&quot; \u2013 the compaction has been done and the old files are scheduled to be cleaned</li><li>&quot;failed&quot; \u2013 the job failed. The metastore log will have more detail.</li><li>&quot;succeeded&quot; \u2013 A-ok</li><li>&quot;attempted&quot; \u2013 initiator attempted to schedule a compaction but failed. The metastore log will have more information.</li></ul></li><li>&quot;Worker&quot; - thread ID of the worker thread doing the compaction (only if in working state)</li><li>&quot;Start Time&quot; - the time at which the compaction started (only if in working or ready for cleaning state)</li><li>&quot;Duration(ms)&quot; - time this compaction took (As of <a href="https://issues.apache.org/jira/browse/HIVE-15337" target="_blank" rel="noopener noreferrer">Hive 2.2</a> )</li><li>&quot;HadoopJobId&quot; - Id of the submitted Hadoop job (As of <a href="https://issues.apache.org/jira/browse/HIVE-15337" target="_blank" rel="noopener noreferrer">Hive 2.2</a>)</li></ul><p>Compactions are initiated automatically, but can also be initiated manually with an <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTable/PartitionCompact" target="_blank" rel="noopener noreferrer">ALTER TABLE COMPACT statement</a>.</p><h2 id="describe" tabindex="-1"><a class="header-anchor" href="#describe" aria-hidden="true">#</a> Describe</h2><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DescribeDatabase" target="_blank" rel="noopener noreferrer">Describe Database</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DescribeDataconnector" target="_blank" rel="noopener noreferrer">Describe Dataconnector</a></li><li>Describe Table/View/Materialized View/Column <ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DisplayColumnStatistics" target="_blank" rel="noopener noreferrer">Display Column Statistics</a></li></ul></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DescribePartition" target="_blank" rel="noopener noreferrer">Describe Partition</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Hive2.0+:SyntaxChange" target="_blank" rel="noopener noreferrer">Hive 2.0+: Syntax Change</a></li></ul><h3 id="describe-database" tabindex="-1"><a class="header-anchor" href="#describe-database" aria-hidden="true">#</a> Describe Database</h3>`,7),nc={class:"custom-container tip"},ac={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},sc=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),ec=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),tc=[sc,ec],oc=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),pc=n("p",null,"As of Hive 0.7.",-1),lc=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token punctuation">]</span> db_name<span class="token punctuation">;</span>
<span class="token keyword">DESCRIBE</span> <span class="token keyword">SCHEMA</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token punctuation">]</span> db_name<span class="token punctuation">;</span>     <span class="token comment">-- (Note: Hive 1.1.0 and later)</span>
</code></pre></div><p><code>DESCRIBE DATABASE</code>\u663E\u793A\u6570\u636E\u5E93\u7684\u540D\u79F0\u3001\u5B83\u7684\u6CE8\u91CA(\u5982\u679C\u5DF2\u7ECF\u8BBE\u7F6E\u4E86\u6CE8\u91CA)\u4EE5\u53CA\u5B83\u5728\u6587\u4EF6\u7CFB\u7EDF\u4E0A\u7684\u6839\u4F4D\u7F6E\u3002SCHEMA\u548CDATABASE\u7684\u7528\u6CD5\u662F\u53EF\u4EE5\u4E92\u6362\u7684\u2014\u2014\u5B83\u4EEC\u7684\u610F\u601D\u662F\u4E00\u6837\u7684\u3002Hive 1.1.0 (<a href="https://issues.apache.org/jira/browse/HIVE-8803" target="_blank" rel="noopener noreferrer">Hive -8803</a>)\u4E2D\u589E\u52A0\u4E86DESCRIBE SCHEMA\u3002</p><p><code>EXTENDED</code> \u8FD8\u663E\u793A <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateDatabase" target="_blank" rel="noopener noreferrer">database properties</a>.</p><h3 id="describe-dataconnector" tabindex="-1"><a class="header-anchor" href="#describe-dataconnector" aria-hidden="true">#</a> Describe Dataconnector</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> CONNECTOR <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token punctuation">]</span> connector_name<span class="token punctuation">;</span>
</code></pre></div><p>Since Hive 4.0.0 via <a href="https://issues.apache.org/jira/browse/HIVE-24396" target="_blank" rel="noopener noreferrer">HIVE-24396</a></p><p>DESCRIBE CONNECTOR\u663E\u793A\u4E86\u8FDE\u63A5\u5668\u7684\u540D\u79F0\u3001\u5B83\u7684\u6CE8\u91CA(\u5982\u679C\u5DF2\u7ECF\u8BBE\u7F6E\u4E86\u6CE8\u91CA)\u3001\u5B83\u7684\u6570\u636E\u6E90URL\u548C\u6570\u636E\u6E90\u7C7B\u578B\u3002</p><p>EXTENDED\u8FD8\u663E\u793A\u4E86\u6570\u636E\u8FDE\u63A5\u5668\u7684\u5C5E\u6027\u3002\u4EFB\u4F55\u660E\u6587\u5BC6\u7801\u8BBE\u7F6E\u5C06\u4EE5\u660E\u6587\u5F62\u5F0F\u5448\u73B0\u3002</p><h3 id="describe-table-view-materialized-view-column" tabindex="-1"><a class="header-anchor" href="#describe-table-view-materialized-view-column" aria-hidden="true">#</a> Describe Table/View/Materialized View/Column</h3><p>\u6839\u636E\u662F\u5426\u6307\u5B9A\u6570\u636E\u5E93\uFF0C\u63CF\u8FF0\u8868/\u89C6\u56FE/\u7269\u5316\u89C6\u56FE/\u5217\u8BED\u6CD5\u6709\u4E24\u79CD\u683C\u5F0F\u3002</p><p>\u5982\u679C\u672A\u6307\u5B9A\u6570\u636E\u5E93\uFF0C\u5219\u53EF\u9009\u5217\u4FE1\u606F\u5728\u70B9\u53F7\u540E\u9762\u63D0\u4F9B\uFF1A</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token operator">|</span>FORMATTED<span class="token punctuation">]</span> 
  table_name<span class="token punctuation">[</span><span class="token punctuation">.</span>col_name <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>field_name<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$elem$&#39;</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$key$&#39;</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$value$&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
                                        <span class="token comment">-- (Note: Hive 1.x.x and 0.x.x only. See &quot;Hive 2.0+: New Syntax&quot; below)</span>
</code></pre></div><p>\u5982\u679C\u6307\u5B9A\u4E86\u6570\u636E\u5E93\uFF0C\u5219\u53EF\u9009\u5217\u4FE1\u606F\u5728\u7A7A\u683C\u540E\u63D0\u4F9B:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token operator">|</span>FORMATTED<span class="token punctuation">]</span> 
  <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name<span class="token punctuation">[</span> col_name <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>field_name<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$elem$&#39;</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$key$&#39;</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$value$&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
                                        <span class="token comment">-- (Note: Hive 1.x.x and 0.x.x only. See &quot;Hive 2.0+: New Syntax&quot; below)</span>
</code></pre></div><p><code>DESCRIBE</code>\u663E\u793A\u7ED9\u5B9A\u8868\u7684\u5206\u533A\u5217\u7684\u5217\u8868\u3002\u5982\u679C\u6307\u5B9A\u4E86EXTENDED\u5173\u952E\u5B57\uFF0C\u90A3\u4E48\u5B83\u5C06\u4EE5Thrift\u5E8F\u5217\u5316\u5F62\u5F0F\u663E\u793A\u8868\u7684\u6240\u6709\u5143\u6570\u636E\u3002\u8FD9\u901A\u5E38\u53EA\u5BF9\u8C03\u8BD5\u6709\u7528\uFF0C\u4E0D\u9002\u7528\u4E8E\u4E00\u822C\u7528\u9014\u3002\u5982\u679C\u6307\u5B9A\u4E86\u683C\u5F0F\u5316\u5173\u952E\u5B57\uFF0C\u5219\u5B83\u5C06\u4EE5\u8868\u683C\u5F62\u5F0F\u663E\u793A\u5143\u6570\u636E\u3002</p><p>\u6CE8\u610F:DESCRIBE EXTENDED\u4EC5\u5728\u6570\u636E\u52A0\u8F7D\u65F6\u6536\u96C6\u7EDF\u8BA1\u6570\u636E\u65F6\u663E\u793A\u884C\u6570(\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/StatsDev#StatsDev-NewlyCreatedTables" target="_blank" rel="noopener noreferrer">\u65B0\u521B\u5EFA\u7684\u8868</a>)\uFF0C\u5E76\u4E14\u5982\u679C\u4F7F\u7528Hive CLI\u800C\u4E0D\u662FThrift\u5BA2\u6237\u7AEF\u6216Beeline\u3002<a href="https://issues.apache.org/jira/browse/HIVE-6285" target="_blank" rel="noopener noreferrer">HIVE-6285</a>\u5C06\u89E3\u51B3\u6B64\u95EE\u9898\u3002\u867D\u7136ANALYZE TABLE\u5728\u6570\u636E\u52A0\u8F7D\u540E\u6536\u96C6\u7EDF\u8BA1\u4FE1\u606F(\u53C2\u89C1<a href="https://cwiki.apache.org/confluence/display/Hive/StatsDev#StatsDev-ExistingTables" target="_blank" rel="noopener noreferrer">Existing Tables</a>)\uFF0C\u4F46\u5B83\u76EE\u524D\u6CA1\u6709\u63D0\u4F9B\u5173\u4E8E\u884C\u6570\u7684\u4FE1\u606F\u3002</p><p>\u5982\u679C\u4E00\u4E2A\u8868\u6709\u4E00\u4E2A\u590D\u6742\u7684\u5217\uFF0C\u90A3\u4E48\u4F60\u53EF\u4EE5\u901A\u8FC7\u6307\u5B9Atable_name.complex_col_name(\u548Cfield_name\u7528\u4E8E\u7ED3\u6784\u5143\u7D20\uFF0C&#39;$elem$&#39;\u7528\u4E8E\u6570\u7EC4\u5143\u7D20\uFF0C&#39;$key$&#39;\u7528\u4E8E\u6620\u5C04\u952E\uFF0C&#39;$value$&#39;\u7528\u4E8E\u6620\u5C04\u503C)\u6765\u68C0\u67E5\u8FD9\u4E2A\u5217\u7684\u5C5E\u6027\u3002\u60A8\u53EF\u4EE5\u9012\u5F52\u5730\u6307\u5B9A\u5B83\u6765\u7814\u7A76\u590D\u6742\u7684\u5217\u7C7B\u578B\u3002</p><p>\u5BF9\u4E8E\u89C6\u56FE\uFF0C\u53EF\u4EE5\u4F7F\u7528DESCRIBE EXTENDED\u6216formatting\u6765\u68C0\u7D22\u89C6\u56FE\u7684\u5B9A\u4E49\u3002\u63D0\u4F9B\u4E86\u4E24\u4E2A\u76F8\u5173\u7684\u5C5E\u6027:\u7528\u6237\u6307\u5B9A\u7684\u539F\u59CB\u89C6\u56FE\u5B9A\u4E49\u548CHive\u5185\u90E8\u4F7F\u7528\u7684\u6269\u5C55\u5B9A\u4E49\u3002</p><p>\u5BF9\u4E8E\u7269\u5316\u89C6\u56FE\uFF0CDESCRIBE EXTENDED\u6216formatting\u63D0\u4F9B\u4E86\u5173\u4E8E\u662F\u5426\u542F\u7528\u91CD\u5199\u4EE5\u53CA\u7ED9\u5B9A\u7684\u7269\u5316\u89C6\u56FE\u662F\u5426\u88AB\u8BA4\u4E3A\u662F\u6700\u65B0\u7684\uFF0C\u4EE5\u4FBF\u5BF9\u5B83\u6240\u4F7F\u7528\u7684\u6E90\u8868\u4E2D\u7684\u6570\u636E\u8FDB\u884C\u81EA\u52A8\u91CD\u5199\u7684\u9644\u52A0\u4FE1\u606F\u3002</p>`,19),cc={class:"custom-container tip"},rc={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},ic=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),uc=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),dc=[ic,uc],kc=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F \u2014 partition & non-partition columns",-1),hc=n("p",null,"In Hive 0.10.0 and earlier, no distinction is made between partition columns and non-partition columns while displaying columns for DESCRIBE TABLE. From Hive 0.12.0 onwards, they are displayed separately.",-1),gc=n("p",null,[a("In Hive 0.13.0 and later, the configuration parameter "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.display.partition.cols.separately",target:"_blank",rel:"noopener noreferrer"},"hive.display.partition.cols.separately"),a(" lets you use the old behavior, if desired ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-6689",target:"_blank",rel:"noopener noreferrer"},"HIVE-6689"),a("). For an example, see the test case in the "),n("a",{href:"https://issues.apache.org/jira/secure/attachment/12635956/HIVE-6689.2.patch",target:"_blank",rel:"noopener noreferrer"},"patch for HIVE-6689"),a(".")],-1),_c={class:"custom-container tip"},mc={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Ec=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),wc=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),vc=[Ec,wc],fc=n("p",{class:"custom-container-title"},"Bug fixed in Hive 0.10.0 \u2014 database qualifiers",-1),Tc=n("p",null,[a("Database qualifiers for table names were introduced in Hive 0.7.0, but they were broken for DESCRIBE until a bug fix in Hive 0.10.0 ("),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-1977",target:"_blank",rel:"noopener noreferrer"},"HIVE-1977"),a(").")],-1),yc={class:"custom-container tip"},bc={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Sc=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Ac=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Rc=[Sc,Ac],Ic=t('<p class="custom-container-title">Bug fixed in Hive 0.13.0 \u2014 quoted identifiers</p><p>Prior to Hive 0.13.0 DESCRIBE did not accept backticks (`) surrounding table identifiers, so DESCRIBE could not be used for tables with names that matched reserved keywords (<a href="https://issues.apache.org/jira/browse/HIVE-2949" target="_blank" rel="noopener noreferrer">HIVE-2949</a> and <a href="https://issues.apache.org/jira/browse/HIVE-6187" target="_blank" rel="noopener noreferrer">HIVE-6187</a>). As of 0.13.0, all identifiers specified within backticks are treated literally when the configuration parameter <a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.support.quoted.identifiers" target="_blank" rel="noopener noreferrer">hive.support.quoted.identifiers</a> has its default value of &quot;<code>column</code>&quot; (<a href="https://issues.apache.org/jira/browse/HIVE-6013" target="_blank" rel="noopener noreferrer">HIVE-6013</a>). The only exception is that double backticks (``) represent a single backtick character.</p>',2),Hc=n("h4",{id:"display-column-statistics",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#display-column-statistics","aria-hidden":"true"},"#"),a(),n("strong",null,"Display Column Statistics")],-1),Oc={class:"custom-container tip"},Lc={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Dc=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Cc=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),xc=[Dc,Cc],Nc=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Mc=n("p",null,[a("As of Hive 0.14.0; see "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-7050",target:"_blank",rel:"noopener noreferrer"},"HIVE-7050"),a(" and "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-7051",target:"_blank",rel:"noopener noreferrer"},"HIVE-7051"),a(". (The FOR COLUMNS option of ANALYZE TABLE is available as of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-1362",target:"_blank",rel:"noopener noreferrer"},"Hive 0.10.0"),a(".)")],-1),qc=t(`<p>ANALYZE TABLE <em>table_name</em> COMPUTE STATISTICS FOR COLUMNS\u5C06\u8BA1\u7B97\u6307\u5B9A\u8868\u4E2D\u6240\u6709\u5217\u7684\u5217\u7EDF\u8BA1\u4FE1\u606F(\u5982\u679C\u8868\u5DF2\u5206\u533A\uFF0C\u5219\u4E3A\u6240\u6709\u5206\u533A)\u3002\u8981\u67E5\u770B\u6536\u96C6\u7684\u5217\u7EDF\u8BA1\u4FE1\u606F\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u8BED\u53E5:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> FORMATTED <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name column_name<span class="token punctuation">;</span>                              <span class="token comment">-- (Note: Hive 0.14.0 and later)</span>
<span class="token keyword">DESCRIBE</span> FORMATTED <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name column_name <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>partition_spec<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">-- (Note: Hive 0.14.0 to 1.x.x)</span>
                                                                                  <span class="token comment">-- (see &quot;Hive 2.0+: New Syntax&quot; below)</span>
</code></pre></div><p>\u6709\u5173ANALYZE TABLE\u547D\u4EE4\u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1 <a href="https://cwiki.apache.org/confluence/display/Hive/StatsDev#StatsDev-ExistingTables" target="_blank" rel="noopener noreferrer">Statistics in Hive: Existing Tables</a> \u3002</p><h3 id="describe-partition" tabindex="-1"><a class="header-anchor" href="#describe-partition" aria-hidden="true">#</a> Describe Partition</h3><p>\u6839\u636E\u662F\u5426\u6307\u5B9A\u6570\u636E\u5E93\uFF0C\u6709\u4E24\u79CD\u63CF\u8FF0\u5206\u533A\u8BED\u6CD5\u683C\u5F0F\u3002</p><p>\u5982\u679C\u672A\u6307\u5B9A\u6570\u636E\u5E93\uFF0C\u5219\u53EF\u9009\u5217\u4FE1\u606F\u5728\u70B9\u53F7\u540E\u9762\u63D0\u4F9B:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token operator">|</span>FORMATTED<span class="token punctuation">]</span> table_name<span class="token punctuation">[</span><span class="token punctuation">.</span>column_name<span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">;</span>
                                        <span class="token comment">-- (Note: Hive 1.x.x and 0.x.x only. See &quot;Hive 2.0+: New Syntax&quot; below)</span>
</code></pre></div><p>\u5982\u679C\u6307\u5B9A\u4E86\u6570\u636E\u5E93\uFF0C\u5219\u53EF\u9009\u5217\u4FE1\u606F\u5728\u7A7A\u683C\u540E\u63D0\u4F9B:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span><span class="token operator">|</span>FORMATTED<span class="token punctuation">]</span> <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name <span class="token punctuation">[</span>column_name<span class="token punctuation">]</span> <span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">;</span>
                                        <span class="token comment">-- (Note: Hive 1.x.x and 0.x.x only. See &quot;Hive 2.0+: New Syntax&quot; below)</span>
</code></pre></div><p>\u8BE5\u8BED\u53E5\u5217\u51FA\u7ED9\u5B9A\u5206\u533A\u7684\u5143\u6570\u636E\u3002\u8F93\u51FA\u4E0Edescription table_name\u7C7B\u4F3C\u3002\u76EE\u524D\uFF0C\u5728\u51C6\u5907\u8BA1\u5212\u65F6\u4E0D\u4F7F\u7528\u4E0E\u7279\u5B9A\u5206\u533A\u5173\u8054\u7684\u5217\u4FE1\u606F\u3002\u4ECEHive 1.2\u5F00\u59CB(<a href="https://issues.apache.org/jira/browse/HIVE-10307" target="_blank" rel="noopener noreferrer">Hive -10307</a>)\uFF0C\u5F53 <a href="https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.typecheck.on.insert" target="_blank" rel="noopener noreferrer">hive.typecheck.on.insert</a> (\u88AB\u8BBE\u7F6E\u4E3Atrue(\u9ED8\u8BA4\u4E3Atrue)\u65F6\uFF0C<em>partition_spec</em>\u4E2D\u6307\u5B9A\u7684\u5206\u533A\u5217\u503C\u5C06\u88AB\u7C7B\u578B\u9A8C\u8BC1\uFF0C\u8F6C\u6362\u5E76\u5F52\u4E00\u5316\u4E3A\u5B83\u4EEC\u7684\u5217\u7C7B\u578B</p><p><strong>Example:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code>hive<span class="token operator">&gt;</span> <span class="token keyword">show</span> partitions part_table<span class="token punctuation">;</span>
OK
d<span class="token operator">=</span>abc
 
 
hive<span class="token operator">&gt;</span> <span class="token keyword">DESCRIBE</span> <span class="token keyword">extended</span> part_table <span class="token keyword">partition</span> <span class="token punctuation">(</span>d<span class="token operator">=</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
OK
i                       <span class="token keyword">int</span>                                        
d                       string                                     
                  
<span class="token comment"># Partition Information         </span>
<span class="token comment"># col_name              data_type               comment            </span>
                  
d                       string                                     
                  
Detailed <span class="token keyword">Partition</span> Information  <span class="token keyword">Partition</span><span class="token punctuation">(</span><span class="token keyword">values</span>:<span class="token punctuation">[</span>abc<span class="token punctuation">]</span><span class="token punctuation">,</span> dbName:<span class="token keyword">default</span><span class="token punctuation">,</span> tableName:part_table<span class="token punctuation">,</span> createTime:<span class="token number">1459382234</span><span class="token punctuation">,</span> lastAccessTime:<span class="token number">0</span><span class="token punctuation">,</span> sd:StorageDescriptor<span class="token punctuation">(</span>cols:<span class="token punctuation">[</span>FieldSchema<span class="token punctuation">(</span>name:i<span class="token punctuation">,</span> <span class="token keyword">type</span>:<span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">comment</span>:<span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FieldSchema<span class="token punctuation">(</span>name:d<span class="token punctuation">,</span> <span class="token keyword">type</span>:string<span class="token punctuation">,</span> <span class="token keyword">comment</span>:<span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> location:<span class="token keyword">file</span>:<span class="token operator">/</span>tmp<span class="token operator">/</span>warehouse<span class="token operator">/</span>part_table<span class="token operator">/</span>d<span class="token operator">=</span>abc<span class="token punctuation">,</span> inputFormat:org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapred<span class="token punctuation">.</span>TextInputFormat<span class="token punctuation">,</span> outputFormat:org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>ql<span class="token punctuation">.</span>io<span class="token punctuation">.</span>HiveIgnoreKeyTextOutputFormat<span class="token punctuation">,</span> compressed:<span class="token boolean">false</span><span class="token punctuation">,</span> numBuckets:<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> serdeInfo:SerDeInfo<span class="token punctuation">(</span>name:<span class="token boolean">null</span><span class="token punctuation">,</span> serializationLib:org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>serde2<span class="token punctuation">.</span>lazy<span class="token punctuation">.</span>LazySimpleSerDe<span class="token punctuation">,</span> parameters:{serialization<span class="token punctuation">.</span>format<span class="token operator">=</span><span class="token number">1</span>}<span class="token punctuation">)</span><span class="token punctuation">,</span> bucketCols:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sortCols:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parameters:{}<span class="token punctuation">,</span> skewedInfo:SkewedInfo<span class="token punctuation">(</span>skewedColNames:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> skewedColValues:<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> skewedColValueLocationMaps:{}<span class="token punctuation">)</span><span class="token punctuation">,</span> storedAsSubDirectories:<span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span> parameters:{numFiles<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> COLUMN_STATS_ACCURATE<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> transient_lastDdlTime<span class="token operator">=</span><span class="token number">1459382234</span><span class="token punctuation">,</span> numRows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> totalSize<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> rawDataSize<span class="token operator">=</span><span class="token number">1</span>}<span class="token punctuation">)</span>  
<span class="token keyword">Time</span> taken: <span class="token number">0.325</span> seconds<span class="token punctuation">,</span> Fetched: <span class="token number">9</span> <span class="token keyword">row</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
 
 
hive<span class="token operator">&gt;</span> <span class="token keyword">DESCRIBE</span> formatted part_table <span class="token keyword">partition</span> <span class="token punctuation">(</span>d<span class="token operator">=</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
OK
<span class="token comment"># col_name              data_type               comment            </span>
                  
i                       <span class="token keyword">int</span>                                        
                  
<span class="token comment"># Partition Information         </span>
<span class="token comment"># col_name              data_type               comment            </span>
                  
d                       string                                     
                  
<span class="token comment"># Detailed Partition Information                </span>
<span class="token keyword">Partition</span> <span class="token keyword">Value</span>:        <span class="token punctuation">[</span>abc<span class="token punctuation">]</span>                   
<span class="token keyword">Database</span>:               <span class="token keyword">default</span>                 
<span class="token keyword">Table</span>:                  part_table              
CreateTime:             Wed Mar <span class="token number">30</span> <span class="token number">16</span>:<span class="token number">57</span>:<span class="token number">14</span> PDT <span class="token number">2016</span>    
LastAccessTime:         UNKNOWN                 
Protect <span class="token keyword">Mode</span>:           None                    
Location:               <span class="token keyword">file</span>:<span class="token operator">/</span>tmp<span class="token operator">/</span>warehouse<span class="token operator">/</span>part_table<span class="token operator">/</span>d<span class="token operator">=</span>abc    
<span class="token keyword">Partition</span> Parameters:           
        COLUMN_STATS_ACCURATE   <span class="token boolean">true</span>               
        numFiles                <span class="token number">1</span>                  
        numRows                 <span class="token number">1</span>                  
        rawDataSize             <span class="token number">1</span>                  
        totalSize               <span class="token number">2</span>                  
        transient_lastDdlTime   <span class="token number">1459382234</span>         
                  
<span class="token comment"># Storage Information           </span>
SerDe Library:          org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>serde2<span class="token punctuation">.</span>lazy<span class="token punctuation">.</span>LazySimpleSerDe      
InputFormat:            org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapred<span class="token punctuation">.</span>TextInputFormat        
OutputFormat:           org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>ql<span class="token punctuation">.</span>io<span class="token punctuation">.</span>HiveIgnoreKeyTextOutputFormat      
Compressed:             <span class="token keyword">No</span>                      
Num Buckets:            <span class="token operator">-</span><span class="token number">1</span>                      
Bucket <span class="token keyword">Columns</span>:         <span class="token punctuation">[</span><span class="token punctuation">]</span>                      
Sort <span class="token keyword">Columns</span>:           <span class="token punctuation">[</span><span class="token punctuation">]</span>                      
Storage <span class="token keyword">Desc</span> Params:            
        serialization<span class="token punctuation">.</span>format    <span class="token number">1</span>                  
<span class="token keyword">Time</span> taken: <span class="token number">0.334</span> seconds<span class="token punctuation">,</span> Fetched: <span class="token number">35</span> <span class="token keyword">row</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</code></pre></div><h3 id="hive-2-0-syntax-change" tabindex="-1"><a class="header-anchor" href="#hive-2-0-syntax-change" aria-hidden="true">#</a> Hive 2.0+: Syntax Change</h3>`,13),Pc={class:"custom-container tip"},Bc={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Vc=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Uc=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Zc=[Vc,Uc],Fc=n("p",{class:"custom-container-title"},"Hive 2.0+: New syntax",-1),zc=n("p",null,[a("In Hive 2.0 release onward, the describe table command has a syntax change which is backward incompatible. See "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-12184",target:"_blank",rel:"noopener noreferrer"},"HIVE-12184"),a(" for details.")],-1),Wc=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> <span class="token punctuation">[</span><span class="token keyword">EXTENDED</span> <span class="token operator">|</span> FORMATTED<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>db_name<span class="token punctuation">.</span><span class="token punctuation">]</span>table_name <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> partition_spec<span class="token punctuation">]</span> <span class="token punctuation">[</span>col_name <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>field_name<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$elem$&#39;</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$key$&#39;</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token string">&#39;$value$&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>\u8B66\u544A:\u65B0\u8BED\u6CD5\u53EF\u80FD\u4F1A\u7834\u574F\u5F53\u524D\u811A\u672C\uFF1A</p><ul><li><p>\u4E0D\u518D\u63A5\u53D7DOT\u5206\u79BB\u7684table_name\u548Ccolumn_name\u3002\u5B83\u4EEC\u5FC5\u987B\u88AB\u7A7A\u683C\u5206\u9694\u5F00\u3002DB\u548CTABLENAME\u7528\u70B9\u5206\u9694\u3002column_name\u4ECD\u7136\u53EF\u4EE5\u5305\u542B\u590D\u6742\u6570\u636E\u7C7B\u578B\u7684DOTs\u3002</p><p>\u53EF\u9009\u7684partition_spec\u5FC5\u987B\u51FA\u73B0\u5728table_name\u4E4B\u540E\uFF0C\u4F46\u5728\u53EF\u9009\u7684column_name\u4E4B\u524D\u3002\u5728\u524D\u9762\u7684\u8BED\u6CD5\u4E2D\uFF0Ccolumn_name\u51FA\u73B0\u5728table_name\u548Cpartition_spec\u4E4B\u95F4\u3002</p></li></ul><p><strong>Examples:</strong></p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">DESCRIBE</span> FORMATTED <span class="token keyword">default</span><span class="token punctuation">.</span>src_table <span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>part_col <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span> columnA<span class="token punctuation">;</span>
<span class="token keyword">DESCRIBE</span> <span class="token keyword">default</span><span class="token punctuation">.</span>src_thrift lintString<span class="token punctuation">.</span>$elem$<span class="token punctuation">.</span>myint<span class="token punctuation">;</span>
</code></pre></div><h2 id="abort" tabindex="-1"><a class="header-anchor" href="#abort" aria-hidden="true">#</a> Abort</h2><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AbortTransactions" target="_blank" rel="noopener noreferrer">Abort Transactions</a></li></ul><h3 id="abort-transactions" tabindex="-1"><a class="header-anchor" href="#abort-transactions" aria-hidden="true">#</a> Abort Transactions</h3>`,8),jc={class:"custom-container tip"},Gc={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},Yc=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Xc=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),Kc=[Yc,Xc],Qc=n("p",{class:"custom-container-title"},"\u7248\u672C\u4FE1\u606F",-1),Jc=n("p",null,[a("As of "),n("a",{href:"https://issues.apache.org/jira/browse/HIVE-12634",target:"_blank",rel:"noopener noreferrer"},"Hive 1.3.0 and 2.1.0"),a(" (see "),n("a",{href:"https://cwiki.apache.org/confluence/display/Hive/Hive+Transactions#HiveTransactions-BasicDesign",target:"_blank",rel:"noopener noreferrer"},"Hive Transactions"),a(").")],-1),$c=t(`<div class="language-sql ext-sql"><pre class="language-sql"><code>ABORT <span class="token keyword">TRANSACTIONS</span> transactionID <span class="token punctuation">[</span> transactionID <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>ABORT TRANSACTIONS\u4ECEHive metastore\u4E2D\u6E05\u9664\u6307\u5B9A\u7684\u4E8B\u52A1id\uFF0C\u8FD9\u6837\u7528\u6237\u5C31\u4E0D\u9700\u8981\u76F4\u63A5\u4E0Emetastore\u4EA4\u4E92\u6765\u5220\u9664\u60AC\u7A7A\u6216\u5931\u8D25\u7684\u4E8B\u52A1\u3002\u5728Hive 1.3.0\u548C2.1.0 (<a href="https://issues.apache.org/jira/browse/HIVE-12634" target="_blank" rel="noopener noreferrer">Hive -12634</a>)\u4E2D\u589E\u52A0\u4E86ABORT TRANSACTIONS\u3002</p><p><strong>Example:</strong></p><div class="language-text ext-text"><pre class="language-text"><code>ABORT TRANSACTIONS 0000007 0000008 0000010 0000015;
</code></pre></div><p>\u8BE5\u547D\u4EE4\u53EF\u4E0E<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-ShowTransactions" target="_blank" rel="noopener noreferrer">SHOW TRANSACTIONS</a>\u914D\u5408\u4F7F\u7528\u3002\u540E\u8005\u53EF\u4EE5\u5E2E\u52A9\u786E\u5B9A\u8981\u6E05\u7406\u7684\u5019\u9009\u4E8B\u52A1id\u3002</p><h1 id="scheduled-queries" tabindex="-1"><a class="header-anchor" href="#scheduled-queries" aria-hidden="true">#</a> Scheduled queries</h1><p>\u6587\u6863\u53EF\u5728 <a href="https://cwiki.apache.org/confluence/display/Hive/Scheduled+Queries" target="_blank" rel="noopener noreferrer">Scheduled Queries</a> \u9875\u9762\u4E0A\u83B7\u5F97\u3002</p><h1 id="datasketches-integration" tabindex="-1"><a class="header-anchor" href="#datasketches-integration" aria-hidden="true">#</a> Datasketches integration</h1><p>\u6587\u6863\u53EF\u5728 <a href="https://cwiki.apache.org/confluence/display/Hive/Datasketches+Integration" target="_blank" rel="noopener noreferrer">Datasketches Integration</a> \u9875\u9762\u4E0A\u83B7\u5F97\u3002</p><h1 id="hcatalog-and-webhcat-ddl" tabindex="-1"><a class="header-anchor" href="#hcatalog-and-webhcat-ddl" aria-hidden="true">#</a> HCatalog and WebHCat DDL</h1><p>\u6709\u5173HCatalog\u548CWebHCat\u4E2DDDL\u7684\u4FE1\u606F\uFF0C\u8BF7\u53C2\u89C1:</p><ul><li><a href="https://cwiki.apache.org/confluence/display/Hive/HCatalog+CLI#HCatalogCLI-HCatalogDDL" target="_blank" rel="noopener noreferrer">HCatalog DDL</a> in the <a href="https://cwiki.apache.org/confluence/display/Hive/HCatalog" target="_blank" rel="noopener noreferrer">HCatalog manual</a></li><li><a href="https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference+AllDDL" target="_blank" rel="noopener noreferrer">WebHCat DDL Resources</a> in the <a href="https://cwiki.apache.org/confluence/display/Hive/WebHCat" target="_blank" rel="noopener noreferrer">WebHCat manual</a></li></ul>`,12);function nr(ar,sr){return s(),e("div",null,[l,n("div",c,[(s(),e("svg",r,d)),k,h]),g,n("div",_,[(s(),e("svg",m,v)),f,T]),y,n("div",b,[(s(),e("svg",S,I)),H]),O,n("div",L,[(s(),e("svg",D,N)),M,q]),P,n("div",B,[(s(),e("svg",V,F)),z,W,j]),G,n("div",Y,[(s(),e("svg",X,J)),$,nn]),an,n("div",sn,[(s(),e("svg",en,pn)),ln,cn]),rn,n("div",un,[(s(),e("svg",dn,gn)),_n,mn]),En,n("div",wn,[(s(),e("svg",vn,yn)),bn,Sn]),An,n("div",Rn,[(s(),e("svg",In,Ln)),Dn,Cn]),xn,n("div",Nn,[(s(),e("svg",Mn,Bn)),Vn,Un]),Zn,n("div",Fn,[(s(),e("svg",zn,Gn)),Yn,Xn]),Kn,n("div",Qn,[(s(),e("svg",Jn,aa)),sa,ea]),ta,n("div",oa,[(s(),e("svg",pa,ra)),ia,ua]),da,n("div",ka,[(s(),e("svg",ha,ma)),Ea,wa]),va,n("div",fa,[(s(),e("svg",Ta,Sa)),Aa,Ra]),Ia,Ha,Oa,La,n("div",Da,[(s(),e("svg",Ca,Ma)),qa,Pa]),Ba,n("div",Va,[(s(),e("svg",Ua,za)),Wa,ja]),Ga,n("div",Ya,[(s(),e("svg",Xa,Ja)),$a,ns]),as,n("div",ss,[(s(),e("svg",es,ps)),ls,cs]),rs,n("div",is,[(s(),e("svg",us,hs)),gs,_s]),ms,n("div",Es,[(s(),e("svg",ws,Ts)),ys,bs]),Ss,n("div",As,[(s(),e("svg",Rs,Os)),Ls,Ds,Cs]),xs,n("div",Ns,[(s(),e("svg",Ms,Bs)),Vs,Us]),Zs,n("div",Fs,[(s(),e("svg",zs,Gs)),Ys,Xs]),Ks,n("div",Qs,[(s(),e("svg",Js,ae)),se,ee]),te,n("div",oe,[(s(),e("svg",pe,re)),ie,ue]),de,n("div",ke,[(s(),e("svg",he,me)),Ee,we]),ve,n("div",fe,[(s(),e("svg",Te,Se)),Ae,Re]),Ie,n("div",He,[(s(),e("svg",Oe,Ce)),xe]),Ne,n("div",Me,[(s(),e("svg",qe,Ve)),Ue]),Ze,n("div",Fe,[(s(),e("svg",ze,Ge)),Ye,Xe]),Ke,n("div",Qe,[(s(),e("svg",Je,at)),st,et]),tt,n("div",ot,[(s(),e("svg",pt,rt)),it,ut,dt,kt]),ht,n("div",gt,[(s(),e("svg",_t,wt)),vt,ft]),n("div",Tt,[(s(),e("svg",yt,At)),Rt,It]),Ht,n("div",Ot,[(s(),e("svg",Lt,xt)),Nt,Mt]),n("div",qt,[(s(),e("svg",Pt,Ut)),Zt,Ft]),zt,n("div",Wt,[(s(),e("svg",jt,Xt)),Kt,Qt]),Jt,n("div",$t,[(s(),e("svg",no,eo)),to,oo]),po,n("div",lo,[(s(),e("svg",co,uo)),ko,ho]),go,n("div",_o,[(s(),e("svg",mo,vo)),fo,To]),yo,n("div",bo,[(s(),e("svg",So,Io)),Ho]),Oo,n("div",Lo,[(s(),e("svg",Do,No)),Mo,qo]),Po,n("div",Bo,[(s(),e("svg",Vo,Fo)),zo,Wo]),jo,n("div",Go,[(s(),e("svg",Yo,Qo)),Jo,$o]),np,n("div",ap,[(s(),e("svg",sp,op)),pp,lp]),cp,n("div",rp,[(s(),e("svg",ip,kp)),hp,gp]),_p,n("div",mp,[(s(),e("svg",Ep,fp)),Tp,yp,bp]),Sp,n("div",Ap,[(s(),e("svg",Rp,Op)),Lp,Dp]),Cp,n("div",xp,[(s(),e("svg",Np,Pp)),Bp,Vp]),Up,n("div",Zp,[(s(),e("svg",Fp,jp)),Gp,Yp]),Xp,n("div",Kp,[(s(),e("svg",Qp,nl)),al,sl]),el,n("div",tl,[(s(),e("svg",ol,cl)),rl,il,ul]),dl,n("div",kl,[(s(),e("svg",hl,ml)),El,wl]),vl,n("div",fl,[(s(),e("svg",Tl,Sl)),Al,Rl,Il]),Hl,n("div",Ol,[(s(),e("svg",Ll,xl)),Nl,Ml]),ql,n("div",Pl,[(s(),e("svg",Bl,Zl)),Fl,zl]),Wl,n("div",jl,[(s(),e("svg",Gl,Kl)),Ql,Jl]),$l,n("div",nc,[(s(),e("svg",ac,tc)),oc,pc]),lc,n("div",cc,[(s(),e("svg",rc,dc)),kc,hc,gc]),n("div",_c,[(s(),e("svg",mc,vc)),fc,Tc]),n("div",yc,[(s(),e("svg",bc,Rc)),Ic]),Hc,n("div",Oc,[(s(),e("svg",Lc,xc)),Nc,Mc]),qc,n("div",Pc,[(s(),e("svg",Bc,Zc)),Fc,zc]),Wc,n("div",jc,[(s(),e("svg",Gc,Kc)),Qc,Jc]),$c])}var tr=o(p,[["render",nr],["__file","index.html.vue"]]);export{tr as default};
